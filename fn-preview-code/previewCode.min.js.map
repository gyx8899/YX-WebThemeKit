{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./fn-preview-code/previewCode.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","window","__WEBPACK_AMD_DEFINE_ARRAY__","undefined","__WEBPACK_AMD_DEFINE_RESULT__","__WEBPACK_AMD_DEFINE_FACTORY__","YX","PreviewCode","elements","options","this","Util","tool","deepExtend","DEFAULTS","that","urls","highlight","css","js","concat","others","load","loadResources","_init","addPreviewCode","positionInfo","codeString","demoTitle","codeContent","str","strArray","split","beginIndex","getFirstNonSpaceValueIndex","resultStr","newStrArray","reverseStrArray","slice","reverse","endIndex","length","commonPreSpace","exec","j","replace","join","trimPrevSpace","string","escapeHTML","codeElement","document","createElement","previewTitle","preCode","className","isNotCode","parentElement","innerHTML","isCollapsed","element","addClass","selector","previewCodeElement","addElement","position","querySelector","addEventListener","toggleClass","hljs","highlightBlock","highlightCode","array","test","initHighlight","configure","tabReplace","getElements","querySelectorAll","forEach","getAttribute","setAttribute","tagStr","tagStrArray1","dataTargetValue","targetElement","previewPosition","previewFetch","previewHTML","cloneNode","elementHTML","dataset","outerHTML","getPreviewElementHTML","elementTag","tagName","toLowerCase","href","url","getFileNameFromURL","src","getPreviewTitle","elementLink","filter","t","indexOf","getFileContent","data","baseName","previewElementCode","apply","pluginName","initPlugin","scripts","hasUrlParamInitAuto","dataInitAutoElements","query","queryParams","location","search","substring","queryParam","getUrlQueryParams","getElementsByTagName","currentScript","readyState"],"mappings":"aACA,IAAAA,KAGA,SAAAC,EAAAC,GAGA,GAAAF,EAAAE,GACA,OAAAF,EAAAE,GAAAC,QAGA,IAAAC,EAAAJ,EAAAE,IACAG,EAAAH,EACAI,GAAA,EACAH,YAUA,OANAI,EAAAL,GAAAM,KAAAJ,EAAAD,QAAAC,IAAAD,QAAAF,GAGAG,EAAAE,GAAA,EAGAF,EAAAD,QAKAF,EAAAQ,EAAAF,EAGAN,EAAAS,EAAAV,EAGAC,EAAAU,EAAA,SAAAR,EAAAS,EAAAC,GACAZ,EAAAa,EAAAX,EAAAS,IACAG,OAAAC,eAAAb,EAAAS,GACAK,cAAA,EACAC,YAAA,EACAC,IAAAN,KAMAZ,EAAAmB,EAAA,SAAAjB,GACAY,OAAAC,eAAAb,EAAA,cAAiDkB,OAAA,KAIjDpB,EAAAqB,EAAA,SAAAlB,GACA,IAAAS,EAAAT,KAAAmB,WACA,WAA2B,OAAAnB,EAAA,SAC3B,WAAiC,OAAAA,GAEjC,OADAH,EAAAU,EAAAE,EAAA,IAAAA,GACAA,GAIAZ,EAAAa,EAAA,SAAAU,EAAAC,GAAsD,OAAAV,OAAAW,UAAAC,eAAAnB,KAAAgB,EAAAC,IAGtDxB,EAAA2B,EAAA,GAIA3B,IAAA4B,EAAA,uFCjBEC,OAdAC,UAAAC,KAAAC,EAAA,mBAAAC,EAcQ,SAAUC,GACnB,IAEIC,EAAc,SAAdA,EAAwBC,EAAUC,GACrCC,KAAKD,QAAUH,EAAGK,KAAKC,KAAKC,cAAeN,EAAYO,SAAUL,GAEjE,IAAIM,EAAOL,KACTM,GAAQD,EAAKN,QAAQQ,UAAUC,IAAKH,EAAKN,QAAQQ,UAAUE,IAAIC,OAAOL,EAAKN,QAAQQ,UAAUI,QAC/Ff,EAAGK,KAAKW,KAAKC,cAAcP,EAAM,WAChCD,EAAKS,MAAMhB,MAyFb,SAASiB,EAAeC,EAAcC,EAAYC,GAEjD,IAAIC,EAkGL,SAAuBC,GAEtB,IAAIC,EAAWD,EAAIE,MAAM,MACvBC,EAAaC,EAA2BH,GACxCI,EAAY,GACd,IAAoB,IAAhBF,EACJ,CAKC,IAJA,IAAIG,KACFC,EAAkBN,EAASO,MAAM,GAAGC,UACpCC,EAAWT,EAASU,OAASP,EAA2BG,GACxDK,EAAiB,UAAUC,KAAKZ,EAASE,IAAa,GAC/CzD,EAAIyD,EAAYW,EAAI,EAAGpE,EAAIgE,EAAUhE,IAE7C4D,EAAYQ,KAAOb,EAASvD,GAAGqE,QAAQH,EAAgB,IAExDP,EAAYC,EAAYU,KAAK,MAE9B,OAAOX,EAnHWY,CAAczC,EAAGK,KAAKqC,OAAOC,WAAWtB,IACxDuB,EAAcC,SAASC,cAAc,OACrCC,EAA6B,KAAdzB,EAAmB,GAChC,oCACWA,EAAY,sZAGzB0B,EAAU,cAAgBzB,EAAc,gBAC1CqB,EAAYK,UAAY,eACpB7B,EAAa8B,YAEhBF,EAAU,QAAU5B,EAAa+B,cAAcC,UAAY,UAE5DR,EAAYQ,UAAYL,EAAeC,EAEnC5B,EAAaiC,aAEhBrD,EAAGK,KAAKiD,QAAQC,SAASX,EAAa,YAGvC,IA+GuBO,EAAeK,EA/GlCC,EAAqBzD,EAAGK,KAAKiD,QAAQI,WAAWtC,EAAa+B,cAAeP,EAAaxB,EAAauC,UAC5F,KAAdrC,IA8GsCkC,EA9GiB,kBA8GhCL,EA9GYM,GAgHrBG,cAAcJ,GAAUK,iBAAiB,QAAS,WAC/D7D,EAAGK,KAAKiD,QAAQQ,YAAYX,EAAe,eAjM7C,SAAuBP,GAEtB,IAAII,EAAUJ,EAAYgB,cAAc,YACxCZ,GAAWe,KAAKC,eAAehB,GA8E/BiB,CAAcR,GAgGf,SAAS7B,EAA2BsC,GAEnC,IAAK,IAAIhG,EAAI,EAAGC,EAAI+F,EAAM/B,OAAQjE,EAAIC,EAAGD,IAGxC,IAAoC,IAAhC,aAAaiG,KAAKD,EAAMhG,KAA8B,KAAbgG,EAAMhG,GAElD,OAAOA,EAGT,OAAQ,EAUT,OAjOA+B,EAAYO,UACXG,WACCC,IAAK,2EACLC,GAAI,wEACJE,WAEDqD,cAgBD,WAECL,KAAKM,WAAWC,WAAY,SAf7BrE,EAAYV,UAAU2B,MAAQ,SAAUhB,GACvCE,KAAKD,QAAQiE,gBACMpE,EAAGK,KAAKiD,QAAQiB,YAAYrE,GAAY2C,SAAS2B,iBAAiB,gCACxEC,QAAQ,SAAUnB,GAxBf,gBAyBXA,EAAQoB,aAAa,sBAExBpB,EAAQqB,aAAa,mBA3BP,eA+CjB,SAA4BrB,GAE3B,IA2E0BsB,EAEtBC,EA7EAC,EAAkBxB,EAAQoB,aAAa,eACzCK,EAAiBD,EAA4BjC,SAASe,cAAckB,GAAjCxB,EACnC0B,EAAoBF,GAAoBxB,EAAQoB,aAAa,iBAAiCpB,EAAQoB,aAAa,kBAAoB,SAAtD,UACjFO,EAAe3B,EAAQoB,aAAa,cACpCQ,EAyHH,SAA+B5B,GAE9B,IAAIG,EAAqBH,EAAQ6B,WAAU,GACzCC,EAAc,GAiBhB,MAfoD,SAAhD3B,EAAmBiB,aAAa,oBAE5BjB,EAAmB4B,QAAnB,cACA5B,EAAmB4B,QAAnB,cACA5B,EAAmB4B,QAAnB,aACA5B,EAAmB4B,QAAnB,gBACA5B,EAAmB4B,QAAnB,aACA5B,EAAmB4B,QAAnB,gBACA5B,EAAmB4B,QAAnB,IACPD,EAAc3B,EAAmB6B,WAIjCF,EAAc3B,EAAmBL,UAE3BgC,EA7ISG,CAAsBjC,GACpCP,EAoFH,SAAyBO,GAExB,IAAIP,EAAeO,EAAQoB,aAAa,cACxC,GAAqB,UAAjB3B,EAEHA,EAAe,QAEX,IAAKA,EACV,CACC,IAAIyC,EAAalC,EAAQmC,QAAQC,cACjC,GAAmB,UAAfF,GAAyC,SAAfA,EAC9B,CACCzC,EAAe,MACf,IAAI4C,EAAOrC,EAAQoB,aAAa,QACb,SAAfc,GAAkC,OAATG,IAE5B5C,EAAe/C,EAAGK,KAAKuF,IAAIC,mBAAmBF,GAAMlH,WAGjD,GAAmB,WAAf+G,EACT,CACCzC,EAAe,KACf,IAAI+C,EAAMxC,EAAQoB,aAAa,OACnB,OAARoB,IAEH/C,EAAe/C,EAAGK,KAAKuF,IAAIC,mBAAmBC,GAAKrH,WAKpDsE,EAAe,OAGjB,OAAOA,EArHUgD,CAAgBzC,GAC/BkC,EAAalC,EAAQmC,QAAQC,cAC7BM,EAAc,GACK,SAAjBf,EAEgB,WAAfO,EAEHQ,EAAc1C,EAAQwC,IAEC,SAAfN,EAERQ,EAAc1C,EAAQqC,KAEdrC,EAAQoB,aAAa,cAE7BsB,EAAc1C,EAAQoB,aAAa,cAKhB,WAAfc,GAA2BlC,EAAQwC,KAAwB,SAAfN,GAAyBlC,EAAQqC,QAkDzDf,EAhDQtB,EAAQgC,UAkDtCT,EAAeD,EAAOlD,MAAM,KAlD9BwD,EAmDEL,EAAa1C,OAAS,EAElByC,GAEUC,EAAa,GAAGnD,MAAM,KAAKuE,OAAO,SAAUC,GAC7D,OAAgC,IAAxBA,EAAEC,QAAQ,WAChB3D,KAAK,MAEa1B,OAAO+D,EAAa7C,MAAM,IAAIQ,KAAK,MAxDxD,IAAIpB,GACH+B,cAAe4B,EACfpB,SAAUqB,EACV3B,YAAuD,OAA1CC,EAAQoB,aAAa,iBAClCxB,UAAmD,UAAxCI,EAAQoB,aAAa,gBAE7BsB,EAEHhG,EAAGK,KAAKW,KAAKoF,eAAeJ,EAAa,SAAUK,GAClDlF,EAAeC,EAAciF,EAAMrG,EAAGK,KAAKuF,IAAIC,mBAAmBG,GAAaM,WAC7E,MAIHnF,EAAeC,EAAc8D,EAAanC,GAjEzCwD,CAAmBjD,OAiNfrD,IA5PNF,EAAAyG,MAAAxI,EAAA4B,GAAAG,KAAA9B,EAAAD,QAAA8B,GAkQF,WAqCC,IAAwB2G,EAAYC,EAT/BC,EAWAC,EACAC,EAHmBJ,EAkBT,cAlBqBC,EAkBN,SAACxG,GAAD,OAAc,IAAID,YAAYC,IAhBvD0G,EAA2E,SAjChF,SAA2BhB,GAK1B,IAHA,IAAIkB,KAEFC,GADYnB,GAA6B,IAAtBA,EAAIO,QAAQ,KAAcP,EAAIlE,MAAM,KAAK,GAAK,GAAM/B,OAAOqH,SAASC,OAAOC,UAAU,IAChFxF,MAAM,KACvBxD,EAAI,EAAGA,EAAI6I,EAAY5E,OAAQjE,IACxC,CACC,IAAIiJ,EAAaJ,EAAY7I,GAAGwD,MAAM,KAClCyF,EAAWhF,OAAS,IAEvB2E,EAAMK,EAAW,IAAMA,EAAW,IAGpC,OAAOL,EAoBmBM,EAXtBT,EAAU9D,SAASwE,qBAAqB,WACpCxE,SAASyE,eAAiBX,EAAQA,EAAQxE,OAAS,IAAI2D,MAUrC,KACtBe,EAAuBhE,SAAS2B,iBAAiB,iBAAmBiC,EAAa,wBAEjFG,GAAuBC,EAAqB1E,SAEnB,aAAxBU,SAAS0E,WAEZ5H,OAAOkE,iBAAiB,OAAQ,kBAAM6C,EAAWG,KAIjDH,EAAWG,IAlDf","file":"previewCode.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","/**\n * PreviewCode Plugin v3.0.6.180717_beta\n *\n * Setting in html tag:\n * 1. Required:\n * 1.1 data-toggle=\"previewCode\"\n *\n * 2. Optional:\n * 2.0 data-target=\"#[targetId]\" // default with not set, and it will be current element. or element querySelector, append preview code to target element)\n * 2.1 data-title=\"titleAboveCode\" // \"false\" will not show title\n * 2.2 data-position=\"append\"(default), \"prepend\", \"insertBefore\", \"insertAfter\"\n * 2.3 data-fetch=\"file\" //Available for <script>-src and <link>-href, fetch file content; (default not fetch file)\n * 2.4 data-src=\"url\" // set url to load script/style in current element\n * 2.5 data-collapse=\"on\" // set collapse on, default collapse off\n * 2.6 data-tag=\"show\" // show the wrapper tag, default not show (For data-fetch not set)\n * 2.7 data-init=\"auto\" // auto init when page load without special init function\n * 2.8 data-isCode=\"false\" // support: not escape html\n *\n * Support: Any html tag, especially support <link> with href, <script> with src;\n *\n * Dependency:\n * 1. highlight, https://highlightjs.org/\n * 2. common.js, for loading resource file (https://gyx8899.github.io/YX-JS-ToolKit/assets/js/common.js)\n *  2.1 loadResources\n *  2.2 getFileNameFromURL\n *  2.3 deepExtend\n *  2.4 escapeHTML\n *  2.5 getFileContent\n *  2.6 addElement\n *  2.7 getElements\n *  2.8 addClass\n *  2.9 toggleClass\n * */\n(function (root, factory) {\n\tif (typeof define === 'function' && define.amd)\n\t{\n\t\tdefine([], factory);\n\t\t// define(['jquery', 'underscore'], factory);\n\t}\n\telse if (typeof module === 'object' && module.exports)\n\t{\n\t\t// module.exports.PreviewCode = factory(require('yx'));\n\t\tmodule.exports = factory(require('https://gyx8899.github.io/YX-JS-ToolKit/assets/js/common.js'));\n\t\t// module.exports = factory(require('jquery'), require('underscore'));\n\t}\n\telse\n\t{\n\t\troot.PreviewCode = factory(root.YX);\n\t\t// root.PreviewCode = factory(root.jQuery, root._);\n\t}\n}(window, function (YX) {\n\tlet pluginName = 'previewCode';\n\n\tlet PreviewCode = function (elements, options) {\n\t\tthis.options = YX.Util.tool.deepExtend({}, PreviewCode.DEFAULTS, options);\n\n\t\tlet that = this,\n\t\t\t\turls = [that.options.highlight.css, that.options.highlight.js].concat(that.options.highlight.others);\n\t\tYX.Util.load.loadResources(urls, function () {\n\t\t\tthat._init(elements);\n\t\t});\n\t};\n\n\tPreviewCode.DEFAULTS = {\n\t\thighlight: {\n\t\t\tcss: 'https://gyx8899.github.io/YX-WebThemeKit/fn-preview-code/previewCode.css',\n\t\t\tjs: 'https://gyx8899.github.io/YX-WebThemeKit/fn-preview-code/highlight.js',\n\t\t\tothers: []\n\t\t},\n\t\tinitHighlight: initHighlight\n\t};\n\n\tPreviewCode.prototype._init = function (elements) {\n\t\tthis.options.initHighlight();\n\t\tlet elementArray = YX.Util.element.getElements(elements || document.querySelectorAll('[data-toggle=\"previewCode\"]'));\n\t\telementArray.forEach(function (element) {\n\t\t\tif (element.getAttribute(\"data-\" + pluginName) !== pluginName)\n\t\t\t{\n\t\t\t\telement.setAttribute(\"data-\" + pluginName, pluginName);\n\t\t\t\tpreviewElementCode(element);\n\t\t\t}\n\t\t});\n\t};\n\n\t// Functions: init Highlight\n\tfunction initHighlight()\n\t{\n\t\thljs.configure({tabReplace: '  '});\n\t\t// hljs.initHighlightingOnLoad();\n\t}\n\n\tfunction highlightCode(codeElement)\n\t{\n\t\tlet preCode = codeElement.querySelector('pre code')\n\t\tpreCode && hljs.highlightBlock(preCode);\n\t}\n\n\t// Functions: Process code\n\tfunction previewElementCode(element)\n\t{\n\t\tlet dataTargetValue = element.getAttribute('data-target'),\n\t\t\t\ttargetElement = !dataTargetValue ? element : document.querySelector(dataTargetValue),\n\t\t\t\tpreviewPosition = (!dataTargetValue && !element.getAttribute('data-position')) ? 'replace' : (element.getAttribute('data-position') || 'append'),\n\t\t\t\tpreviewFetch = element.getAttribute('data-fetch'),\n\t\t\t\tpreviewHTML = getPreviewElementHTML(element),\n\t\t\t\tpreviewTitle = getPreviewTitle(element),\n\t\t\t\telementTag = element.tagName.toLowerCase(),\n\t\t\t\telementLink = '';\n\t\tif (previewFetch === 'file')\n\t\t{\n\t\t\tif (elementTag === 'script')\n\t\t\t{\n\t\t\t\telementLink = element.src;\n\t\t\t}\n\t\t\telse if (elementTag === 'link')\n\t\t\t{\n\t\t\t\telementLink = element.href;\n\t\t\t}\n\t\t\telse if (element.getAttribute('data-src'))\n\t\t\t{\n\t\t\t\telementLink = element.getAttribute('data-src');\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif ((elementTag === 'script' && element.src) || (elementTag === 'link' && element.href))\n\t\t\t{\n\t\t\t\tpreviewHTML = filterTagAttrData(element.outerHTML);\n\t\t\t}\n\t\t}\n\t\tlet positionInfo = {\n\t\t\tparentElement: targetElement,\n\t\t\tposition: previewPosition,\n\t\t\tisCollapsed: element.getAttribute('data-collapse') === 'on',\n\t\t\tisNotCode: element.getAttribute('data-isCode') === 'false'\n\t\t};\n\t\tif (elementLink)\n\t\t{\n\t\t\tYX.Util.load.getFileContent(elementLink, function (data) {\n\t\t\t\taddPreviewCode(positionInfo, data, YX.Util.url.getFileNameFromURL(elementLink).baseName);\n\t\t\t}, null);\n\t\t}\n\t\telse\n\t\t{\n\t\t\taddPreviewCode(positionInfo, previewHTML, previewTitle);\n\t\t}\n\t}\n\n\tfunction addPreviewCode(positionInfo, codeString, demoTitle)\n\t{\n\t\tlet codeContent = trimPrevSpace(YX.Util.string.escapeHTML(codeString)),\n\t\t\t\tcodeElement = document.createElement('div'),\n\t\t\t\tpreviewTitle = demoTitle === '' ? '' :\n\t\t\t\t\t\t'<div class=\"preview-title\">' +\n\t\t\t\t\t\t'<span>' + demoTitle + '</span>' +\n\t\t\t\t\t\t'<img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiBAMAAADIaRbxAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAbUExURQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJRR4iAAAAAIdFJOUwF5q/XXRBg3BwRgrQAAAGRJREFUKBVjYBiSoEQA7uwUBTBTohEmwuZhAGYydQhAhVKaAyAsDagiNg9TqBRMEVwJAwNEEUIJAwNEEZISiCJkJRBFKEpAilCVgBSJwNwCdQCDRgfMLTARJnQlDAziMLmhSAMAhrURVl4zt/IAAAAASUVORK5CYII=\">' +\n\t\t\t\t\t\t'</div>',\n\t\t\t\tpreCode = '<pre><code>' + codeContent + '</code></pre>';\n\t\tcodeElement.className = \"preview-code\";\n\t\tif (positionInfo.isNotCode)\n\t\t{\n\t\t\tpreCode = '<pre>' + positionInfo.parentElement.innerHTML + '</pre>'\n\t\t}\n\t\tcodeElement.innerHTML = previewTitle + preCode;\n\n\t\tif (positionInfo.isCollapsed)\n\t\t{\n\t\t\tYX.Util.element.addClass(codeElement, 'collapse');\n\t\t}\n\n\t\tlet previewCodeElement = YX.Util.element.addElement(positionInfo.parentElement, codeElement, positionInfo.position);\n\t\tdemoTitle !== '' && bindClickEvent(previewCodeElement, '.preview-title');\n\t\thighlightCode(previewCodeElement);\n\t}\n\n\tfunction filterTagAttrData(tagStr)\n\t{\n\t\tlet tagStrArray1 = tagStr.split('>');\n\t\tif (tagStrArray1.length < 2)\n\t\t{\n\t\t\treturn tagStr;\n\t\t}\n\t\tlet attrDataStr = tagStrArray1[0].split(' ').filter(function (t) {\n\t\t\treturn (t.indexOf('data-') === -1);\n\t\t}).join(' ');\n\n\t\treturn [attrDataStr].concat(tagStrArray1.slice(1)).join('>');\n\t}\n\n\tfunction getPreviewTitle(element)\n\t{\n\t\tlet previewTitle = element.getAttribute('data-title');\n\t\tif (previewTitle === 'false')\n\t\t{\n\t\t\tpreviewTitle = '';\n\t\t}\n\t\telse if (!previewTitle)\n\t\t{\n\t\t\tlet elementTag = element.tagName.toLowerCase();\n\t\t\tif (elementTag === 'style' || elementTag === 'link')\n\t\t\t{\n\t\t\t\tpreviewTitle = 'CSS';\n\t\t\t\tlet href = element.getAttribute('href');\n\t\t\t\tif (elementTag === 'link' && href !== null)\n\t\t\t\t{\n\t\t\t\t\tpreviewTitle = YX.Util.url.getFileNameFromURL(href).name;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (elementTag === 'script')\n\t\t\t{\n\t\t\t\tpreviewTitle = 'JS';\n\t\t\t\tlet src = element.getAttribute('src');\n\t\t\t\tif (src !== null)\n\t\t\t\t{\n\t\t\t\t\tpreviewTitle = YX.Util.url.getFileNameFromURL(src).name;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tpreviewTitle = 'HTML';\n\t\t\t}\n\t\t}\n\t\treturn previewTitle;\n\t}\n\n\tfunction getPreviewElementHTML(element)\n\t{\n\t\tlet previewCodeElement = element.cloneNode(true),\n\t\t\t\telementHTML = '';\n\n\t\tif (previewCodeElement.getAttribute('data-tag') === 'show')\n\t\t{\n\t\t\tdelete previewCodeElement.dataset['toggle'];\n\t\t\tdelete previewCodeElement.dataset['target'];\n\t\t\tdelete previewCodeElement.dataset['title'];\n\t\t\tdelete previewCodeElement.dataset['position'];\n\t\t\tdelete previewCodeElement.dataset['fetch'];\n\t\t\tdelete previewCodeElement.dataset['collapse'];\n\t\t\tdelete previewCodeElement.dataset['tag'];\n\t\t\telementHTML = previewCodeElement.outerHTML;\n\t\t}\n\t\telse\n\t\t{\n\t\t\telementHTML = previewCodeElement.innerHTML;\n\t\t}\n\t\treturn elementHTML;\n\t}\n\n\tfunction trimPrevSpace(str)\n\t{\n\t\tlet strArray = str.split('\\n'),\n\t\t\t\tbeginIndex = getFirstNonSpaceValueIndex(strArray),\n\t\t\t\tresultStr = '';\n\t\tif (beginIndex !== -1)\n\t\t{\n\t\t\tlet newStrArray = [],\n\t\t\t\t\treverseStrArray = strArray.slice(0).reverse(),\n\t\t\t\t\tendIndex = strArray.length - getFirstNonSpaceValueIndex(reverseStrArray),\n\t\t\t\t\tcommonPreSpace = /(^\\s*)/g.exec(strArray[beginIndex])[0];\n\t\t\tfor (let i = beginIndex, j = 0; i < endIndex; i++)\n\t\t\t{\n\t\t\t\tnewStrArray[j++] = strArray[i].replace(commonPreSpace, '');\n\t\t\t}\n\t\t\tresultStr = newStrArray.join('\\n');\n\t\t}\n\t\treturn resultStr;\n\t}\n\n\tfunction getFirstNonSpaceValueIndex(array)\n\t{\n\t\tfor (let i = 0, l = array.length; i < l; i++)\n\t\t{\n\t\t\t// Filter space line\n\t\t\tif (/^[\\s|\\t]+$/.test(array[i]) === false && array[i] !== '')\n\t\t\t{\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t}\n\n\tfunction bindClickEvent(parentElement, selector)\n\t{\n\t\tparentElement.querySelector(selector).addEventListener('click', function () {\n\t\t\tYX.Util.element.toggleClass(parentElement, 'collapse');\n\t\t});\n\t}\n\n\treturn PreviewCode;\n}));\n\n/**\n * Auto init plugin if plugin.js?init=auto\n */\n(function () {\n\t/***\n\t * getUrlQueryParams\n\t * @param {string} url\n\t * @returns {object}\n\t */\n\tfunction getUrlQueryParams(url)\n\t{\n\t\tlet query = {},\n\t\t\t\tsearchStr = url ? (url.indexOf('?') !== -1 ? url.split('?')[1] : '') : window.location.search.substring(1),\n\t\t\t\tqueryParams = searchStr.split(\"&\");\n\t\tfor (let i = 0; i < queryParams.length; i++)\n\t\t{\n\t\t\tlet queryParam = queryParams[i].split(\"=\");\n\t\t\tif (queryParam.length > 1)\n\t\t\t{\n\t\t\t\tquery[queryParam[0]] = queryParam[1];\n\t\t\t}\n\t\t}\n\t\treturn query;\n\t}\n\n\t/**\n\t * getCurrentScriptSrc\n\t * @return {string}\n\t */\n\tfunction getCurrentScriptSrc()\n\t{\n\t\tlet scripts = document.getElementsByTagName(\"script\");\n\t\treturn (document.currentScript || scripts[scripts.length - 1]).src;\n\t}\n\n\t/**\n\t * autoInitPlugin\n\t * @param pluginName\n\t * @param initPlugin\n\t */\n\tfunction autoInitPlugin(pluginName, initPlugin)\n\t{\n\t\tlet hasUrlParamInitAuto = getUrlQueryParams(getCurrentScriptSrc())['init'] === 'auto';\n\t\tlet dataInitAutoElements = document.querySelectorAll('[data-toggle=\"' + pluginName + '\"][data-init=\"auto\"]');\n\n\t\tif (hasUrlParamInitAuto && dataInitAutoElements.length)\n\t\t{\n\t\t\tif (document.readyState !== \"complete\")\n\t\t\t{\n\t\t\t\twindow.addEventListener('load', () => initPlugin(dataInitAutoElements));\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tinitPlugin(dataInitAutoElements);\n\t\t\t}\n\t\t}\n\t}\n\n\tautoInitPlugin('previewCode', (elements) => new PreviewCode(elements));\n})();"],"sourceRoot":""}