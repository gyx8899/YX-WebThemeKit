{"version":3,"sources":["webpack://previewCode/webpack/universalModuleDefinition","webpack://previewCode/webpack/bootstrap","webpack://previewCode/(webpack)/buildin/module.js","webpack://previewCode/./fn-preview-code/previewCode.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","webpackPolyfill","deprecate","paths","children","YX","PreviewCode","elements","options","this","Util","tool","deepExtend","DEFAULTS","that","urls","highlight","css","js","concat","others","load","loadResources","_init","addPreviewCode","positionInfo","codeString","demoTitle","codeContent","trimPrevSpace","string","escapeHTML","length","codeElement","document","createElement","previewTitle","preCode","className","isNotCode","parentElement","innerHTML","isCollapsed","element","addClass","selector","previewCodeElement","addElement","position","querySelector","addEventListener","toggleClass","hljs","highlightBlock","highlightCode","style","display","str","strArray","split","beginIndex","getFirstNonSpaceValueIndex","resultStr","newStrArray","reverseStrArray","slice","reverse","endIndex","commonPreSpace","exec","j","replace","join","array","test","initHighlight","configure","tabReplace","getElements","querySelectorAll","forEach","getAttribute","setAttribute","dataTargetValue","targetElement","previewPosition","previewFetch","previewHTML","cloneNode","elementHTML","dataset","outerHTML","getPreviewElementHTML","elementTag","tagName","toLowerCase","href","url","getFileNameFromURL","src","getPreviewTitle","elementLink","tagStr","tagStrArray1","filter","t","indexOf","filterTagAttrData","getFileContent","data","baseName","previewElementCode","_typeof","pluginName","initPlugin","scripts","hasUrlParamInitAuto","query","queryParams","location","search","substring","queryParam","getUrlQueryParams","getElementsByTagName","currentScript","dataInitAutoElements","allPreviewCodeElements","readyState","autoInitPlugin"],"mappings":"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","file":"previewCode.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"previewCode\"] = factory();\n\telse\n\t\troot[\"previewCode\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","module.exports = function(module) {\r\n\tif (!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif (!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n","/**!\n * PreviewCode Plugin v3.1.200516 | https://github.com/gyx8899/YX-WebThemeKit/tree/master/fn-preview-code\n * Copyright (c) Kate Kuo @Steper\n */\n/**\n * Setting in html tag:\n * 1. Required:\n * 1.1 data-toggle=\"previewCode\"\n *\n * 2. Optional:\n * 2.0 data-target=\"#[targetId]\" // default with not set, and it will be current element. or element querySelector, append preview code to target element)\n * 2.1 data-title=\"titleAboveCode\" // \"false\" will not show title\n * 2.2 data-position=\"append\"(default), \"prepend\", \"insertBefore\", \"insertAfter\"\n * 2.3 data-fetch=\"file\" //Available for <script>-src and <link>-href, fetch file content; (default not fetch file)\n * 2.4 data-src=\"url\" // set url to load script/style in current element\n * 2.5 data-collapse=\"on\" // set collapse on, default collapse off\n * 2.6 data-tag=\"show\" // show the wrapper tag, default not show (For data-fetch not set)\n * 2.7 data-init=\"auto\" // auto init when page load without special init function\n * 2.8 data-isCode=\"false\" // support: not escape html\n *\n * Support: Any html tag, especially support <link> with href, <script> with src;\n *\n * Dependency:\n * 1. highlight, https://highlightjs.org/\n * 2. common.js, for loading resource file (https://gyx8899.github.io/YX-JS-ToolKit/assets/js/common.min.js)\n *  2.1 loadResources\n *  2.2 getFileNameFromURL\n *  2.3 deepExtend\n *  2.4 escapeHTML\n *  2.5 getFileContent\n *  2.6 addElement\n *  2.7 getElements\n *  2.8 addClass\n *  2.9 toggleClass\n * */\n(function (YX) {\n\tlet pluginName = 'previewCode';\n\n\tlet PreviewCode = function (elements, options) {\n\t\tthis.options = YX.Util.tool.deepExtend({}, PreviewCode.DEFAULTS, options);\n\n\t\tlet that = this,\n\t\t\t\turls = [that.options.highlight.css, that.options.highlight.js].concat(that.options.highlight.others);\n\t\tYX.Util.load.loadResources(urls, function () {\n\t\t\tthat._init(elements);\n\t\t});\n\t};\n\n\tPreviewCode.DEFAULTS = {\n\t\thighlight: {\n\t\t\tcss: 'https://gyx8899.github.io/YX-WebThemeKit/fn-preview-code/previewCode.css',\n\t\t\tjs: 'https://gyx8899.github.io/YX-WebThemeKit/fn-preview-code/highlight.js',\n\t\t\tothers: []\n\t\t},\n\t\tinitHighlight: initHighlight\n\t};\n\n\tPreviewCode.prototype._init = function (elements) {\n\t\tthis.options.initHighlight();\n\t\tlet elementArray = YX.Util.element.getElements(elements || document.querySelectorAll('[data-toggle=\"previewCode\"]'));\n\t\telementArray.forEach(function (element) {\n\t\t\tif (element.getAttribute(\"data-\" + pluginName) !== pluginName)\n\t\t\t{\n\t\t\t\telement.setAttribute(\"data-\" + pluginName, pluginName);\n\t\t\t\tpreviewElementCode(element);\n\t\t\t}\n\t\t});\n\t};\n\n\t// Functions: init Highlight\n\tfunction initHighlight()\n\t{\n\t\thljs.configure({tabReplace: '  '});\n\t\t// hljs.initHighlightingOnLoad();\n\t}\n\n\tfunction highlightCode(codeElement)\n\t{\n\t\tlet preCode = codeElement.querySelector('pre code');\n\t\tpreCode && hljs.highlightBlock(preCode);\n\t}\n\n\t// Functions: Process code\n\tfunction previewElementCode(element)\n\t{\n\t\tlet dataTargetValue = element.getAttribute('data-target'),\n\t\t\t\ttargetElement = !dataTargetValue ? element : document.querySelector(dataTargetValue),\n\t\t\t\tpreviewPosition = (!dataTargetValue && !element.getAttribute('data-position')) ? 'replace' : (element.getAttribute('data-position') || 'append'),\n\t\t\t\tpreviewFetch = element.getAttribute('data-fetch'),\n\t\t\t\tpreviewHTML = getPreviewElementHTML(element),\n\t\t\t\tpreviewTitle = getPreviewTitle(element),\n\t\t\t\telementTag = element.tagName.toLowerCase(),\n\t\t\t\telementLink = '';\n\t\tif (previewFetch === 'file')\n\t\t{\n\t\t\tif (elementTag === 'script')\n\t\t\t{\n\t\t\t\telementLink = element.src;\n\t\t\t}\n\t\t\telse if (elementTag === 'link')\n\t\t\t{\n\t\t\t\telementLink = element.href;\n\t\t\t}\n\t\t\telse if (element.getAttribute('data-src'))\n\t\t\t{\n\t\t\t\telementLink = element.getAttribute('data-src');\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif ((elementTag === 'script' && element.src) || (elementTag === 'link' && element.href))\n\t\t\t{\n\t\t\t\tpreviewHTML = filterTagAttrData(element.outerHTML);\n\t\t\t}\n\t\t}\n\t\tlet positionInfo = {\n\t\t\tparentElement: targetElement,\n\t\t\tposition: previewPosition,\n\t\t\tisCollapsed: element.getAttribute('data-collapse') === 'on',\n\t\t\tisNotCode: element.getAttribute('data-isCode') === 'false'\n\t\t};\n\t\tif (elementLink)\n\t\t{\n\t\t\tYX.Util.load.getFileContent(elementLink, function (data) {\n\t\t\t\taddPreviewCode(positionInfo, data, YX.Util.url.getFileNameFromURL(elementLink).baseName);\n\t\t\t}, null);\n\t\t}\n\t\telse\n\t\t{\n\t\t\taddPreviewCode(positionInfo, previewHTML, previewTitle);\n\t\t}\n\t}\n\n\tfunction addPreviewCode(positionInfo, codeString, demoTitle)\n\t{\n\t\tlet codeContent = trimPrevSpace(YX.Util.string.escapeHTML(codeString));\n\t\tif (codeContent.length === 0) {\n\t\t\treturn ;\n\t\t}\n\t\tlet codeElement = document.createElement('div'),\n\t\t\t\tpreviewTitle = demoTitle === '' ? '' :\n\t\t\t\t\t\t'<div class=\"preview-title\">' +\n\t\t\t\t\t\t'<span>' + demoTitle + '</span>' +\n\t\t\t\t\t\t'<img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiBAMAAADIaRbxAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAbUExURQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJRR4iAAAAAIdFJOUwF5q/XXRBg3BwRgrQAAAGRJREFUKBVjYBiSoEQA7uwUBTBTohEmwuZhAGYydQhAhVKaAyAsDagiNg9TqBRMEVwJAwNEEUIJAwNEEZISiCJkJRBFKEpAilCVgBSJwNwCdQCDRgfMLTARJnQlDAziMLmhSAMAhrURVl4zt/IAAAAASUVORK5CYII=\">' +\n\t\t\t\t\t\t'</div>',\n\t\t\t\tpreCode = '<pre><code>' + codeContent + '</code></pre>';\n\t\tcodeElement.className = \"preview-code\";\n\t\tif (positionInfo.isNotCode)\n\t\t{\n\t\t\tpreCode = '<pre><div>' + trimPrevSpace(positionInfo.parentElement.innerHTML) + '</div></pre>'\n\t\t}\n\t\tcodeElement.innerHTML = previewTitle + preCode;\n\n\t\tif (positionInfo.isCollapsed)\n\t\t{\n\t\t\tYX.Util.element.addClass(codeElement, 'collapse');\n\t\t}\n\n\t\tlet previewCodeElement = YX.Util.element.addElement(positionInfo.parentElement, codeElement, positionInfo.position);\n\t\tdemoTitle !== '' && bindClickEvent(previewCodeElement, '.preview-title');\n\t\thighlightCode(previewCodeElement);\n\n\t\tif (positionInfo.parentElement.style.display === 'none')\n\t\t{\n\t\t\tpositionInfo.parentElement.style.display = 'block';\n\t\t}\n\t}\n\n\tfunction filterTagAttrData(tagStr)\n\t{\n\t\tlet tagStrArray1 = tagStr.split('>');\n\t\tif (tagStrArray1.length < 2)\n\t\t{\n\t\t\treturn tagStr;\n\t\t}\n\t\tlet attrDataStr = tagStrArray1[0].split(' ').filter(function (t) {\n\t\t\treturn (t.indexOf('data-') === -1);\n\t\t}).join(' ');\n\n\t\treturn [attrDataStr].concat(tagStrArray1.slice(1)).join('>');\n\t}\n\n\tfunction getPreviewTitle(element)\n\t{\n\t\tlet previewTitle = element.getAttribute('data-title');\n\t\tif (previewTitle === 'false')\n\t\t{\n\t\t\tpreviewTitle = '';\n\t\t}\n\t\telse if (!previewTitle)\n\t\t{\n\t\t\tlet elementTag = element.tagName.toLowerCase();\n\t\t\tif (elementTag === 'style' || elementTag === 'link')\n\t\t\t{\n\t\t\t\tpreviewTitle = 'CSS';\n\t\t\t\tlet href = element.getAttribute('href');\n\t\t\t\tif (elementTag === 'link' && href !== null)\n\t\t\t\t{\n\t\t\t\t\tpreviewTitle = YX.Util.url.getFileNameFromURL(href).name;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (elementTag === 'script')\n\t\t\t{\n\t\t\t\tpreviewTitle = 'JS';\n\t\t\t\tlet src = element.getAttribute('src');\n\t\t\t\tif (src !== null)\n\t\t\t\t{\n\t\t\t\t\tpreviewTitle = YX.Util.url.getFileNameFromURL(src).name;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tpreviewTitle = 'HTML';\n\t\t\t}\n\t\t}\n\t\treturn previewTitle;\n\t}\n\n\tfunction getPreviewElementHTML(element)\n\t{\n\t\tlet previewCodeElement = element.cloneNode(true),\n\t\t\t\telementHTML = '';\n\n\t\tif (previewCodeElement.getAttribute('data-tag') === 'show')\n\t\t{\n\t\t\tdelete previewCodeElement.dataset['toggle'];\n\t\t\tdelete previewCodeElement.dataset['target'];\n\t\t\tdelete previewCodeElement.dataset['title'];\n\t\t\tdelete previewCodeElement.dataset['position'];\n\t\t\tdelete previewCodeElement.dataset['fetch'];\n\t\t\tdelete previewCodeElement.dataset['collapse'];\n\t\t\tdelete previewCodeElement.dataset['tag'];\n\t\t\telementHTML = previewCodeElement.outerHTML;\n\t\t}\n\t\telse\n\t\t{\n\t\t\telementHTML = previewCodeElement.innerHTML;\n\t\t}\n\t\treturn elementHTML;\n\t}\n\n\tfunction trimPrevSpace(str)\n\t{\n\t\tlet strArray = str.split('\\n'),\n\t\t\t\tbeginIndex = getFirstNonSpaceValueIndex(strArray),\n\t\t\t\tresultStr = '';\n\t\tif (beginIndex !== -1)\n\t\t{\n\t\t\tlet newStrArray = [],\n\t\t\t\t\treverseStrArray = strArray.slice(0).reverse(),\n\t\t\t\t\tendIndex = strArray.length - getFirstNonSpaceValueIndex(reverseStrArray),\n\t\t\t\t\tcommonPreSpace = /(^\\s*)/g.exec(strArray[beginIndex])[0];\n\t\t\tfor (let i = beginIndex, j = 0; i < endIndex; i++)\n\t\t\t{\n\t\t\t\tnewStrArray[j++] = strArray[i].replace(commonPreSpace, '');\n\t\t\t}\n\t\t\tresultStr = newStrArray.join('\\n');\n\t\t}\n\t\treturn resultStr;\n\t}\n\n\tfunction getFirstNonSpaceValueIndex(array)\n\t{\n\t\tfor (let i = 0, l = array.length; i < l; i++)\n\t\t{\n\t\t\t// Filter space line\n\t\t\tif (/^[\\s|\\t]+$/.test(array[i]) === false && array[i] !== '')\n\t\t\t{\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t}\n\n\tfunction bindClickEvent(parentElement, selector)\n\t{\n\t\tparentElement.querySelector(selector).addEventListener('click', function () {\n\t\t\tYX.Util.element.toggleClass(parentElement, 'collapse');\n\t\t});\n\t}\n\n\twindow.PreviewCode = PreviewCode;\n\n\t// Compatible with webpack\n\tif (typeof exports === 'object' && typeof module === 'object')\n\t{\n\t\tmodule.exports = PreviewCode;\n\t}\n})(window.YX);\n\n/**!\n * Auto init plugin if plugin.js?init=auto\n */\n(function () {\n\t/***\n\t * getUrlQueryParams\n\t * @param {string} url\n\t * @returns {object}\n\t */\n\tfunction getUrlQueryParams(url)\n\t{\n\t\tlet query = {},\n\t\t\t\tsearchStr = url ? (url.indexOf('?') !== -1 ? url.split('?')[1] : '') : window.location.search.substring(1),\n\t\t\t\tqueryParams = searchStr.split(\"&\");\n\t\tfor (let i = 0; i < queryParams.length; i++)\n\t\t{\n\t\t\tlet queryParam = queryParams[i].split(\"=\");\n\t\t\tif (queryParam.length > 1)\n\t\t\t{\n\t\t\t\tquery[queryParam[0]] = queryParam[1];\n\t\t\t}\n\t\t}\n\t\treturn query;\n\t}\n\n\t/**\n\t * getCurrentScriptSrc\n\t * @return {string}\n\t */\n\tfunction getCurrentScriptSrc()\n\t{\n\t\tlet scripts = document.getElementsByTagName(\"script\");\n\t\treturn (document.currentScript || scripts[scripts.length - 1]).src;\n\t}\n\n\t/**\n\t * autoInitPlugin\n\t * @param pluginName\n\t * @param initPlugin\n\t */\n\tfunction autoInitPlugin(pluginName, initPlugin)\n\t{\n\t\tlet hasUrlParamInitAuto = getUrlQueryParams(getCurrentScriptSrc())['init'] === 'auto';\n\t\tlet dataInitAutoElements = document.querySelectorAll(`[data-toggle=\"${pluginName}\"][data-init=\"auto\"]`);\n\n\t\tif (hasUrlParamInitAuto || dataInitAutoElements.length)\n\t\t{\n\t\t\tlet allPreviewCodeElements = hasUrlParamInitAuto ? null : dataInitAutoElements;\n\t\t\tif (document.readyState !== \"complete\")\n\t\t\t{\n\t\t\t\twindow.addEventListener('load', () => initPlugin(allPreviewCodeElements));\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tinitPlugin(allPreviewCodeElements);\n\t\t\t}\n\t\t}\n\t}\n\n\tautoInitPlugin('previewCode', (elements) => new PreviewCode(elements));\n})();\n"],"sourceRoot":""}