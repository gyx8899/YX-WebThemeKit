{"version":3,"sources":["webpack://YX/webpack/universalModuleDefinition","webpack://YX/webpack/bootstrap","webpack://YX/(webpack)/buildin/module.js","webpack://YX/./assets/js/common.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","webpackPolyfill","deprecate","paths","children","_this","this","self","YX","uniqueArray","sourceArray","concat","_toConsumableArray","Set","getArrayString","array","map","arrayItem","Array","isArray","_typeof","JSON","stringify","toString","join","escapeHTML","str","&","<",">","\"","'","replace","getFileNameFromURL","url","fileNameSplit","split","pop","simpleBaseName","extensionName","length","baseName","splice","getUrlQueryParams","query","queryParams","indexOf","location","search","substring","queryParam","decodeURIComponent","getUrlTypeInfo","fileExtensionName","js","tagName","urlAttrName","loadFn","loadFnPromise","css","getCurrentScript","scriptName","allScripts","document","getElementsByTagName","currentScript","script","item","src","match","loadResource","callback","checkResourceLoaded","Util","load","type","typeSelector","slice","querySelectorAll","scriptElement","loadUrls","urls","unLoadedResourcesInfo","filter","resource","resourceInfo","Promise","resourcePromise","all","then","catch","error","console","log","forEach","getCallbackName","typeName","parameterArrayToItem","fn","param1","param2","param2IsArray","param2ArrayLength","param2Item","initTemplate","template","templateData","sourceData","result","key","dataValue","RegExp","findParent","element","selector","parentElement","matches","el","matchesSelector","msMatchesSelector","mozMatchesSelector","webkitMatchesSelector","oMatchesSelector","convertNodeListToArray","nodeList","resultArray","hasClass","className","classList","contains","test","addClass","add","removeClass","remove","scrollTo","to","duration","perTick","scrollTop","setTimeout","extendOnOff","events","event","opts","namespaces","options","addEventListener","removeEventListener","isExtendOnOff","on","Element","off","string","titleCase","charAt","toUpperCase","escapeJS","navigator","isZHLanguage","languages","browserLanguage","some","language","getQueryParamValue","param","getCurrentScriptParameter","getCurrentScriptPath","getRootPath","href","pathName","pathname","substr","lastIndexOf","getScriptName","Error","source","lastStackFrameRegex","currentStackFrameRegex","exec","stack","trim","undefined","getCurrentScriptSrc","scripts","isExist","context","link","createElement","isSuccess","onerror","readyState","onreadystatechange","onload","rel","querySelector","appendChild","loadScript","info","urlParam","callbackParam","libName","setAttribute","attributes","attr","body","createComment","loadScriptWithPromise","resolve","reject","loadCSS","loadCSSWithPromise","loadResources","String","getFileContent","documentMode","XDomainRequest","xdr","responseText","open","send","xdrGetRequest","request","XMLHttpRequest","status","xmlHTTPGetRequest","getFileContentWithAjax","$","ajax","success","data","tool","throttle","method","timeout","tId","clearTimeout","consoleLog","fnArguments","consoleLogTypes","debug","fnName","callee","fnArgumentsString","argumentsArray","arguments","surplusArgumentString","shift","typeCount","typeInfo","lastType","groupEnd","group","setCallback","typeCallback","deepExtend","out","obj","Date","html","renderTemplate","targetElement","templateDataFn","position","resultHtml","insertAdjacentHTML","innerHTML","regExp","regExpG","expStr","isURL","getElements","elements","resultElement","jquery","NodeList","HTMLCollection","nodeType","getSelectorsElements","selectorString","selectorsElements","selectorsArray","selectorStringItem","push","scopeNodeList","closet","hasCloset","parents","parentNode","copyElementToClipboard","selection","getSelection","range","createRange","selectNodeContents","removeAllRanges","addRange","execCommand","insertStyleToHead","cssText","head","style","styleSheet","createTextNode","createTagElement","tagInfo","tagElement","keys","addElement","addedElement","resultAddedElement","toLowerCase","insertBefore","firstChild","outerHTML","previousSibling","nextSibling","toggleClass","page","scrollListToIndex","listFolder","index","toTopIndex","listItems","childNodes","scrollOffset","contentHeight","scrollToCenter","listItemHeight","offsetHeight","delegate","eventName","handler","possibleTargets","target","bindClickIgnoreDrag","isBind","eventListenerName","mouseDownX","mouseDownY","mouseDownHandler","pageX","pageY","mouseUpMoveHandler","which","triggerEvent","CustomEvent","detail","createEvent","initCustomEvent","dispatchEvent","mouseTouchTrack","infoCallback","touchStartBeginTime","lastEventType","trackEvent","now","onclick","ontouchstart","ontouchend","ontouchmove","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","notification","option","spopOption","showNotification","registration","title","noti","Notification","autoclose","onshow","close","bind","permission","requestPermission","Plugin","spop","math","isPrime","number","Math","sqrt","params","callers","callMethod","thisArg","caller","apply","commonPath","results","WebWorker","_classCallCheck","Worker","workerUrl","worker","onMessage","onError","errorCallback","alert","_createClass","onmessage","e","_e$data","postMessage","err","table","terminate","instance","SharedWorkers","SharedWorker","port","_e$data2","message","postData","Event","_cache","eventCallbacks","getInstance"],"mappings":"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","file":"common.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"YX\"] = factory();\n\telse\n\t\troot[\"YX\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","module.exports = function(module) {\r\n\tif (!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif (!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n","/**!\r\n * YX Common Library v1.2.5.180805_beta | https://github.com/gyx8899/YX-JS-ToolKit/blob/master/assets/js\r\n * Copyright (c) 2018 Kate Kuo @Steper\r\n */\r\n(function () {\r\n\tlet root = self || this || window;\r\n\r\n\tlet YX = {};\r\n\r\n\t/********************************************************************************************************************/\r\n\t/**\r\n\t * Util\r\n\t * @type {{}}\r\n\t */\r\n\tYX.Util = {};\r\n\r\n\t/**\r\n\t * Util.array\r\n\t * @type {{}}\r\n\t */\r\n\tYX.Util.array = {};\r\n\r\n\t/***\r\n\t * uniqueArray\r\n\t * @param {Array} sourceArray\r\n\t * @returns {Array}\r\n\t */\r\n\tfunction uniqueArray(sourceArray)\r\n\t{\r\n\t\treturn [...new Set(sourceArray)];\r\n\t}\r\n\r\n\tYX.Util.array.uniqueArray = uniqueArray;\r\n\r\n\t/**\r\n\t * Get array item string which spilt with ',';\r\n\t * @param array\r\n\t * @returns {string}\r\n\t */\r\n\tfunction getArrayString(array)\r\n\t{\r\n\t\treturn array.map(function (arrayItem) {\r\n\t\t\tif (Array.isArray(arrayItem))\r\n\t\t\t{\r\n\t\t\t\tarrayItem = '[' + getArrayString(arrayItem) + ']';\r\n\t\t\t}\r\n\t\t\telse if (typeof arrayItem === 'object')\r\n\t\t\t{\r\n\t\t\t\tarrayItem = JSON.stringify(arrayItem);\r\n\t\t\t}\r\n\t\t\treturn arrayItem.toString();\r\n\t\t}).join(',');\r\n\t}\r\n\r\n\tYX.Util.array.getArrayString = getArrayString;\r\n\r\n\t/********************************************************************************************************************/\r\n\t/**\r\n\t * Util.string\r\n\t * @type {{}}\r\n\t */\r\n\tYX.Util.string = {};\r\n\r\n\t/**\r\n\t * Capitalize the first word\r\n\t * @param string\r\n\t * @return {string}\r\n\t */\r\n\tfunction titleCase(string)\r\n\t{\r\n\t\treturn string.charAt(0).toUpperCase() + string.slice(1);\r\n\t}\r\n\r\n\tYX.Util.string.titleCase = titleCase;\r\n\r\n\t/***\r\n\t * escapeHTML\r\n\t * @param {string} str\r\n\t * @returns {void|string}\r\n\t */\r\n\tfunction escapeHTML(str)\r\n\t{\r\n\t\tlet map = {\r\n\t\t\t'&': '&amp;',\r\n\t\t\t'<': '&lt;',\r\n\t\t\t'>': '&gt;',\r\n\t\t\t'\"': '&quot;',\r\n\t\t\t\"'\": '&#039;'\r\n\t\t};\r\n\r\n\t\treturn str.replace(/[&<>\"']/g, function (m) {\r\n\t\t\treturn map[m];\r\n\t\t});\r\n\t}\r\n\r\n\tYX.Util.string.escapeHTML = escapeHTML;\r\n\r\n\t/**\r\n\t * Escape string for js parameter\r\n\t * @param str\r\n\t * @return {*}\r\n\t */\r\n\tfunction escapeJS(str)\r\n\t{\r\n\t\treturn escapeHTML(str.replace(/[\\\\]/g, '\\\\\\\\').replace(/[\"]/g, '\\\\\\\"').replace(/[']/g, \"\\\\\\'\"));\r\n\t}\r\n\r\n\tYX.Util.string.escapeJS = escapeJS;\r\n\r\n\t/********************************************************************************************************************/\r\n\t/**\r\n\t * Util.navigator\r\n\t * @type {{}}\r\n\t */\r\n\tYX.Util.navigator = {};\r\n\r\n\t/**\r\n\t * Check browser language setting which has zh[-CN/TW/HK]\r\n\t * @return {boolean}\r\n\t */\r\n\tfunction isZHLanguage()\r\n\t{\r\n\t\tlet browserLanguage = root.navigator.languages ? root.navigator.languages : root.navigator.browserLanguage;\r\n\t\treturn browserLanguage.some(language => {\r\n\t\t\treturn language.indexOf('zh') === 0;\r\n\t\t});\r\n\t}\r\n\r\n\tYX.Util.navigator.isZHLanguage = isZHLanguage;\r\n\r\n\t/********************************************************************************************************************/\r\n\t/**\r\n\t * Util.url\r\n\t * @type {{}}\r\n\t */\r\n\tYX.Util.url = {};\r\n\r\n\t/***\r\n\t * getFileNameFromURL\r\n\t * @param {string} url\r\n\t * @returns {object} {name: '', simpleBaseName: '', extensionName: '', baseName: ''}\r\n\t */\r\n\tfunction getFileNameFromURL(url)\r\n\t{\r\n\t\tlet fileNameSplit = url.split('/').pop().split('#')[0].split('?')[0].split('.');\r\n\t\treturn {\r\n\t\t\tname: fileNameSplit.join('.'),\r\n\t\t\tsimpleBaseName: fileNameSplit[0],\r\n\t\t\textensionName: fileNameSplit.length > 1 ? fileNameSplit[fileNameSplit.length - 1] : '',\r\n\t\t\tbaseName: fileNameSplit.length > 1 ? fileNameSplit.splice(0, fileNameSplit.length - 1).join('.') : fileNameSplit[0],\r\n\t\t};\r\n\t}\r\n\r\n\tYX.Util.url.getFileNameFromURL = getFileNameFromURL;\r\n\r\n\t/***\r\n\t * getUrlQueryParams\r\n\t * @param {string} url\r\n\t * @returns {object}\r\n\t */\r\n\tfunction getUrlQueryParams(url)\r\n\t{\r\n\t\tlet query = {},\r\n\t\t\t\tsearchStr = url ? (url.indexOf('?') !== -1 ? url.split('?')[1] : '') : root.location.search.substring(1),\r\n\t\t\t\tqueryParams = searchStr.split(\"&\");\r\n\t\tfor (let i = 0; i < queryParams.length; i++)\r\n\t\t{\r\n\t\t\tlet queryParam = queryParams[i].split(\"=\");\r\n\t\t\tif (queryParam.length > 1)\r\n\t\t\t{\r\n\t\t\t\tquery[queryParam[0]] = decodeURIComponent(queryParam[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn query;\r\n\t}\r\n\r\n\tYX.Util.url.getUrlQueryParams = getUrlQueryParams;\r\n\r\n\t/***\r\n\t * getQueryParamValue\r\n\t * @param param\r\n\t * @returns {*}\r\n\t */\r\n\tfunction getQueryParamValue(param)\r\n\t{\r\n\t\tlet query = root.location.search.substring(1);\r\n\t\tlet queryParams = query.split(\"&\");\r\n\t\tfor (let i = 0; i < queryParams.length; i++)\r\n\t\t{\r\n\t\t\tlet queryParam = queryParams[i].split(\"=\");\r\n\t\t\tif (queryParam.length > 1 && queryParam[0] === param)\r\n\t\t\t{\r\n\t\t\t\treturn decodeURIComponent(queryParam[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tYX.Util.url.getQueryParamValue = getQueryParamValue;\r\n\r\n\t/***\r\n\t * getUrlTypeInfo\r\n\t * @param {string} url\r\n\t * @returns {object}\r\n\t */\r\n\tfunction getUrlTypeInfo(url)\r\n\t{\r\n\t\t// Current only support js and css resources;\r\n\t\tlet fileExtensionName = getFileNameFromURL(url).extensionName;\r\n\t\tif (fileExtensionName)\r\n\t\t{\r\n\t\t\tlet urlType = {\r\n\t\t\t\t'js': {\r\n\t\t\t\t\tname: 'js',\r\n\t\t\t\t\ttagName: 'script',\r\n\t\t\t\t\turlAttrName: 'src',\r\n\t\t\t\t\tloadFn: 'loadScript',\r\n\t\t\t\t\tloadFnPromise: 'loadScriptWithPromise'\r\n\t\t\t\t},\r\n\t\t\t\t'css': {\r\n\t\t\t\t\tname: 'css',\r\n\t\t\t\t\ttagName: 'link',\r\n\t\t\t\t\turlAttrName: 'href',\r\n\t\t\t\t\tloadFn: 'loadCSS',\r\n\t\t\t\t\tloadFnPromise: 'loadCSSWithPromise'\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\treturn urlType[fileExtensionName];\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tYX.Util.url.getUrlTypeInfo = getUrlTypeInfo;\r\n\r\n\t/***\r\n\t * getCurrentScript in Page\r\n\t * @param {string} scriptName\r\n\t * @returns {Element || null}\r\n\t */\r\n\tfunction getCurrentScript(scriptName)\r\n\t{\r\n\t\tlet allScripts = document.getElementsByTagName(\"script\");\r\n\r\n\t\tif (scriptName)\r\n\t\t{\r\n\t\t\tfor (let i = 0; i < allScripts.length; i++)\r\n\t\t\t{\r\n\t\t\t\tlet script = allScripts.item(i);\r\n\r\n\t\t\t\tif (script.src && script.src.match(scriptName))\r\n\t\t\t\t{\r\n\t\t\t\t\treturn script;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tif (document.currentScript)\r\n\t\t\t{\r\n\t\t\t\treturn document.currentScript;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\treturn allScripts[allScripts.length - 1];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tYX.Util.url.getCurrentScript = getCurrentScript;\r\n\r\n\t/**\r\n\t * getCurrentScriptParameter\r\n\t * @return {Object}\r\n\t */\r\n\tfunction getCurrentScriptParameter()\r\n\t{\r\n\t\tlet currentScript = getCurrentScript();\r\n\t\treturn currentScript ? getUrlQueryParams(currentScript.src) : {};\r\n\t}\r\n\r\n\tYX.Util.url.getCurrentScriptParameter = getCurrentScriptParameter;\r\n\r\n\t/***\r\n\t * getCurrentScriptPath in Page\r\n\t * @param {string} scriptName\r\n\t * @returns {null|string}\r\n\t */\r\n\tfunction getCurrentScriptPath(scriptName)\r\n\t{\r\n\t\tlet script = getCurrentScript(scriptName);\r\n\t\treturn script ? script.src : '';\r\n\t}\r\n\r\n\tYX.Util.url.getCurrentScriptPath = getCurrentScriptPath;\r\n\r\n\t/***\r\n\t * getRootPath\r\n\t * @returns {string}\r\n\t */\r\n\tfunction getRootPath()\r\n\t{\r\n\t\tlet href = root.document.location.href,\r\n\t\t\t\tpathName = root.document.location.pathname,\r\n\t\t\t\tlocalhostPath = href.substring(0, href.indexOf(pathName)),\r\n\t\t\t\tprojectName = pathName.substring(0, pathName.substr(1).lastIndexOf('/') + 1);\r\n\t\treturn (localhostPath + projectName);\r\n\t}\r\n\r\n\tYX.Util.url.getRootPath = getRootPath;\r\n\r\n\t/**\r\n\t * getScriptName\r\n\t * Not support in IE\r\n\t * @return {*}\r\n\t */\r\n\tfunction getScriptName()\r\n\t{\r\n\t\tlet error = new Error()\r\n\t\t\t\t, source\r\n\t\t\t\t, lastStackFrameRegex = new RegExp(/.+\\/(.*?):\\d+(:\\d+)*$/)\r\n\t\t\t\t, currentStackFrameRegex = new RegExp(/getScriptName \\(.+\\/(.*):\\d+:\\d+\\)/);\r\n\r\n\t\tif ((source = lastStackFrameRegex.exec(error.stack.trim())) && source[1] != \"\")\r\n\t\t\treturn source[1];\r\n\t\telse if ((source = currentStackFrameRegex.exec(error.stack.trim())))\r\n\t\t\treturn source[1];\r\n\t\telse if (error['fileName'] !== undefined)\r\n\t\t\treturn error['fileName'];\r\n\t}\r\n\r\n\tYX.Util.url.getScriptName = getScriptName;\r\n\r\n\t/**\r\n\t * getCurrentScriptSrc\r\n\t * @return {string}\r\n\t */\r\n\tfunction getCurrentScriptSrc()\r\n\t{\r\n\t\tvar scripts = document.getElementsByTagName(\"script\");\r\n\t\treturn (document.currentScript || scripts[scripts.length - 1]).src;\r\n\t}\r\n\r\n\tYX.Util.url.getCurrentScriptSrc = getCurrentScriptSrc;\r\n\r\n\t/**\r\n\t * Check url is exist or not, callback with success state\r\n\t * @param url\r\n\t * @param callback\r\n\t * @param context\r\n\t */\r\n\tfunction isExist(url, callback, context)\r\n\t{\r\n\t\tlet link = document.createElement(\"link\"),\r\n\t\t\t\tisSuccess = true;\r\n\r\n\t\tlink.onerror = function () {\r\n\t\t\tisSuccess = false;\r\n\t\t\tcallback && (context ? context[callback]() : callback(isSuccess));\r\n\t\t};\r\n\t\tif (link.readyState)\r\n\t\t{  //IE\r\n\t\t\tlink.onreadystatechange = function () {\r\n\t\t\t\tif (link.readyState === \"loaded\" || link.readyState === \"complete\")\r\n\t\t\t\t{\r\n\t\t\t\t\tlink.onreadystatechange = null;\r\n\t\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t\tisSuccess && callback && (context ? context[callback]() : callback(isSuccess));\r\n\t\t\t\t\t}, 0);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\t\telse\r\n\t\t{  //Others\r\n\t\t\tlink.onload = function () {\r\n\t\t\t\tcallback && (context ? context[callback]() : callback(isSuccess));\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tlink.href = url;\r\n\t\t// TODO: type and rel should be accord to with checked file\r\n\t\tlink.type = 'text/css';\r\n\t\tlink.rel = 'stylesheet';\r\n\r\n\t\tdocument.querySelector('head').appendChild(link);\r\n\t}\r\n\r\n\tYX.Util.url.isExist = isExist;\r\n\r\n\t/********************************************************************************************************************/\r\n\t/**\r\n\t * Util.load\r\n\t * @type {{}}\r\n\t */\r\n\tYX.Util.load = {};\r\n\r\n\t/***\r\n\t * loadScript\r\n\t * @param {(string)} url string of url\r\n\t * @param {function} [callback] - callback() after script loaded\r\n\t * @param {object} [context] - callback's context\r\n\t * @param {object} info - {isAsync: [true/false], attributes: {}, libName: \"\"}\r\n\t */\r\n\tfunction loadScript(url, callback, context, info)\r\n\t{\r\n\t\tif (!url)\r\n\t\t\treturn;\r\n\r\n\t\tif (Array.isArray(url))\r\n\t\t{\r\n\t\t\t// Process the url and callback if they are array;\r\n\t\t\tparameterArrayToItem(function (urlParam, callbackParam) {\r\n\t\t\t\tloadScript(urlParam, callbackParam, context, info);\r\n\t\t\t}, url, callback);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tlet script = document.createElement(\"script\"),\r\n\t\t\t\t\tisSuccess = true,\r\n\t\t\t\t\tlibName = info && info['libName'] ? info['libName'] : getFileNameFromURL(url).name;\r\n\t\t\tscript.type = \"text/javascript\";\r\n\t\t\tinfo && info['isAsync'] && script.setAttribute('async', '');\r\n\r\n\t\t\tif (info && info.attributes)\r\n\t\t\t{\r\n\t\t\t\tfor (let attr in info.attributes)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (info.attributes.hasOwnProperty(attr))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tscript.setAttribute(attr, info.attributes[attr]);\r\n\t\t\t\t\t\tattr === 'class' && script.setAttribute('className', info.attributes[attr]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tscript.onerror = function () {\r\n\t\t\t\tisSuccess = false;\r\n\t\t\t\tcallback && (context ? context[callback]() : callback(isSuccess));\r\n\t\t\t};\r\n\t\t\tif (script.readyState)\r\n\t\t\t{  //IE\r\n\t\t\t\tscript.onreadystatechange = function () {\r\n\t\t\t\t\tif (script.readyState === \"loaded\" || script.readyState === \"complete\")\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tscript.onreadystatechange = null;\r\n\t\t\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t\t\tisSuccess && callback && (context ? context[callback]() : callback(isSuccess));\r\n\t\t\t\t\t\t}, 0);\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{  //Others\r\n\t\t\t\tscript.onload = function () {\r\n\t\t\t\t\tcallback && (context ? context[callback]() : callback(isSuccess));\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\tscript.src = url;\r\n\r\n\t\t\tdocument.body.appendChild(document.createComment(\" Script \" + libName + \" *** JS \"));\r\n\t\t\tdocument.body.appendChild(script);\r\n\t\t}\r\n\t}\r\n\r\n\tYX.Util.load.loadScript = loadScript;\r\n\r\n\t/***\r\n\t * loadScript with Promise\r\n\t * @param url\r\n\t * @returns {Promise}\r\n\t */\r\n\tfunction loadScriptWithPromise(url, type)\r\n\t{\r\n\t\treturn new Promise(function (resolve, reject) {\r\n\t\t\tif (!url)\r\n\t\t\t{\r\n\t\t\t\treject(new Error(\"url is null!\"));\r\n\t\t\t}\r\n\t\t\tif (checkResourceLoaded(url))\r\n\t\t\t{\r\n\t\t\t\tresolve(true);\r\n\t\t\t}\r\n\r\n\t\t\tlet script = document.createElement(\"script\"),\r\n\t\t\t\t\tisSuccess = true;\r\n\t\t\tscript.type = type ? type : \"text/javascript\";\r\n\r\n\t\t\tscript.onerror = function () {\r\n\t\t\t\tisSuccess = false;\r\n\t\t\t\treject();\r\n\t\t\t};\r\n\t\t\tif (script.readyState)\r\n\t\t\t{  //IE\r\n\t\t\t\tscript.onreadystatechange = function () {\r\n\t\t\t\t\tif (script.readyState === \"loaded\" || script.readyState === \"complete\")\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tscript.onreadystatechange = null;\r\n\t\t\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t\t\tresolve(true);\r\n\t\t\t\t\t\t}, 0);\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{  //Others\r\n\t\t\t\tscript.onload = function () {\r\n\t\t\t\t\tresolve(true);\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\tscript.src = url;\r\n\r\n\t\t\tdocument.body.appendChild(document.createComment(\" Script \" + getFileNameFromURL(url).name + \" *** JS \"));\r\n\t\t\tdocument.body.appendChild(script);\r\n\t\t});\r\n\t}\r\n\r\n\tYX.Util.load.loadScriptWithPromise = loadScriptWithPromise;\r\n\r\n\t/***\r\n\t * loadCSS\r\n\t * @param {(string|string[])} url string or an array of urls\r\n\t * @param {function} [callback] - callback() after script loaded\r\n\t * @param {object} [context] - callback's context\r\n\t */\r\n\tfunction loadCSS(url, callback, context)\r\n\t{\r\n\t\tif (!url)\r\n\t\t\treturn;\r\n\r\n\t\tif (Array.isArray(url))\r\n\t\t{\r\n\t\t\t// Process the url and callback if they are array;\r\n\t\t\tparameterArrayToItem(function (urlParam, callbackParam) {\r\n\t\t\t\tloadCSS(urlParam, callbackParam);\r\n\t\t\t}, url, callback);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tlet link = document.createElement('link');\r\n\t\t\tlink.rel = 'stylesheet';\r\n\t\t\tlink.type = 'text/css';\r\n\t\t\tlink.href = url;\r\n\t\t\tlink.onload = function () {\r\n\t\t\t\tcallback && (context ? context[callback]() : callback());\r\n\t\t\t};\r\n\t\t\tlink.onerror = function () {\r\n\t\t\t\tconsole.log(\"Error load css:\" + url);\r\n\t\t\t};\r\n\r\n\t\t\tdocument.getElementsByTagName('head')[0].appendChild(document.createComment(\" Style \" + getFileNameFromURL(url).name + \" *** CSS \"));\r\n\t\t\tdocument.getElementsByTagName('head')[0].appendChild(link);\r\n\t\t}\r\n\t}\r\n\r\n\tYX.Util.load.loadCSS = loadCSS;\r\n\r\n\t/***\r\n\t * loadCSS with Promise\r\n\t * @param url\r\n\t * @returns {Promise}\r\n\t */\r\n\tfunction loadCSSWithPromise(url)\r\n\t{\r\n\t\treturn new Promise(function (resolve, reject) {\r\n\t\t\tif (!url)\r\n\t\t\t{\r\n\t\t\t\treject(new Error(\"url is null!\"));\r\n\t\t\t}\r\n\t\t\tif (checkResourceLoaded(url))\r\n\t\t\t{\r\n\t\t\t\tresolve(true);\r\n\t\t\t}\r\n\r\n\t\t\tlet link = document.createElement('link');\r\n\t\t\tlink.rel = 'stylesheet';\r\n\t\t\tlink.type = 'text/css';\r\n\t\t\tlink.href = url;\r\n\t\t\tlink.onload = function () {\r\n\t\t\t\tresolve(true);\r\n\t\t\t};\r\n\t\t\tlink.onerror = function (error) {\r\n\t\t\t\treject(new Error(error));\r\n\t\t\t};\r\n\r\n\t\t\tdocument.getElementsByTagName('head')[0].appendChild(document.createComment(\" Style \" + getFileNameFromURL(url).name + \" *** CSS \"));\r\n\t\t\tdocument.getElementsByTagName('head')[0].appendChild(link);\r\n\t\t});\r\n\t}\r\n\r\n\tYX.Util.load.loadCSSWithPromise = loadCSSWithPromise;\r\n\r\n\t/***\r\n\t * Load resource: support url types - js, css\r\n\t * @param {string} url\r\n\t * @param {function} [callback] - callback() after resource loaded\r\n\t */\r\n\tfunction loadResource(url, callback)\r\n\t{\r\n\t\tif (!checkResourceLoaded(url))\r\n\t\t{\r\n\t\t\tYX.Util.load[getUrlTypeInfo(url).loadFn](url, callback);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tcallback && callback();\r\n\t\t}\r\n\t}\r\n\r\n\tYX.Util.load.loadResource = loadResource;\r\n\r\n\t/***\r\n\t * loadResources: support url, js, css\r\n\t * @param {string[]} urls - an array of urls\r\n\t * @param {function} [callback] - callback() after url loaded\r\n\t */\r\n\tfunction loadResources(urls, callback)\r\n\t{\r\n\t\tif (urls !== null && urls !== '')\r\n\t\t{\r\n\t\t\tif (Array.isArray(urls))\r\n\t\t\t{\r\n\t\t\t\turls = urls.filter(function (url) {\r\n\t\t\t\t\treturn (String(url) === url && url !== '');\r\n\t\t\t\t});\r\n\t\t\t\tif (urls.length === 0)\r\n\t\t\t\t{\r\n\t\t\t\t\tcallback && callback();\r\n\t\t\t\t}\r\n\t\t\t\telse if (urls.length === 1)\r\n\t\t\t\t{\r\n\t\t\t\t\tloadResource(urls[0], callback);\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tif (callback)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tloadUrls(urls, callback);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\turls.map(function (url) {\r\n\t\t\t\t\t\t\tloadResource(url);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse if (String(urls) === urls)\r\n\t\t\t{\r\n\t\t\t\tloadResource(urls, callback);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tcallback && callback();\r\n\t\t}\r\n\t}\r\n\r\n\tYX.Util.load.loadResources = loadResources;\r\n\r\n\t/***\r\n\t * checkResourceLoaded\r\n\t * @param {string} url\r\n\t * @returns {boolean}\r\n\t */\r\n\tfunction checkResourceLoaded(url)\r\n\t{\r\n\t\tlet type = getUrlTypeInfo(url),\r\n\t\t\t\ttypeSelector = type['tagName'] || '[src]',\r\n\t\t\t\tallUrls = Array.prototype.slice.call(document.querySelectorAll(typeSelector))\r\n\t\t\t\t\t\t.map(function (scriptElement) {\r\n\t\t\t\t\t\t\treturn scriptElement[type['urlAttrName']];\r\n\t\t\t\t\t\t});\r\n\t\treturn allUrls.indexOf(url) !== -1;\r\n\t}\r\n\r\n\tYX.Util.load.checkResourceLoaded = checkResourceLoaded;\r\n\r\n\t/***\r\n\t * loadUrls with Promise if it is supported\r\n\t * @param {string[]} urls - an array of urls\r\n\t * @param {function} [callback] - callback() after url loaded\r\n\t */\r\n\tfunction loadUrls(urls, callback)\r\n\t{\r\n\t\tlet unLoadedResourcesInfo = urls.filter(function (url) {\r\n\t\t\treturn !checkResourceLoaded(url);\r\n\t\t}).map(function (resource) {\r\n\t\t\tlet resourceInfo = getUrlTypeInfo(resource);\r\n\t\t\tresourceInfo.url = resource;\r\n\t\t\treturn resourceInfo;\r\n\t\t});\r\n\t\t// If support Promise, use Promise\r\n\t\tif (typeof Promise !== \"undefined\" && Promise.toString().indexOf(\"[native code]\") !== -1)\r\n\t\t{\r\n\t\t\tlet resourcePromise = unLoadedResourcesInfo.map(function (resourceInfo) {\r\n\t\t\t\treturn YX.Util.load[resourceInfo.loadFnPromise](resourceInfo.url);\r\n\t\t\t});\r\n\t\t\tPromise.all(resourcePromise).then(function () {\r\n\t\t\t\tcallback && callback();\r\n\t\t\t}).catch(function (error) {\r\n\t\t\t\tconsole.log(\"Error: in load resources! \" + error);\r\n\t\t\t});\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tunLoadedResourcesInfo.forEach(function (resourceInfo) {\r\n\t\t\t\tYX.Util.load[resourceInfo.loadFn](resourceInfo.url);\r\n\t\t\t});\r\n\t\t\tcallback && callback();\r\n\t\t}\r\n\t}\r\n\r\n\tYX.Util.load.loadUrls = loadUrls;\r\n\r\n\t/***\r\n\t * Use XDomainRequest when browser <= IE9, otherwise use XMLHttpRequest(not support < IE9);\r\n\t * @param {string} url\r\n\t * @param {function} callback\r\n\t * @param {object} context: callback's context\r\n\t */\r\n\tfunction getFileContent(url, callback, context)\r\n\t{\r\n\t\tif (document.documentMode <= 9 && root.XDomainRequest)\r\n\t\t{\r\n\t\t\txdrGetRequest(url, callback, context)\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\txmlHTTPGetRequest(url, callback, context);\r\n\t\t}\r\n\r\n\t\t/***\r\n\t\t * xdrGetRequest: send get request in IE <= 9\r\n\t\t * @param {string} url\r\n\t\t * @param {function} callback\r\n\t\t * @param {object} context: callback's context\r\n\t\t *\r\n\t\t * XDomainRequest is an implementation of HTTP access control (CORS) that worked in Internet Explorer 8 and 9.\r\n\t\t * It was removed in Internet Explorer 10 in favor of using XMLHttpRequest with proper CORS;\r\n\t\t * https://developer.mozilla.org/zh-CN/docs/Web/API/XDomainRequest\r\n\t\t */\r\n\t\tfunction xdrGetRequest(url, callback, context)\r\n\t\t{\r\n\t\t\tlet xdr = new XDomainRequest();\r\n\t\t\tif (xdr)\r\n\t\t\t{\r\n\t\t\t\txdr.onload = function () {\r\n\t\t\t\t\tcallback && (context ? context[callback](xdr.responseText) : callback(xdr.responseText));\r\n\t\t\t\t};\r\n\t\t\t\txdr.onerror = function () {\r\n\t\t\t\t\t/* error handling here */\r\n\t\t\t\t};\r\n\t\t\t\txdr.open('GET', url);\r\n\t\t\t\txdr.send();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/***\r\n\t\t * XMLHttpRequest: send get request in IE >= 10, or other browsers\r\n\t\t * @param {string} url\r\n\t\t * @param {function} callback\r\n\t\t * @param {object} context: callback's context\r\n\t\t */\r\n\t\tfunction xmlHTTPGetRequest(url, callback, context)\r\n\t\t{\r\n\t\t\tlet request = new XMLHttpRequest();\r\n\t\t\trequest.open('GET', url, true);\r\n\t\t\trequest.onload = function () {\r\n\t\t\t\tif (request.status >= 200 && request.status < 400)\r\n\t\t\t\t{\r\n\t\t\t\t\t// Success\r\n\t\t\t\t\tcallback && (context ? context[callback](request.responseText) : callback(request.responseText));\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\t// We reached our target server, but it returned an error\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\trequest.onerror = function () {\r\n\t\t\t\t// There was a connection error of some sort\r\n\t\t\t};\r\n\t\t\trequest.send();\r\n\t\t}\r\n\t}\r\n\r\n\tYX.Util.load.getFileContent = getFileContent;\r\n\r\n\t/***\r\n\t * Ajax request: dependency jQuery\r\n\t * @param {string} url\r\n\t * @param {function} callback\r\n\t * @param {object} context: callback's context\r\n\t */\r\n\tfunction getFileContentWithAjax(url, callback, context)\r\n\t{\r\n\t\t$.ajax({\r\n\t\t\turl: url,\r\n\t\t\tsuccess: function (data) {\r\n\t\t\t\tcallback && (context ? context[callback](data) : callback(data));\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tYX.Util.load.getFileContentWithAjax = getFileContentWithAjax;\r\n\r\n\t/********************************************************************************************************************/\r\n\r\n\tYX.Util.tool = {};\r\n\r\n\t/**\r\n\t * Throttle, specially in onResize event function;\r\n\t * @param method\r\n\t * @param context\r\n\t * @param {number} [timeout]\r\n\t */\r\n\tfunction throttle(method, context, timeout)\r\n\t{\r\n\t\ttimeout = (timeout || timeout === 0) ? timeout : 100;\r\n\t\tif (method.tId)\r\n\t\t{\r\n\t\t\tclearTimeout(method.tId);\r\n\t\t}\r\n\t\tmethod.tId = setTimeout(function () {\r\n\t\t\tmethod.call(context);\r\n\t\t}, timeout);\r\n\t}\r\n\r\n\tYX.Util.tool.throttle = throttle;\r\n\r\n\t/**\r\n\t * Custom console log modal in function\r\n\t * @param fnArguments\r\n\t */\r\n\tfunction consoleLog(fnArguments)\r\n\t{\r\n\t\tlet typeStyle = [\r\n\t\t\t'font-size: 14px; color: #8665D5',\r\n\t\t\t'font-size: 14px; color: #406AD5',\r\n\t\t\t'font-size: 14px; color: #E9AC32',\r\n\t\t\t'font-size: 14px; color: #3AC1D9',\r\n\t\t\t'font-size: 14px; color: #FF7979',\r\n\t\t\t'font-size: 14px; color: #39D084',\r\n\t\t\t'font-size: 14px; color: #FF8E66',\r\n\t\t\t'font-size: 14px; color: #44B1E6',\r\n\t\t\t'font-size: 14px; color: #9e5648',\r\n\t\t\t'font-size: 14px; color: #406ad5',\r\n\t\t\t'font-size: 14px; color: #purple',\r\n\t\t\t'font-size: 14px; color: #red',\r\n\t\t\t'font-size: 14px; color: #teal',\r\n\t\t\t'font-size: 14px; color: #yellow'\r\n\t\t];\r\n\t\tif (!root.consoleLogTypes)\r\n\t\t{\r\n\t\t\troot.consoleLogTypes = {};\r\n\t\t}\r\n\t\tif (root.console && root.debug !== false)\r\n\t\t{\r\n\t\t\tlet fnName = fnArguments.callee ? fnArguments.callee.name : '',\r\n\t\t\t\t\tfnArgumentsArray = Array.prototype.slice.call(fnArguments, 0),\r\n\t\t\t\t\tfnArgumentsString = getArrayString(fnArgumentsArray),\r\n\t\t\t\t\targumentsArray = Array.prototype.slice.call(arguments, 0),\r\n\t\t\t\t\tsurplusArgumentString = argumentsArray.length > 1 && argumentsArray.shift() && getArrayString(argumentsArray);\r\n\t\t\tif (!root.consoleLogTypes[fnName])\r\n\t\t\t{\r\n\t\t\t\troot.consoleLogTypes[fnName] = {\r\n\t\t\t\t\ttypeCount: 0,\r\n\t\t\t\t\ttypeInfo: {}\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\tif (!root.consoleLogTypes[fnName].typeInfo[argumentsArray[0]])\r\n\t\t\t{\r\n\t\t\t\troot.consoleLogTypes[fnName].typeInfo[argumentsArray[0]] = typeStyle[root.consoleLogTypes[fnName].typeCount];\r\n\t\t\t\troot.consoleLogTypes[fnName].typeCount++;\r\n\t\t\t}\r\n\t\t\tif (root.consoleLogTypes.lastType !== fnName)\r\n\t\t\t{\r\n\t\t\t\troot.console.groupEnd();\r\n\t\t\t\troot.console.group(fnName);\r\n\t\t\t\troot.consoleLogTypes.lastType = fnName;\r\n\t\t\t}\r\n\t\t\troot.console.log('%c%s', root.consoleLogTypes[fnName].typeInfo[argumentsArray[0]], fnName + (fnName ? ': (' : '') + fnArgumentsString + (fnArgumentsString ? ') ' : ' ') + surplusArgumentString);\r\n\t\t}\r\n\t}\r\n\r\n\tYX.Util.tool.consoleLog = consoleLog;\r\n\r\n\t/**\r\n\t * Dynamic set callback function in root\r\n\t * @param typeName\r\n\t * @returns {*}\r\n\t */\r\n\tfunction setCallback(typeName)\r\n\t{\r\n\t\tlet typeCallback = getCallbackName(typeName);\r\n\t\tif (!root[typeCallback])\r\n\t\t{\r\n\t\t\troot[typeCallback] = function (data) {\r\n\t\t\t\troot[typeName] = data;\r\n\t\t\t};\r\n\t\t\treturn typeCallback;\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tYX.Util.tool.setCallback = setCallback;\r\n\r\n\t/**\r\n\t * getCallbackName\r\n\t * @param typeName\r\n\t * @returns {string}\r\n\t */\r\n\tfunction getCallbackName(typeName)\r\n\t{\r\n\t\treturn typeName + \"Callback\";\r\n\t}\r\n\r\n\tYX.Util.tool.getCallbackName = getCallbackName;\r\n\r\n\t/**\r\n\t * deepExtend - deep copy with out jQuery\r\n\t * @param out\r\n\t * @returns {*|{}}\r\n\t */\r\n\tfunction deepExtend(out) // arguments: (source, source1, source2, ...)\r\n\t{\r\n\t\tout = out || {};\r\n\r\n\t\tfor (let i = 1; i < arguments.length; i++)\r\n\t\t{\r\n\t\t\tlet obj = arguments[i];\r\n\r\n\t\t\tif (!obj)\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\tfor (let key in obj)\r\n\t\t\t{\r\n\t\t\t\tif (obj.hasOwnProperty(key))\r\n\t\t\t\t{\r\n\t\t\t\t\tif (typeof obj[key] === 'object'\r\n\t\t\t\t\t\t\t&& obj[key] !== null\r\n\t\t\t\t\t\t\t&& !Array.isArray(obj[key])\r\n\t\t\t\t\t\t\t&& !(obj[key] instanceof Date)\r\n\t\t\t\t\t\t\t&& !(obj[key] === 'function'))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tout[key] = deepExtend(out[key], obj[key]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tout[key] = obj[key];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn out;\r\n\t}\r\n\r\n\tYX.Util.tool.deepExtend = deepExtend;\r\n\r\n\t/**\r\n\t * Tools for processing function who has parameter array\r\n\t * @param fn\r\n\t * @param param1\r\n\t * @param param2\r\n\t */\r\n\tfunction parameterArrayToItem(fn, param1, param2)\r\n\t{\r\n\t\tlet param2IsArray = Array.isArray(param2),\r\n\t\t\t\tparam2ArrayLength = param2IsArray && param2.length || 0;\r\n\t\tfor (let i = 0, length = param1.length; i < length; i++)\r\n\t\t{\r\n\t\t\tlet param2Item = (param2IsArray && i < param2ArrayLength) ? param2[i] : null;\r\n\t\t\tfn && fn(param1[i], param2Item);\r\n\t\t}\r\n\t}\r\n\r\n\tYX.Util.tool.parameterArrayToItem = parameterArrayToItem;\r\n\r\n\t/********************************************************************************************************************/\r\n\r\n\tYX.Util.html = {};\r\n\r\n\t/**\r\n\t * Initialize template with template/templateData and source data\r\n\t * @param {string} template\r\n\t * @param {object} templateData\r\n\t * @param {object} [sourceData], for external data process from templateData function\r\n\t * @returns {string}\r\n\t */\r\n\tfunction initTemplate(template, templateData, sourceData)\r\n\t{\r\n\t\tlet result = template;\r\n\t\tfor (let key in templateData)\r\n\t\t{\r\n\t\t\tif (templateData.hasOwnProperty(key))\r\n\t\t\t{\r\n\t\t\t\tlet dataValue = templateData[key];\r\n\t\t\t\t// Process source data to required data if the templateData key's value is function\r\n\t\t\t\tif (typeof templateData[key] === 'function')\r\n\t\t\t\t{\r\n\t\t\t\t\tdataValue = templateData[key](sourceData);\r\n\t\t\t\t}\r\n\t\t\t\tresult = result.replace(new RegExp('{{' + key + '}}', \"g\"), dataValue);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tYX.Util.html.initTemplate = initTemplate;\r\n\r\n\t/**\r\n\t * Render template with data and put it to target element\r\n\t * @param targetElement\r\n\t * @param template\r\n\t * @param sourceData\r\n\t * @param templateDataFn\r\n\t * @param [position], values=[update,beforebegin,afterbegin,beforeend,afterend], default update\r\n\t */\r\n\tfunction renderTemplate(targetElement, template, sourceData, templateDataFn, position)\r\n\t{\r\n\t\tlet resultHtml = '';\r\n\t\tfor (let i = 0; i < sourceData.length; i++)\r\n\t\t{\r\n\t\t\tresultHtml += initTemplate(template, templateDataFn(sourceData[i]), sourceData[i]);\r\n\t\t}\r\n\t\tif (!position || position === 'update')\r\n\t\t{\r\n\t\t\ttargetElement.innerHTML = resultHtml;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\ttargetElement.insertAdjacentHTML(position, resultHtml);\r\n\t\t}\r\n\t}\r\n\r\n\tYX.Util.html.renderTemplate = renderTemplate;\r\n\r\n\t/********************************************************************************************************************/\r\n\r\n\tYX.Util.regExp = {};\r\n\r\n\t/***\r\n\t * regExpG\r\n\t * @param expStr\r\n\t * @returns {RegExp}\r\n\t */\r\n\tfunction regExpG(expStr)\r\n\t{\r\n\t\treturn new RegExp(expStr, \"g\");\r\n\t}\r\n\r\n\tYX.Util.regExp.regExpG = regExpG;\r\n\r\n\t/***\r\n\t * isURL\r\n\t * @param url\r\n\t * @returns {boolean}\r\n\t */\r\n\tfunction isURL(url)\r\n\t{\r\n\t\tlet expression = /(((http|ftp|https):\\/\\/)?([\\w\\-_]+(\\.(?!(\\d)+)[\\w\\-_]+))+([\\w\\-\\.,@?^=%&amp;:/~\\+#]*[\\w\\-\\@?^=%&amp;/~\\+#])?)|(\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*)/g;\r\n\t\treturn (new RegExp(expression)).test(url);\r\n\t}\r\n\r\n\tYX.Util.regExp.isURL = isURL;\r\n\r\n\t/********************************************************************************************************************/\r\n\r\n\tYX.Util.element = {};\r\n\r\n\t/**\r\n\t * getElements\r\n\t * @param elements\r\n\t * @returns {Array}\r\n\t */\r\n\tfunction getElements(elements)\r\n\t{\r\n\t\tlet resultElement = [];\r\n\t\tif (elements === undefined || elements === null)\r\n\t\t{\r\n\t\t\tresultElement = [];\r\n\t\t}\r\n\t\telse if (elements.jquery)\r\n\t\t{\r\n\t\t\tresultElement = elements.length > 1 ? elements.get() : [elements[0]];\r\n\t\t}\r\n\t\telse if (elements instanceof root.NodeList || elements instanceof NodeList || elements instanceof HTMLCollection)\r\n\t\t{\r\n\t\t\tresultElement = Array.prototype.slice.call(elements);\r\n\t\t}\r\n\t\telse if (Array.isArray(elements))\r\n\t\t{\r\n\t\t\tresultElement = elements.filter(function (element) {\r\n\t\t\t\treturn element.nodeType === 1;\r\n\t\t\t});\r\n\t\t}\r\n\t\telse if (elements.nodeType === 1)\r\n\t\t{\r\n\t\t\tresultElement = [elements];\r\n\t\t}\r\n\t\treturn resultElement;\r\n\t}\r\n\r\n\tYX.Util.element.getElements = getElements;\r\n\r\n\t/**\r\n\t * getSelectorsElements\r\n\t * @param selectorString\r\n\t * @returns {*}\r\n\t */\r\n\tfunction getSelectorsElements(selectorString)\r\n\t{\r\n\t\tif (!selectorString || (selectorString && selectorString.trim() === ''))\r\n\t\t{\r\n\t\t\treturn [document];\r\n\t\t}\r\n\t\tlet selectorsElements = [],\r\n\t\t\t\tselectorsArray = selectorString.split(',').map(function (selectorStringItem) {\r\n\t\t\t\t\treturn selectorStringItem.trim();\r\n\t\t\t\t});\r\n\t\tselectorsArray = uniqueArray(selectorsArray);\r\n\t\tfor (let i = 0, l = selectorsArray.length; i < l; i++)\r\n\t\t{\r\n\t\t\tif (selectorsArray[i] === 'document')\r\n\t\t\t{\r\n\t\t\t\tselectorsElements.push(document);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tlet scopeNodeList = convertNodeListToArray(document.querySelectorAll(selectorsArray[i]));\r\n\t\t\t\tselectorsElements = selectorsElements.concat(scopeNodeList);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn selectorsElements;\r\n\t}\r\n\r\n\tYX.Util.element.getSelectorsElements = getSelectorsElements;\r\n\r\n\t/**\r\n\t * findParent\r\n\t * @param element\r\n\t * @param selector\r\n\t * @returns {*}\r\n\t */\r\n\tfunction findParent(element, selector)\r\n\t{\r\n\t\twhile ((element = element.parentElement) && !matches(element, selector))\r\n\t\t{\r\n\t\t}\r\n\t\treturn element;\r\n\t}\r\n\r\n\tYX.Util.element.findParent = findParent;\r\n\r\n\t/**\r\n\t * matches\r\n\t * @param el\r\n\t * @param selector\r\n\t * @returns {boolean | *}\r\n\t */\r\n\tfunction matches(el, selector)\r\n\t{\r\n\t\treturn (el.matches || el.matchesSelector || el.msMatchesSelector || el.mozMatchesSelector || el.webkitMatchesSelector || el.oMatchesSelector).call(el, selector);\r\n\t}\r\n\r\n\tYX.Util.element.matches = matches;\r\n\r\n\t/***\r\n\t * Get element's closet class parent element\r\n\t * @param {element} element\r\n\t * @param {string} className\r\n\t * @returns {element}\r\n\t */\r\n\tfunction closet(element, className)\r\n\t{\r\n\t\tlet closetElement = null;\r\n\t\tif (hasClass(element, className))\r\n\t\t{\r\n\t\t\tclosetElement = element;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tclosetElement = findParent(element, '.' + className);\r\n\t\t}\r\n\t\treturn closetElement;\r\n\t}\r\n\r\n\tYX.Util.element.closet = closet;\r\n\r\n\t/***\r\n\t * Check element has parentElement\r\n\t * @param el\r\n\t * @param parentElement\r\n\t * @returns {boolean}\r\n\t */\r\n\tfunction hasCloset(el, parentElement)\r\n\t{\r\n\t\tif (el === parentElement)\r\n\t\t{\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tif (parentElement === undefined)\r\n\t\t{\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tlet parents = [], p = el.parentNode;\r\n\t\twhile (p !== parentElement && p.parentNode)\r\n\t\t{\r\n\t\t\tlet o = p;\r\n\t\t\tparents.push(o);\r\n\t\t\tp = o.parentNode;\r\n\t\t}\r\n\t\treturn p === parentElement;\r\n\t}\r\n\r\n\tYX.Util.element.hasCloset = hasCloset;\r\n\r\n\t/***\r\n\t * Convert JS selector elements to array\r\n\t * @param {elements} nodeList\r\n\t * @returns {Array}\r\n\t */\r\n\tfunction convertNodeListToArray(nodeList)\r\n\t{\r\n\t\tlet resultArray = [];\r\n\t\tfor (let i = 0, l = nodeList.length; i < l; i++)\r\n\t\t{\r\n\t\t\tresultArray[i] = nodeList[i];\r\n\t\t}\r\n\t\treturn resultArray;\r\n\t}\r\n\r\n\tYX.Util.element.convertNodeListToArray = convertNodeListToArray;\r\n\r\n\t/***\r\n\t *\r\n\t * Copy html element to clipboard\r\n\t * @param {element} element - html element\r\n\t */\r\n\tfunction copyElementToClipboard(element)\r\n\t{\r\n\t\tlet selection = root.getSelection(),    // Save the selection.\r\n\t\t\t\trange = document.createRange(),\r\n\t\t\t\tisSuccess = false;\r\n\t\trange.selectNodeContents(element);\r\n\t\tselection.removeAllRanges();          // Remove all ranges from the selection.\r\n\t\tselection.addRange(range);            // Add the new range.\r\n\r\n\t\tisSuccess = document.execCommand('copy');\r\n\t\troot.getSelection().removeAllRanges();\r\n\t\treturn isSuccess;\r\n\t}\r\n\r\n\tYX.Util.element.copyElementToClipboard = copyElementToClipboard;\r\n\r\n\t/**\r\n\t * Insert style to head\r\n\t * @param {string} cssText - style string\r\n\t */\r\n\tfunction insertStyleToHead(cssText)\r\n\t{\r\n\t\tlet head = document.head || document.getElementsByTagName('head')[0],\r\n\t\t\t\tstyle = document.createElement('style');\r\n\r\n\t\tstyle.type = 'text/css';\r\n\t\tif (style.styleSheet)\r\n\t\t{\r\n\t\t\tstyle.styleSheet.cssText = cssText;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tstyle.appendChild(document.createTextNode(cssText));\r\n\t\t}\r\n\r\n\t\thead.appendChild(style);\r\n\t}\r\n\r\n\tYX.Util.element.insertStyleToHead = insertStyleToHead;\r\n\r\n\t/**\r\n\t * Create one html tag element with tagInfo\r\n\t * @param {string} tagName - html tag name\r\n\t * @param {object} tagInfo - tag's attributes and style object, such as { attr: {}, style: {} }\r\n\t * @return {element} html tag element.\r\n\t */\r\n\tfunction createTagElement(tagName, tagInfo)\r\n\t{\r\n\t\tlet tagElement = document.createElement(tagName);\r\n\r\n\t\tObject.keys(tagInfo.attr).forEach(function (key) {\r\n\t\t\ttagElement.setAttribute(key, tagInfo.attr[key]);\r\n\t\t});\r\n\r\n\t\tObject.keys(tagInfo.style).forEach(function (key) {\r\n\t\t\ttagElement.style[key] = tagInfo.style[key];\r\n\t\t});\r\n\r\n\t\treturn tagElement;\r\n\t}\r\n\r\n\tYX.Util.element.createTagElement = createTagElement;\r\n\r\n\t/**\r\n\t * addChildElement\r\n\t * @param targetElement\r\n\t * @param addedElement\r\n\t * @param position\r\n\t * @return resultAddedElement\r\n\t */\r\n\tfunction addElement(targetElement, addedElement, position)\r\n\t{\r\n\t\tlet resultAddedElement = null;\r\n\t\tswitch (position && position.toLowerCase())\r\n\t\t{\r\n\t\t\tcase 'replace':\r\n\t\t\t\ttargetElement.innerHTML = '';\r\n\t\t\t\tresultAddedElement = targetElement.appendChild(addedElement);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'prepend':\r\n\t\t\t\tresultAddedElement = targetElement.insertBefore(addedElement, targetElement.firstChild);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'insertbefore':\r\n\t\t\t\ttargetElement.insertAdjacentHTML('beforebegin', addedElement.outerHTML);\r\n\t\t\t\tresultAddedElement = targetElement.previousSibling;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'insertafter':\r\n\t\t\t\ttargetElement.insertAdjacentHTML('afterend', addedElement.outerHTML);\r\n\t\t\t\tresultAddedElement = targetElement.nextSibling;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault: //'append'\r\n\t\t\t\tresultAddedElement = targetElement.appendChild(addedElement);\r\n\t\t}\r\n\t\treturn resultAddedElement;\r\n\t}\r\n\r\n\tYX.Util.element.addElement = addElement;\r\n\r\n\t/**\r\n\t * hasClass\r\n\t * @param element\r\n\t * @param className\r\n\t * @returns {boolean}\r\n\t */\r\n\tfunction hasClass(element, className)\r\n\t{\r\n\t\tif (element.classList)\r\n\t\t\treturn element.classList.contains(className);\r\n\t\telse\r\n\t\t\treturn new RegExp('(^| )' + className + '( |$)', 'gi').test(element.className);\r\n\t}\r\n\r\n\tYX.Util.element.hasClass = hasClass;\r\n\r\n\t/**\r\n\t * addClass\r\n\t * @param element\r\n\t * @param className\r\n\t */\r\n\tfunction addClass(element, className)\r\n\t{\r\n\t\tif (!hasClass(element, className))\r\n\t\t{\r\n\t\t\tif (element.classList)\r\n\t\t\t\telement.classList.add(className);\r\n\t\t\telse\r\n\t\t\t\telement.className += ' ' + className;\r\n\t\t}\r\n\t}\r\n\r\n\tYX.Util.element.addClass = addClass;\r\n\r\n\t/**\r\n\t * removeClass\r\n\t * @param element\r\n\t * @param className\r\n\t */\r\n\tfunction removeClass(element, className)\r\n\t{\r\n\t\tif (hasClass(element, className))\r\n\t\t{\r\n\t\t\tif (element.classList)\r\n\t\t\t\telement.classList.remove(className);\r\n\t\t\telse\r\n\t\t\t\telement.className = element.className.replace(new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\r\n\t\t}\r\n\t}\r\n\r\n\tYX.Util.element.removeClass = removeClass;\r\n\r\n\t/**\r\n\t * toggleClass\r\n\t * @param element\r\n\t * @param className\r\n\t */\r\n\tfunction toggleClass(element, className)\r\n\t{\r\n\t\tif (hasClass(element, className))\r\n\t\t{\r\n\t\t\tremoveClass(element, className);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\taddClass(element, className);\r\n\t\t}\r\n\t}\r\n\r\n\tYX.Util.element.toggleClass = toggleClass;\r\n\r\n\t/********************************************************************************************************************/\r\n\r\n\tYX.Util.page = {};\r\n\r\n\t/**\r\n\t * scrollListToIndex\r\n\t * @param listFolder\r\n\t * @param index\r\n\t * @param toTopIndex\r\n\t * @param duration\r\n\t */\r\n\tfunction scrollListToIndex(listFolder, index, toTopIndex, duration)\r\n\t{\r\n\t\tif (index === 0)\r\n\t\t{\r\n\t\t\tscrollTo(listFolder, 0, duration);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tlet listItems = listFolder.childNodes,\r\n\t\t\t\t\tscrollOffset = 0,\r\n\t\t\t\t\tcontentHeight = 0,\r\n\t\t\t\t\tscrollToCenter = 0;\r\n\t\t\tduration = (duration === undefined ? 500 : duration);\r\n\t\t\tfor (let i = 0, l = listItems.length; i < l; i++)\r\n\t\t\t{\r\n\t\t\t\tlet listItemHeight = listItems[i].offsetHeight;\r\n\t\t\t\tif (i < index)\r\n\t\t\t\t{\r\n\t\t\t\t\tscrollOffset += listItemHeight;\r\n\t\t\t\t\tif (i > toTopIndex - 1)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tscrollToCenter += listItems[i - toTopIndex].offsetHeight;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tcontentHeight += listItemHeight;\r\n\t\t\t}\r\n\t\t\tscrollOffset = scrollToCenter;\r\n\t\t\tif (scrollOffset + listFolder.offsetHeight > contentHeight)\r\n\t\t\t{\r\n\t\t\t\tscrollOffset = contentHeight - listFolder.offsetHeight;\r\n\t\t\t}\r\n\t\t\tscrollTo(listFolder, scrollOffset, duration);\r\n\t\t}\r\n\t}\r\n\r\n\tYX.Util.page.scrollListToIndex = scrollListToIndex;\r\n\r\n\t/**\r\n\t * scrollTo\r\n\t * @param element\r\n\t * @param to\r\n\t * @param duration\r\n\t */\r\n\tfunction scrollTo(element, to, duration)\r\n\t{\r\n\t\tif (duration <= 0) return;\r\n\t\tlet difference = to - element.scrollTop;\r\n\t\tlet perTick = difference / duration * 10;\r\n\r\n\t\tsetTimeout(function () {\r\n\t\t\telement.scrollTop = element.scrollTop + perTick;\r\n\t\t\tif (element.scrollTop === to) return;\r\n\t\t\tscrollTo(element, to, duration - 10);\r\n\t\t}, 10);\r\n\t}\r\n\r\n\tYX.Util.page.scrollTo = scrollTo;\r\n\r\n\t/********************************************************************************************************************/\r\n\r\n\tYX.Util.event = {};\r\n\r\n\t/**\r\n\t * delegate element event\r\n\t * @param element\r\n\t * @param eventName\r\n\t * @param selector\r\n\t * @param handler\r\n\t */\r\n\tfunction delegate(element, eventName, selector, handler)\r\n\t{\r\n\t\tlet possibleTargets = element.querySelectorAll(selector);\r\n\t\telement.addEventListener(eventName, listenerHandler);\r\n\r\n\t\tfunction listenerHandler(event)\r\n\t\t{\r\n\t\t\tlet target = event.target;\r\n\r\n\t\t\tfor (let i = 0, l = possibleTargets.length; i < l; i++)\r\n\t\t\t{\r\n\t\t\t\tlet el = target,\r\n\t\t\t\t\t\tp = possibleTargets[i];\r\n\r\n\t\t\t\twhile (el && el !== element)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (el === p)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\treturn handler.call(p, event);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tel = el.parentNode;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tYX.Util.event.delegate = delegate;\r\n\r\n\t/**\r\n\t * bindClickIgnoreDrag\r\n\t * @param elements\r\n\t * @param callback\r\n\t * @param isBind\r\n\t */\r\n\tfunction bindClickIgnoreDrag(elements, callback, isBind)\r\n\t{\r\n\t\tlet eventListenerName = isBind !== false ? 'on' : 'off',\r\n\t\t\t\tmouseDownX = 0,\r\n\t\t\t\tmouseDownY = 0;\r\n\r\n\t\t[].forEach.call(elements, function (element) {\r\n\t\t\textendOnOff(element)[eventListenerName]('mousedown', mouseDownHandler);\r\n\t\t});\r\n\r\n\t\tfunction mouseDownHandler(event)\r\n\t\t{\r\n\t\t\tmouseDownX = event.pageX;\r\n\t\t\tmouseDownY = event.pageY;\r\n\t\t\tevent.target.addEventListener('mouseup', mouseUpMoveHandler);\r\n\t\t\tevent.target.addEventListener('mousemove', mouseUpMoveHandler);\r\n\t\t}\r\n\r\n\t\tfunction mouseUpMoveHandler(event)\r\n\t\t{\r\n\t\t\tif (event.type === 'mouseup' && event.which <= 1) //only for left key\r\n\t\t\t{\r\n\t\t\t\tcallback(event);\r\n\t\t\t}\r\n\t\t\telse if (event.type === 'mousemove' && event.pageX === mouseDownX && event.pageY === mouseDownY)\r\n\t\t\t{\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tevent.target.removeEventListener('mouseup', mouseUpMoveHandler);\r\n\t\t\tevent.target.removeEventListener('mousemove', mouseUpMoveHandler);\r\n\t\t}\r\n\t}\r\n\r\n\tYX.Util.event.bindClickIgnoreDrag = bindClickIgnoreDrag;\r\n\r\n\t/**\r\n\t * triggerEvent\r\n\t * @param element\r\n\t * @param eventName\r\n\t * @param data\r\n\t */\r\n\tfunction triggerEvent(element, eventName, data)\r\n\t{\r\n\t\tlet event = null;\r\n\t\tif (root.CustomEvent)\r\n\t\t{\r\n\t\t\tevent = new CustomEvent(eventName, {detail: data});\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tevent = document.createEvent('CustomEvent');\r\n\t\t\tevent.initCustomEvent(eventName, true, true, data);\r\n\t\t}\r\n\r\n\t\telement.dispatchEvent(event);\r\n\t}\r\n\r\n\tYX.Util.event.triggerEvent = triggerEvent;\r\n\r\n\t/**\r\n\t * Extend on/off methods\r\n\t * @param el: element\r\n\t * @returns {*}\r\n\t */\r\n\tfunction extendOnOff(el)\r\n\t{\r\n\t\tif (el.length === 0)\r\n\t\t\treturn null;\r\n\t\tlet events = {\r\n\t\t\ton: function (event, callback, opts) {\r\n\t\t\t\tif (!this.namespaces) // save the namespaces on the DOM element itself\r\n\t\t\t\t\tthis.namespaces = {};\r\n\r\n\t\t\t\tthis.namespaces[event] = callback;\r\n\t\t\t\tlet options = opts || false;\r\n\r\n\t\t\t\tthis.addEventListener(event.split('.')[0], callback, options);\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\toff: function (event) {\r\n\t\t\t\tthis.removeEventListener(event.split('.')[0], this.namespaces[event]);\r\n\t\t\t\tdelete this.namespaces[event];\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t// Extend the DOM with these above custom methods\r\n\t\tif (!el.isExtendOnOff)\r\n\t\t{\r\n\t\t\tel.on = Element.prototype.on = events.on;\r\n\t\t\tel.off = Element.prototype.off = events.off;\r\n\t\t\tel.isExtendOnOff = true;\r\n\t\t}\r\n\t\treturn el;\r\n\t}\r\n\r\n\tYX.Util.event.extendOnOff = extendOnOff;\r\n\r\n\t/**\r\n\t * mouseTouchTrack\r\n\t * @param element\r\n\t * @param infoCallback\r\n\t */\r\n\tfunction mouseTouchTrack(element, infoCallback)\r\n\t{\r\n\t\tlet touchStartBeginTime = 0,\r\n\t\t\t\tlastEventType = '';\r\n\r\n\t\telement.onclick = trackEvent;\r\n\t\telement.ontouchstart = trackEvent;\r\n\t\telement.ontouchend = trackEvent;\r\n\t\telement.ontouchmove = trackEvent;\r\n\t\telement.onmousedown = trackEvent;\r\n\t\telement.onmouseenter = trackEvent;\r\n\t\telement.onmouseleave = trackEvent;\r\n\t\telement.onmousemove = trackEvent;\r\n\t\telement.onmouseout = trackEvent;\r\n\t\telement.onmouseover = trackEvent;\r\n\t\telement.onmouseup = trackEvent;\r\n\r\n\t\tfunction trackEvent(event)\r\n\t\t{\r\n\t\t\tif (event.type === \"touchstart\")\r\n\t\t\t{\r\n\t\t\t\ttouchStartBeginTime = Date.now();\r\n\t\t\t}\r\n\t\t\tif (event.type !== lastEventType)\r\n\t\t\t{\r\n\t\t\t\tinfoCallback = infoCallback ? infoCallback : console.log;\r\n\t\t\t\tinfoCallback(arguments, event.type, Date.now() - touchStartBeginTime);\r\n\r\n\t\t\t\tlastEventType = event.type;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tYX.Util.event.mouseTouchTrack = mouseTouchTrack;\r\n\r\n\tYX.Util.event.notification = (option, spopOption) => {\r\n\t\tlet showNotification = (option) => {\r\n\t\t\tif (option.registration && option.registration.showNotification)\r\n\t\t\t{\r\n\t\t\t\toption.registration.showNotification(option.title, option);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tlet noti = new Notification(option.title, option);\r\n\t\t\t\tlet autoclose = option.autoclose;\r\n\t\t\t\tif (autoclose !== undefined)\r\n\t\t\t\t{\r\n\t\t\t\t\tnoti.onshow = () => {\r\n\t\t\t\t\t\tsetTimeout(noti.close.bind(noti), autoclose);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\tif (!(\"Notification\" in root))\r\n\t\t{\r\n\t\t\tYX.Plugin.spop(spopOption);\r\n\t\t}\r\n\t\telse if (Notification.permission === \"granted\")\r\n\t\t{\r\n\t\t\tshowNotification(option);\r\n\t\t}\r\n\t\telse if (Notification.permission !== 'denied')\r\n\t\t{\r\n\t\t\tNotification.requestPermission(function (permission) {\r\n\t\t\t\tif (permission === \"granted\")\r\n\t\t\t\t{\r\n\t\t\t\t\tshowNotification(option);\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tYX.Plugin.spop(spopOption);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tYX.Plugin.spop(spopOption);\r\n\t\t}\r\n\t};\r\n\r\n\t/********************************************************************************************************************/\r\n\r\n\tYX.Util.math = {};\r\n\r\n\tYX.Util.math.isPrime = (number) => {\r\n\t\tif (number === 0 || number === 1)\r\n\t\t{\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tfor (let i = 2; i <= Math.sqrt(number); i++)\r\n\t\t{\r\n\t\t\tif (number % i === 0)\r\n\t\t\t{\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t};\r\n\r\n\t/********************************************************************************************************************/\r\n\r\n\tconst call = (method, params) => {\r\n\t\tlet callMethod = (callers, thisArg) => {\r\n\t\t\tlet caller = callers.shift();\r\n\t\t\tthisArg = thisArg ? thisArg : (self || this || window);\r\n\t\t\tthisArg = thisArg[caller];\r\n\t\t\tif (callers.length > 0)\r\n\t\t\t{\r\n\t\t\t\tthisArg = callMethod(callers, thisArg);\r\n\t\t\t}\r\n\t\t\treturn thisArg;\r\n\t\t};\r\n\t\treturn new Promise((resolve) => {\r\n\t\t\tlet callers = method.split('.');\r\n\t\t\tparams = Array.isArray(params) ? params : [params];\r\n\t\t\tlet result = callMethod(callers)(...params);\r\n\t\t\tresolve(result);\r\n\t\t});\r\n\t};\r\n\r\n\tYX.Util.call = call;\r\n\r\n\t/********************************************************************************************************************/\r\n\r\n\tYX.Plugin = {};\r\n\r\n\tYX.Plugin.spop = (options) => {\r\n\t\tconst commonPath = 'https://gyx8899.github.io/YX-WebThemeKit/';\r\n\t\tconst spopScript = commonPath + 'theme-pop/spop/spop.min.js';\r\n\t\tconst spopStyle = commonPath + 'theme-pop/spop/spop.min.css';\r\n\t\tPromise.all([YX.Util.load.loadScriptWithPromise(spopScript), YX.Util.load.loadCSSWithPromise(spopStyle)])\r\n\t\t\t\t.then((results) => {\r\n\t\t\t\t\tif (results[0] && results[1])\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tspop(options);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t};\r\n\r\n\t/********************************************************************************************************************/\r\n\r\n\tclass WebWorker {\r\n\t\tconstructor(options)\r\n\t\t{\r\n\t\t\tif (window.Worker && options.workerUrl)\r\n\t\t\t{\r\n\t\t\t\tthis.worker = new Worker(options.workerUrl);\r\n\t\t\t\tthis.onMessage();\r\n\t\t\t\tthis.onError(options && options.errorCallback);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\talert('Browser does not support Worker, or workUrl not set!');\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tstatic getInstance(options)\r\n\t\t{\r\n\t\t\tif (!this.instance)\r\n\t\t\t{\r\n\t\t\t\tthis.instance = new WebWorker(options);\r\n\t\t\t}\r\n\t\t\treturn this.instance;\r\n\t\t}\r\n\r\n\t\tonMessage()\r\n\t\t{\r\n\t\t\tthis.worker.onmessage = function (e) {\r\n\t\t\t\tif (e.data)\r\n\t\t\t\t{\r\n\t\t\t\t\tlet {result, callback} = e.data;\r\n\t\t\t\t\tYX.Util.call(callback, result);\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\talert(`onmessage error: ${e}!`);\r\n\t\t\t\t}\r\n\t\t\t\t// throw new Error('Something wrong!'); // onerror\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tpostMessage(method = null, params = [], callback = null, scripts = [], isClose = false)\r\n\t\t{\r\n\t\t\tscripts = Array.isArray(scripts) ? scripts : [scripts];\r\n\t\t\tthis.worker.postMessage({method, params, callback, scripts});\r\n\t\t}\r\n\r\n\t\tonError(errorCallback)\r\n\t\t{\r\n\t\t\tthis.worker.onerror = function (err) {\r\n\t\t\t\tconsole.table(err);\r\n\t\t\t\terrorCallback && errorCallback(err);\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tterminate()\r\n\t\t{\r\n\t\t\tthis.worker.terminate();\r\n\t\t}\r\n\t}\r\n\r\n\tYX.WebWorker = WebWorker;\r\n\r\n\t/********************************************************************************************************************/\r\n\r\n\tclass SharedWorkers\r\n\t{\r\n\t\tconstructor(options)\r\n\t\t{\r\n\t\t\tif (window.Worker && options.workerUrl)\r\n\t\t\t{\r\n\t\t\t\tthis.worker = new SharedWorker(options.workerUrl);\r\n\t\t\t\t// this.worker.port.start();\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\talert('Browser does not support Worker, or workUrl not set!');\r\n\t\t\t}\r\n\t\t}\r\n\t\tstatic getInstance(options)\r\n\t\t{\r\n\t\t\tif (!this.instance)\r\n\t\t\t{\r\n\t\t\t\tthis.instance = new SharedWorkers(options);\r\n\t\t\t}\r\n\t\t\treturn this.instance;\r\n\t\t}\r\n\r\n\t\tonMessage(callback)\r\n\t\t{\r\n\t\t\tthis.worker.port.onmessage = (e) => {\r\n\t\t\t\tcallback && callback(e);\r\n\t\t\t\tif (e.data.callback)\r\n\t\t\t\t{\r\n\t\t\t\t\tlet {message, callback} = e.data;\r\n\t\t\t\t\tYX.Util.call(callback, message);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tpostMessage(postData)\r\n\t\t{\r\n\t\t\t// Case 1: call function like webworker, just compute;\r\n\t\t\t// postData =\r\n\t\t\t// {\r\n\t\t\t// \ttype: 'apply',\r\n\t\t\t// \t// method: 'isPrime', // function name or calling path\r\n\t\t\t// \tmethod: 'YX.Util.math.isPrime', // function name or calling path\r\n\t\t\t// \t// params: 8, // one param or array params;\r\n\t\t\t// \tparams: [8], // one param or array params;\r\n\t\t\t// \t// scripts: 'common.js', // method dependency script files (relative/absolute) path;\r\n\t\t\t// \tscripts: ['common.js', 'util.js'], // method dependency script files (relative/absolute) path;;\r\n\t\t\t// \t// callback: 'isPrimeCallback', // function name or calling path\r\n\t\t\t// \tcallback: 'YX.Util.tool.consoleLog'\r\n\t\t\t// };\r\n\r\n\t\t\t// Case 2.1: Post the called function result to which post listen this event\r\n\t\t\t// postData =\r\n\t\t\t// {\r\n\t\t\t// \ttype: 'post',\r\n\t\t\t// \tevent: 'postComputeResult', // post to this event listener;\r\n\t\t\t// \t// method: 'isPrime', // function name or calling path;\r\n\t\t\t// \tmethod: 'YX.Util.math.isPrime', // function name or calling path;\r\n\t\t\t// \t// params: 8, // one param or array params;\r\n\t\t\t// \tparams: [8], // one param or array params;\r\n\t\t\t// \t// scripts: 'common.js', // method dependency script files (relative/absolute) path;\r\n\t\t\t// \tscripts: ['common.js', 'util.js'], // method dependency script files (relative/absolute) path;\r\n\t\t\t// \t// callback: 'isPrimeCallback', // function name or calling path;\r\n\t\t\t// \tcallback: 'YX.Util.tool.consoleLog'\r\n\t\t\t// };\r\n\t\t\t// Case 2.2: Post message to special event listener;\r\n\t\t\t// postData =\r\n\t\t\t// {\r\n\t\t\t// \ttype: 'post',\r\n\t\t\t// \tevent: 'postEventMessage',\r\n\t\t\t// \tmessage: 'This is post message'\r\n\t\t\t// };\r\n\t\t\t// Case 3: Get message from special event listener;\r\n\t\t\t// postData =\r\n\t\t\t// {\r\n\t\t\t// \ttype: 'get',\r\n\t\t\t// \tevent: 'postEventMessage'\r\n\t\t\t// };\r\n\t\t\tthis.worker.port.postMessage(postData);\r\n\t\t}\r\n\t}\r\n\r\n\tYX.SharedWorkers = SharedWorkers;\r\n\r\n\t/********************************************************************************************************************/\r\n\r\n\tclass Event\r\n\t{\r\n\t\tconstructor(options)\r\n\t\t{\r\n\t\t\tthis._cache = {};\r\n\t\t}\r\n\r\n\t\tstatic getInstance(options)\r\n\t\t{\r\n\t\t\tif (!this.instance)\r\n\t\t\t{\r\n\t\t\t\tthis.instance = new Event(options);\r\n\t\t\t}\r\n\t\t\treturn this.instance;\r\n\t\t}\r\n\r\n\t\ton(eventName, callback)\r\n\t\t{\r\n\t\t\tif (!this._cache[eventName])\r\n\t\t\t{\r\n\t\t\t\tthis._cache[eventName] = [];\r\n\t\t\t}\r\n\r\n\t\t\tif (typeof callback === 'function' && this._cache[eventName].indexOf(callback) === -1)\r\n\t\t\t{\r\n\t\t\t\tthis._cache[eventName].push(callback);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\ttypeof callback !== 'function' && alert(`Your added callback ${callback} is not one valid function.`);\r\n\t\t\t\tthis._cache[eventName].indexOf(callback) !== -1 && alert(`Same on(eventName, callback) have been called!`);\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\toff(eventName, callback)\r\n\t\t{\r\n\t\t\tlet eventCallbacks = this._cache[eventName];\r\n\t\t\tif (Array.isArray(eventCallbacks) && eventCallbacks.length)\r\n\t\t\t{\r\n\t\t\t\tif (callback)\r\n\t\t\t\t{\r\n\t\t\t\t\teventCallbacks.splice(eventCallbacks.indexOf(callback), 1);\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\teventCallbacks.length = 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\ttrigger(eventName, data)\r\n\t\t{\r\n\t\t\tlet eventCallbacks = this._cache[eventName];\r\n\t\t\tif (eventCallbacks && eventCallbacks.length)\r\n\t\t\t{\r\n\t\t\t\teventCallbacks.forEach((callback) => {\r\n\t\t\t\t\tcallback(data);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t}\r\n\t}\r\n\r\n\tYX.Event = Event;\r\n\tYX.event = Event.getInstance();\r\n\r\n\t/********************************************************************************************************************/\r\n\r\n\troot.YX = YX;\r\n\r\n// Compatible with webpack\r\n\tif (typeof exports === 'object' && typeof module === 'object')\r\n\t{\r\n\t\tmodule.exports = YX;\r\n\t}\r\n})();"],"sourceRoot":""}