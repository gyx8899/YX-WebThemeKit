{"version":3,"sources":["webpack://YX/webpack/universalModuleDefinition","webpack://YX/webpack/bootstrap","webpack://YX/(webpack)/buildin/module.js","webpack://YX/./assets/js/common.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","webpackPolyfill","deprecate","paths","children","_this","this","self","YX","uniqueArray","sourceArray","concat","_toConsumableArray","Set","getArrayString","array","map","arrayItem","Array","isArray","_typeof","JSON","stringify","toString","join","findIndex","item","ret","length","escapeHTML","str","&","<",">","\"","'","replace","getFileNameFromURL","url","fileNameSplit","split","pop","simpleBaseName","extensionName","baseName","splice","getUrlQueryParams","query","queryParams","indexOf","location","search","substring","queryParam","decodeURIComponent","getUrlTypeInfo","fileExtensionName","js","tagName","urlAttrName","loadFn","loadFnPromise","css","getCurrentScript","scriptName","allScripts","document","getElementsByTagName","currentScript","script","src","match","loadResource","callback","checkResourceLoaded","Util","load","type","typeSelector","slice","querySelectorAll","scriptElement","loadUrls","urls","unLoadedResourcesInfo","filter","resource","resourceInfo","Promise","resourcePromise","all","then","catch","error","console","log","forEach","spliceItem","index","string","titleCase","charAt","toUpperCase","escapeJS","navigator","isZHLanguage","languages","browserLanguage","some","language","getQueryParamValue","param","getCurrentScriptParameter","getCurrentScriptPath","getRootPath","href","pathName","pathname","substr","lastIndexOf","getScriptName","Error","source","lastStackFrameRegex","RegExp","currentStackFrameRegex","exec","stack","trim","undefined","getCurrentScriptSrc","scripts","isExist","context","link","createElement","isSuccess","onerror","readyState","onreadystatechange","setTimeout","onload","rel","querySelector","appendChild","loadScript","info","parameterArrayToItem","urlParam","callbackParam","libName","setAttribute","attributes","attr","body","createComment","loadScriptWithPromise","resolve","reject","loadCSS","loadCSSWithPromise","loadResources","String","getFileContent","documentMode","XDomainRequest","xdr","responseText","open","send","xdrGetRequest","request","XMLHttpRequest","status","xmlHTTPGetRequest","getFileContentWithAjax","$","ajax","success","data","tool","throttle","method","timeout","tId","clearTimeout","getCallbackName","typeName","fn","param1","param2","param2IsArray","param2ArrayLength","param2Item","initTemplate","template","templateData","sourceData","result","key","dataValue","findParent","element","selector","parentElement","matches","el","matchesSelector","msMatchesSelector","mozMatchesSelector","webkitMatchesSelector","oMatchesSelector","convertNodeListToArray","nodeList","resultArray","hasClass","className","classList","contains","test","addClass","add","removeClass","remove","scrollTo","to","duration","perTick","scrollTop","extendOnOff","events","event","opts","namespaces","options","addEventListener","removeEventListener","isExtendOnOff","on","Element","off","timeChunk","ary","count","timer","setInterval","clearInterval","Math","min","shift","start","consoleLog","fnArguments","consoleLogTypes","debug","fnName","callee","fnArgumentsString","argumentsArray","arguments","surplusArgumentString","typeCount","typeInfo","lastType","groupEnd","group","setCallback","typeCallback","deepExtend","out","obj","Date","html","renderTemplate","targetElement","templateDataFn","position","resultHtml","insertAdjacentHTML","innerHTML","regExp","regExpG","expStr","isURL","getElements","elements","resultElement","jquery","NodeList","HTMLCollection","nodeType","getSelectorsElements","selectorString","selectorsElements","selectorsArray","selectorStringItem","push","scopeNodeList","closest","hasClosest","parents","parentNode","copyElementToClipboard","selection","getSelection","range","createRange","selectNodeContents","removeAllRanges","addRange","execCommand","insertStyleToHead","cssText","head","style","styleSheet","createTextNode","createTagElement","tagInfo","tagElement","keys","addElement","addedElement","resultAddedElement","toLowerCase","insertBefore","firstChild","outerHTML","previousSibling","nextSibling","toggleClass","page","scrollListToIndex","listFolder","toTopIndex","listItems","childNodes","scrollOffset","contentHeight","scrollToCenter","listItemHeight","offsetHeight","delegate","eventName","handler","possibleTargets","target","bindClickIgnoreDrag","isBind","eventListenerName","mouseDownX","mouseDownY","mouseDownHandler","pageX","pageY","mouseUpMoveHandler","which","triggerEvent","CustomEvent","detail","createEvent","initCustomEvent","dispatchEvent","mouseTouchTrack","infoCallback","touchStartBeginTime","lastEventType","trackEvent","now","onclick","ontouchstart","ontouchend","ontouchmove","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","notification","option","spopOption","showNotification","registration","title","noti","Notification","autoclose","onshow","close","bind","permission","requestPermission","Plugin","spop","math","isPrime","number","sqrt","params","callers","callMethod","thisArg","caller","apply","commonPath","results","WebWorker","_classCallCheck","Worker","workerUrl","worker","onMessage","onError","errorCallback","alert","_createClass","onmessage","e","_e$data","postMessage","err","table","terminate","instance","SharedWorkers","SharedWorker","port","_e$data2","message","postData","Event","_cache","eventCallbacks","getInstance"],"mappings":"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","file":"common.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"YX\"] = factory();\n\telse\n\t\troot[\"YX\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","module.exports = function(module) {\r\n\tif (!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif (!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n","/**!\r\n * YX Common Library v1.2.7.181028_beta | https://github.com/gyx8899/YX-JS-ToolKit/blob/master/assets/js\r\n * Copyright (c) 2018 Kate Kuo @Steper\r\n */\r\n(function () {\r\n\tlet root = self || this || window;\r\n\r\n\tlet YX = {};\r\n\r\n\t/********************************************************************************************************************/\r\n\t/**\r\n\t * Util\r\n\t * @type {{}}\r\n\t */\r\n\tYX.Util = {};\r\n\r\n\t/**\r\n\t * Util.array\r\n\t * @type {{}}\r\n\t */\r\n\tYX.Util.array = {};\r\n\r\n\t/***\r\n\t * uniqueArray\r\n\t * @param {Array} sourceArray\r\n\t * @returns {Array}\r\n\t */\r\n\tfunction uniqueArray(sourceArray)\r\n\t{\r\n\t\treturn [...new Set(sourceArray)];\r\n\t}\r\n\r\n\tYX.Util.array.uniqueArray = uniqueArray;\r\n\r\n\t/**\r\n\t * Get array item string which spilt with ',';\r\n\t * @param array\r\n\t * @returns {string}\r\n\t */\r\n\tfunction getArrayString(array)\r\n\t{\r\n\t\treturn array.map(function (arrayItem) {\r\n\t\t\tif (Array.isArray(arrayItem))\r\n\t\t\t{\r\n\t\t\t\tarrayItem = '[' + getArrayString(arrayItem) + ']';\r\n\t\t\t}\r\n\t\t\telse if (typeof arrayItem === 'object')\r\n\t\t\t{\r\n\t\t\t\tarrayItem = JSON.stringify(arrayItem);\r\n\t\t\t}\r\n\t\t\treturn arrayItem.toString();\r\n\t\t}).join(',');\r\n\t}\r\n\r\n\tYX.Util.array.getArrayString = getArrayString;\r\n\r\n\t/**\r\n\t * Find item's index in array\r\n\t * @param array\r\n\t * @param item\r\n\t * @return {number}\r\n\t */\r\n\tfunction findIndex(array, item)\r\n\t{\r\n\t\tlet ret = -1;\r\n\t\tfor (let i = array.length - 1; i > 0; i--)\r\n\t\t{\r\n\t\t\tif (array[i] === item)\r\n\t\t\t{\r\n\t\t\t\tret = i;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn ret;\r\n\t}\r\n\r\n\tYX.Util.array.findIndex = findIndex;\r\n\r\n\t/**\r\n\t * Remove item from array\r\n\t * @param array\r\n\t * @param item\r\n\t * @return {*}\r\n\t */\r\n\tfunction spliceItem(array, item)\r\n\t{\r\n\t\tlet index = findIndex(array, item);\r\n\t\tif (index === -1)\r\n\t\t{\r\n\t\t\treturn array;\r\n\t\t}\r\n\t\treturn array.splice(index, 1);\r\n\t}\r\n\r\n\tYX.Util.array.spliceItem = spliceItem;\r\n\r\n\t/********************************************************************************************************************/\r\n\t/**\r\n\t * Util.string\r\n\t * @type {{}}\r\n\t */\r\n\tYX.Util.string = {};\r\n\r\n\t/**\r\n\t * Capitalize the first word\r\n\t * @param string\r\n\t * @return {string}\r\n\t */\r\n\tfunction titleCase(string)\r\n\t{\r\n\t\treturn string.charAt(0).toUpperCase() + string.slice(1);\r\n\t}\r\n\r\n\tYX.Util.string.titleCase = titleCase;\r\n\r\n\t/***\r\n\t * escapeHTML\r\n\t * @param {string} str\r\n\t * @returns {void|string}\r\n\t */\r\n\tfunction escapeHTML(str)\r\n\t{\r\n\t\tlet map = {\r\n\t\t\t'&': '&amp;',\r\n\t\t\t'<': '&lt;',\r\n\t\t\t'>': '&gt;',\r\n\t\t\t'\"': '&quot;',\r\n\t\t\t\"'\": '&#039;'\r\n\t\t};\r\n\r\n\t\treturn str.replace(/[&<>\"']/g, function (m) {\r\n\t\t\treturn map[m];\r\n\t\t});\r\n\t}\r\n\r\n\tYX.Util.string.escapeHTML = escapeHTML;\r\n\r\n\t/**\r\n\t * Escape string for js parameter\r\n\t * @param str\r\n\t * @return {*}\r\n\t */\r\n\tfunction escapeJS(str)\r\n\t{\r\n\t\treturn escapeHTML(str.replace(/[\\\\]/g, '\\\\\\\\').replace(/[\"]/g, '\\\\\\\"').replace(/[']/g, \"\\\\\\'\"));\r\n\t}\r\n\r\n\tYX.Util.string.escapeJS = escapeJS;\r\n\r\n\t/********************************************************************************************************************/\r\n\t/**\r\n\t * Util.navigator\r\n\t * @type {{}}\r\n\t */\r\n\tYX.Util.navigator = {};\r\n\r\n\t/**\r\n\t * Check browser language setting which has zh[-CN/TW/HK]\r\n\t * @return {boolean}\r\n\t */\r\n\tfunction isZHLanguage()\r\n\t{\r\n\t\tlet browserLanguage = root.navigator.languages ? root.navigator.languages : root.navigator.browserLanguage;\r\n\t\treturn browserLanguage.some(language => {\r\n\t\t\treturn language.indexOf('zh') === 0;\r\n\t\t});\r\n\t}\r\n\r\n\tYX.Util.navigator.isZHLanguage = isZHLanguage;\r\n\r\n\t/********************************************************************************************************************/\r\n\t/**\r\n\t * Util.url\r\n\t * @type {{}}\r\n\t */\r\n\tYX.Util.url = {};\r\n\r\n\t/***\r\n\t * getFileNameFromURL\r\n\t * @param {string} url\r\n\t * @returns {object} {name: '', simpleBaseName: '', extensionName: '', baseName: ''}\r\n\t */\r\n\tfunction getFileNameFromURL(url)\r\n\t{\r\n\t\tlet fileNameSplit = url.split('/').pop().split('#')[0].split('?')[0].split('.');\r\n\t\treturn {\r\n\t\t\tname: fileNameSplit.join('.'),\r\n\t\t\tsimpleBaseName: fileNameSplit[0],\r\n\t\t\textensionName: fileNameSplit.length > 1 ? fileNameSplit[fileNameSplit.length - 1] : '',\r\n\t\t\tbaseName: fileNameSplit.length > 1 ? fileNameSplit.splice(0, fileNameSplit.length - 1).join('.') : fileNameSplit[0],\r\n\t\t};\r\n\t}\r\n\r\n\tYX.Util.url.getFileNameFromURL = getFileNameFromURL;\r\n\r\n\t/***\r\n\t * getUrlQueryParams\r\n\t * @param {string} url\r\n\t * @returns {object}\r\n\t */\r\n\tfunction getUrlQueryParams(url)\r\n\t{\r\n\t\tlet query = {},\r\n\t\t\t\tsearchStr = url ? (url.indexOf('?') !== -1 ? url.split('?')[1] : '') : root.location.search.substring(1),\r\n\t\t\t\tqueryParams = searchStr.split(\"&\");\r\n\t\tfor (let i = 0; i < queryParams.length; i++)\r\n\t\t{\r\n\t\t\tlet queryParam = queryParams[i].split(\"=\");\r\n\t\t\tif (queryParam.length > 1)\r\n\t\t\t{\r\n\t\t\t\tquery[queryParam[0]] = decodeURIComponent(queryParam[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn query;\r\n\t}\r\n\r\n\tYX.Util.url.getUrlQueryParams = getUrlQueryParams;\r\n\r\n\t/***\r\n\t * getQueryParamValue\r\n\t * @param param\r\n\t * @returns {*}\r\n\t */\r\n\tfunction getQueryParamValue(param)\r\n\t{\r\n\t\tlet query = root.location.search.substring(1);\r\n\t\tlet queryParams = query.split(\"&\");\r\n\t\tfor (let i = 0; i < queryParams.length; i++)\r\n\t\t{\r\n\t\t\tlet queryParam = queryParams[i].split(\"=\");\r\n\t\t\tif (queryParam.length > 1 && queryParam[0] === param)\r\n\t\t\t{\r\n\t\t\t\treturn decodeURIComponent(queryParam[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tYX.Util.url.getQueryParamValue = getQueryParamValue;\r\n\r\n\t/***\r\n\t * getUrlTypeInfo\r\n\t * @param {string} url\r\n\t * @returns {object}\r\n\t */\r\n\tfunction getUrlTypeInfo(url)\r\n\t{\r\n\t\t// Current only support js and css resources;\r\n\t\tlet fileExtensionName = getFileNameFromURL(url).extensionName;\r\n\t\tif (fileExtensionName)\r\n\t\t{\r\n\t\t\tlet urlType = {\r\n\t\t\t\t'js': {\r\n\t\t\t\t\tname: 'js',\r\n\t\t\t\t\ttagName: 'script',\r\n\t\t\t\t\turlAttrName: 'src',\r\n\t\t\t\t\tloadFn: 'loadScript',\r\n\t\t\t\t\tloadFnPromise: 'loadScriptWithPromise'\r\n\t\t\t\t},\r\n\t\t\t\t'css': {\r\n\t\t\t\t\tname: 'css',\r\n\t\t\t\t\ttagName: 'link',\r\n\t\t\t\t\turlAttrName: 'href',\r\n\t\t\t\t\tloadFn: 'loadCSS',\r\n\t\t\t\t\tloadFnPromise: 'loadCSSWithPromise'\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\treturn urlType[fileExtensionName];\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tYX.Util.url.getUrlTypeInfo = getUrlTypeInfo;\r\n\r\n\t/***\r\n\t * getCurrentScript in Page\r\n\t * @param {string} scriptName\r\n\t * @returns {Element || null}\r\n\t */\r\n\tfunction getCurrentScript(scriptName)\r\n\t{\r\n\t\tlet allScripts = document.getElementsByTagName(\"script\");\r\n\r\n\t\tif (scriptName)\r\n\t\t{\r\n\t\t\tfor (let i = 0; i < allScripts.length; i++)\r\n\t\t\t{\r\n\t\t\t\tlet script = allScripts.item(i);\r\n\r\n\t\t\t\tif (script.src && script.src.match(scriptName))\r\n\t\t\t\t{\r\n\t\t\t\t\treturn script;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tif (document.currentScript)\r\n\t\t\t{\r\n\t\t\t\treturn document.currentScript;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\treturn allScripts[allScripts.length - 1];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tYX.Util.url.getCurrentScript = getCurrentScript;\r\n\r\n\t/**\r\n\t * getCurrentScriptParameter\r\n\t * @return {Object}\r\n\t */\r\n\tfunction getCurrentScriptParameter()\r\n\t{\r\n\t\tlet currentScript = getCurrentScript();\r\n\t\treturn currentScript ? getUrlQueryParams(currentScript.src) : {};\r\n\t}\r\n\r\n\tYX.Util.url.getCurrentScriptParameter = getCurrentScriptParameter;\r\n\r\n\t/***\r\n\t * getCurrentScriptPath in Page\r\n\t * @param {string} scriptName\r\n\t * @returns {null|string}\r\n\t */\r\n\tfunction getCurrentScriptPath(scriptName)\r\n\t{\r\n\t\tlet script = getCurrentScript(scriptName);\r\n\t\treturn script ? script.src : '';\r\n\t}\r\n\r\n\tYX.Util.url.getCurrentScriptPath = getCurrentScriptPath;\r\n\r\n\t/***\r\n\t * getRootPath\r\n\t * @returns {string}\r\n\t */\r\n\tfunction getRootPath()\r\n\t{\r\n\t\tlet href = root.document.location.href,\r\n\t\t\t\tpathName = root.document.location.pathname,\r\n\t\t\t\tlocalhostPath = href.substring(0, href.indexOf(pathName)),\r\n\t\t\t\tprojectName = pathName.substring(0, pathName.substr(1).lastIndexOf('/') + 1);\r\n\t\treturn (localhostPath + projectName);\r\n\t}\r\n\r\n\tYX.Util.url.getRootPath = getRootPath;\r\n\r\n\t/**\r\n\t * getScriptName\r\n\t * Not support in IE\r\n\t * @return {*}\r\n\t */\r\n\tfunction getScriptName()\r\n\t{\r\n\t\tlet error = new Error()\r\n\t\t\t\t, source\r\n\t\t\t\t, lastStackFrameRegex = new RegExp(/.+\\/(.*?):\\d+(:\\d+)*$/)\r\n\t\t\t\t, currentStackFrameRegex = new RegExp(/getScriptName \\(.+\\/(.*):\\d+:\\d+\\)/);\r\n\r\n\t\tif ((source = lastStackFrameRegex.exec(error.stack.trim())) && source[1] != \"\")\r\n\t\t\treturn source[1];\r\n\t\telse if ((source = currentStackFrameRegex.exec(error.stack.trim())))\r\n\t\t\treturn source[1];\r\n\t\telse if (error['fileName'] !== undefined)\r\n\t\t\treturn error['fileName'];\r\n\t}\r\n\r\n\tYX.Util.url.getScriptName = getScriptName;\r\n\r\n\t/**\r\n\t * getCurrentScriptSrc\r\n\t * @return {string}\r\n\t */\r\n\tfunction getCurrentScriptSrc()\r\n\t{\r\n\t\tvar scripts = document.getElementsByTagName(\"script\");\r\n\t\treturn (document.currentScript || scripts[scripts.length - 1]).src;\r\n\t}\r\n\r\n\tYX.Util.url.getCurrentScriptSrc = getCurrentScriptSrc;\r\n\r\n\t/**\r\n\t * Check url is exist or not, callback with success state\r\n\t * @param url\r\n\t * @param callback\r\n\t * @param context\r\n\t */\r\n\tfunction isExist(url, callback, context)\r\n\t{\r\n\t\tlet link = document.createElement(\"link\"),\r\n\t\t\t\tisSuccess = true;\r\n\r\n\t\tlink.onerror = function () {\r\n\t\t\tisSuccess = false;\r\n\t\t\tcallback && (context ? context[callback]() : callback(isSuccess));\r\n\t\t};\r\n\t\tif (link.readyState)\r\n\t\t{  //IE\r\n\t\t\tlink.onreadystatechange = function () {\r\n\t\t\t\tif (link.readyState === \"loaded\" || link.readyState === \"complete\")\r\n\t\t\t\t{\r\n\t\t\t\t\tlink.onreadystatechange = null;\r\n\t\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t\tisSuccess && callback && (context ? context[callback]() : callback(isSuccess));\r\n\t\t\t\t\t}, 0);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\t\telse\r\n\t\t{  //Others\r\n\t\t\tlink.onload = function () {\r\n\t\t\t\tcallback && (context ? context[callback]() : callback(isSuccess));\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tlink.href = url;\r\n\t\t// TODO: type and rel should be accord to with checked file\r\n\t\tlink.type = 'text/css';\r\n\t\tlink.rel = 'stylesheet';\r\n\r\n\t\tdocument.querySelector('head').appendChild(link);\r\n\t}\r\n\r\n\tYX.Util.url.isExist = isExist;\r\n\r\n\t/********************************************************************************************************************/\r\n\t/**\r\n\t * Util.load\r\n\t * @type {{}}\r\n\t */\r\n\tYX.Util.load = {};\r\n\r\n\t/***\r\n\t * loadScript\r\n\t * @param {(string)} url string of url\r\n\t * @param {function} [callback] - callback() after script loaded\r\n\t * @param {object} [context] - callback's context\r\n\t * @param {object} info - {isAsync: [true/false], attributes: {}, libName: \"\"}\r\n\t */\r\n\tfunction loadScript(url, callback, context, info)\r\n\t{\r\n\t\tif (!url)\r\n\t\t\treturn;\r\n\r\n\t\tif (Array.isArray(url))\r\n\t\t{\r\n\t\t\t// Process the url and callback if they are array;\r\n\t\t\tparameterArrayToItem(function (urlParam, callbackParam) {\r\n\t\t\t\tloadScript(urlParam, callbackParam, context, info);\r\n\t\t\t}, url, callback);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tlet script = document.createElement(\"script\"),\r\n\t\t\t\t\tisSuccess = true,\r\n\t\t\t\t\tlibName = info && info['libName'] ? info['libName'] : getFileNameFromURL(url).name;\r\n\t\t\tscript.type = \"text/javascript\";\r\n\t\t\tinfo && info['isAsync'] && script.setAttribute('async', '');\r\n\r\n\t\t\tif (info && info.attributes)\r\n\t\t\t{\r\n\t\t\t\tfor (let attr in info.attributes)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (info.attributes.hasOwnProperty(attr))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tscript.setAttribute(attr, info.attributes[attr]);\r\n\t\t\t\t\t\tattr === 'class' && script.setAttribute('className', info.attributes[attr]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tscript.onerror = function () {\r\n\t\t\t\tisSuccess = false;\r\n\t\t\t\tcallback && (context ? context[callback]() : callback(isSuccess));\r\n\t\t\t};\r\n\t\t\tif (script.readyState)\r\n\t\t\t{  //IE\r\n\t\t\t\tscript.onreadystatechange = function () {\r\n\t\t\t\t\tif (script.readyState === \"loaded\" || script.readyState === \"complete\")\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tscript.onreadystatechange = null;\r\n\t\t\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t\t\tisSuccess && callback && (context ? context[callback]() : callback(isSuccess));\r\n\t\t\t\t\t\t}, 0);\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{  //Others\r\n\t\t\t\tscript.onload = function () {\r\n\t\t\t\t\tcallback && (context ? context[callback]() : callback(isSuccess));\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\tscript.src = url;\r\n\r\n\t\t\tdocument.body.appendChild(document.createComment(\" Script \" + libName + \" *** JS \"));\r\n\t\t\tdocument.body.appendChild(script);\r\n\t\t}\r\n\t}\r\n\r\n\tYX.Util.load.loadScript = loadScript;\r\n\r\n\t/***\r\n\t * loadScript with Promise\r\n\t * @param url\r\n\t * @returns {Promise}\r\n\t */\r\n\tfunction loadScriptWithPromise(url, type)\r\n\t{\r\n\t\treturn new Promise(function (resolve, reject) {\r\n\t\t\tif (!url)\r\n\t\t\t{\r\n\t\t\t\treject(new Error(\"url is null!\"));\r\n\t\t\t}\r\n\t\t\tif (checkResourceLoaded(url))\r\n\t\t\t{\r\n\t\t\t\tresolve(true);\r\n\t\t\t}\r\n\r\n\t\t\tlet script = document.createElement(\"script\"),\r\n\t\t\t\t\tisSuccess = true;\r\n\t\t\tscript.type = type ? type : \"text/javascript\";\r\n\r\n\t\t\tscript.onerror = function () {\r\n\t\t\t\tisSuccess = false;\r\n\t\t\t\treject();\r\n\t\t\t};\r\n\t\t\tif (script.readyState)\r\n\t\t\t{  //IE\r\n\t\t\t\tscript.onreadystatechange = function () {\r\n\t\t\t\t\tif (script.readyState === \"loaded\" || script.readyState === \"complete\")\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tscript.onreadystatechange = null;\r\n\t\t\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t\t\tresolve(true);\r\n\t\t\t\t\t\t}, 0);\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{  //Others\r\n\t\t\t\tscript.onload = function () {\r\n\t\t\t\t\tresolve(true);\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\tscript.src = url;\r\n\r\n\t\t\tdocument.body.appendChild(document.createComment(\" Script \" + getFileNameFromURL(url).name + \" *** JS \"));\r\n\t\t\tdocument.body.appendChild(script);\r\n\t\t});\r\n\t}\r\n\r\n\tYX.Util.load.loadScriptWithPromise = loadScriptWithPromise;\r\n\r\n\t/***\r\n\t * loadCSS\r\n\t * @param {(string|string[])} url string or an array of urls\r\n\t * @param {function} [callback] - callback() after script loaded\r\n\t * @param {object} [context] - callback's context\r\n\t */\r\n\tfunction loadCSS(url, callback, context)\r\n\t{\r\n\t\tif (!url)\r\n\t\t\treturn;\r\n\r\n\t\tif (Array.isArray(url))\r\n\t\t{\r\n\t\t\t// Process the url and callback if they are array;\r\n\t\t\tparameterArrayToItem(function (urlParam, callbackParam) {\r\n\t\t\t\tloadCSS(urlParam, callbackParam);\r\n\t\t\t}, url, callback);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tlet link = document.createElement('link');\r\n\t\t\tlink.rel = 'stylesheet';\r\n\t\t\tlink.type = 'text/css';\r\n\t\t\tlink.href = url;\r\n\t\t\tlink.onload = function () {\r\n\t\t\t\tcallback && (context ? context[callback]() : callback());\r\n\t\t\t};\r\n\t\t\tlink.onerror = function () {\r\n\t\t\t\tconsole.log(\"Error load css:\" + url);\r\n\t\t\t};\r\n\r\n\t\t\tdocument.getElementsByTagName('head')[0].appendChild(document.createComment(\" Style \" + getFileNameFromURL(url).name + \" *** CSS \"));\r\n\t\t\tdocument.getElementsByTagName('head')[0].appendChild(link);\r\n\t\t}\r\n\t}\r\n\r\n\tYX.Util.load.loadCSS = loadCSS;\r\n\r\n\t/***\r\n\t * loadCSS with Promise\r\n\t * @param url\r\n\t * @returns {Promise}\r\n\t */\r\n\tfunction loadCSSWithPromise(url)\r\n\t{\r\n\t\treturn new Promise(function (resolve, reject) {\r\n\t\t\tif (!url)\r\n\t\t\t{\r\n\t\t\t\treject(new Error(\"url is null!\"));\r\n\t\t\t}\r\n\t\t\tif (checkResourceLoaded(url))\r\n\t\t\t{\r\n\t\t\t\tresolve(true);\r\n\t\t\t}\r\n\r\n\t\t\tlet link = document.createElement('link');\r\n\t\t\tlink.rel = 'stylesheet';\r\n\t\t\tlink.type = 'text/css';\r\n\t\t\tlink.href = url;\r\n\t\t\tlink.onload = function () {\r\n\t\t\t\tresolve(true);\r\n\t\t\t};\r\n\t\t\tlink.onerror = function (error) {\r\n\t\t\t\treject(new Error(error));\r\n\t\t\t};\r\n\r\n\t\t\tdocument.getElementsByTagName('head')[0].appendChild(document.createComment(\" Style \" + getFileNameFromURL(url).name + \" *** CSS \"));\r\n\t\t\tdocument.getElementsByTagName('head')[0].appendChild(link);\r\n\t\t});\r\n\t}\r\n\r\n\tYX.Util.load.loadCSSWithPromise = loadCSSWithPromise;\r\n\r\n\t/***\r\n\t * Load resource: support url types - js, css\r\n\t * @param {string} url\r\n\t * @param {function} [callback] - callback() after resource loaded\r\n\t */\r\n\tfunction loadResource(url, callback)\r\n\t{\r\n\t\tif (!checkResourceLoaded(url))\r\n\t\t{\r\n\t\t\tYX.Util.load[getUrlTypeInfo(url).loadFn](url, callback);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tcallback && callback();\r\n\t\t}\r\n\t}\r\n\r\n\tYX.Util.load.loadResource = loadResource;\r\n\r\n\t/***\r\n\t * loadResources: support url, js, css\r\n\t * @param {string[]} urls - an array of urls\r\n\t * @param {function} [callback] - callback() after url loaded\r\n\t */\r\n\tfunction loadResources(urls, callback)\r\n\t{\r\n\t\tif (urls !== null && urls !== '')\r\n\t\t{\r\n\t\t\tif (Array.isArray(urls))\r\n\t\t\t{\r\n\t\t\t\turls = urls.filter(function (url) {\r\n\t\t\t\t\treturn (String(url) === url && url !== '');\r\n\t\t\t\t});\r\n\t\t\t\tif (urls.length === 0)\r\n\t\t\t\t{\r\n\t\t\t\t\tcallback && callback();\r\n\t\t\t\t}\r\n\t\t\t\telse if (urls.length === 1)\r\n\t\t\t\t{\r\n\t\t\t\t\tloadResource(urls[0], callback);\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tif (callback)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tloadUrls(urls, callback);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\turls.map(function (url) {\r\n\t\t\t\t\t\t\tloadResource(url);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse if (String(urls) === urls)\r\n\t\t\t{\r\n\t\t\t\tloadResource(urls, callback);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tcallback && callback();\r\n\t\t}\r\n\t}\r\n\r\n\tYX.Util.load.loadResources = loadResources;\r\n\r\n\t/***\r\n\t * checkResourceLoaded\r\n\t * @param {string} url\r\n\t * @returns {boolean}\r\n\t */\r\n\tfunction checkResourceLoaded(url)\r\n\t{\r\n\t\tlet type = getUrlTypeInfo(url),\r\n\t\t\t\ttypeSelector = type['tagName'] || '[src]',\r\n\t\t\t\tallUrls = Array.prototype.slice.call(document.querySelectorAll(typeSelector))\r\n\t\t\t\t\t\t.map(function (scriptElement) {\r\n\t\t\t\t\t\t\treturn scriptElement[type['urlAttrName']];\r\n\t\t\t\t\t\t});\r\n\t\treturn allUrls.indexOf(url) !== -1;\r\n\t}\r\n\r\n\tYX.Util.load.checkResourceLoaded = checkResourceLoaded;\r\n\r\n\t/***\r\n\t * loadUrls with Promise if it is supported\r\n\t * @param {string[]} urls - an array of urls\r\n\t * @param {function} [callback] - callback() after url loaded\r\n\t */\r\n\tfunction loadUrls(urls, callback)\r\n\t{\r\n\t\tlet unLoadedResourcesInfo = urls.filter(function (url) {\r\n\t\t\treturn !checkResourceLoaded(url);\r\n\t\t}).map(function (resource) {\r\n\t\t\tlet resourceInfo = getUrlTypeInfo(resource);\r\n\t\t\tresourceInfo.url = resource;\r\n\t\t\treturn resourceInfo;\r\n\t\t});\r\n\t\t// If support Promise, use Promise\r\n\t\tif (typeof Promise !== \"undefined\" && Promise.toString().indexOf(\"[native code]\") !== -1)\r\n\t\t{\r\n\t\t\tlet resourcePromise = unLoadedResourcesInfo.map(function (resourceInfo) {\r\n\t\t\t\treturn YX.Util.load[resourceInfo.loadFnPromise](resourceInfo.url);\r\n\t\t\t});\r\n\t\t\tPromise.all(resourcePromise).then(function () {\r\n\t\t\t\tcallback && callback();\r\n\t\t\t}).catch(function (error) {\r\n\t\t\t\tconsole.log(\"Error: in load resources! \" + error);\r\n\t\t\t});\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tunLoadedResourcesInfo.forEach(function (resourceInfo) {\r\n\t\t\t\tYX.Util.load[resourceInfo.loadFn](resourceInfo.url);\r\n\t\t\t});\r\n\t\t\tcallback && callback();\r\n\t\t}\r\n\t}\r\n\r\n\tYX.Util.load.loadUrls = loadUrls;\r\n\r\n\t/***\r\n\t * Use XDomainRequest when browser <= IE9, otherwise use XMLHttpRequest(not support < IE9);\r\n\t * @param {string} url\r\n\t * @param {function} callback\r\n\t * @param {object} context: callback's context\r\n\t */\r\n\tfunction getFileContent(url, callback, context)\r\n\t{\r\n\t\tif (document.documentMode <= 9 && root.XDomainRequest)\r\n\t\t{\r\n\t\t\txdrGetRequest(url, callback, context)\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\txmlHTTPGetRequest(url, callback, context);\r\n\t\t}\r\n\r\n\t\t/***\r\n\t\t * xdrGetRequest: send get request in IE <= 9\r\n\t\t * @param {string} url\r\n\t\t * @param {function} callback\r\n\t\t * @param {object} context: callback's context\r\n\t\t *\r\n\t\t * XDomainRequest is an implementation of HTTP access control (CORS) that worked in Internet Explorer 8 and 9.\r\n\t\t * It was removed in Internet Explorer 10 in favor of using XMLHttpRequest with proper CORS;\r\n\t\t * https://developer.mozilla.org/zh-CN/docs/Web/API/XDomainRequest\r\n\t\t */\r\n\t\tfunction xdrGetRequest(url, callback, context)\r\n\t\t{\r\n\t\t\tlet xdr = new XDomainRequest();\r\n\t\t\tif (xdr)\r\n\t\t\t{\r\n\t\t\t\txdr.onload = function () {\r\n\t\t\t\t\tcallback && (context ? context[callback](xdr.responseText) : callback(xdr.responseText));\r\n\t\t\t\t};\r\n\t\t\t\txdr.onerror = function () {\r\n\t\t\t\t\t/* error handling here */\r\n\t\t\t\t};\r\n\t\t\t\txdr.open('GET', url);\r\n\t\t\t\txdr.send();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/***\r\n\t\t * XMLHttpRequest: send get request in IE >= 10, or other browsers\r\n\t\t * @param {string} url\r\n\t\t * @param {function} callback\r\n\t\t * @param {object} context: callback's context\r\n\t\t */\r\n\t\tfunction xmlHTTPGetRequest(url, callback, context)\r\n\t\t{\r\n\t\t\tlet request = new XMLHttpRequest();\r\n\t\t\trequest.open('GET', url, true);\r\n\t\t\trequest.onload = function () {\r\n\t\t\t\tif (request.status >= 200 && request.status < 400)\r\n\t\t\t\t{\r\n\t\t\t\t\t// Success\r\n\t\t\t\t\tcallback && (context ? context[callback](request.responseText) : callback(request.responseText));\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\t// We reached our target server, but it returned an error\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\trequest.onerror = function () {\r\n\t\t\t\t// There was a connection error of some sort\r\n\t\t\t};\r\n\t\t\trequest.send();\r\n\t\t}\r\n\t}\r\n\r\n\tYX.Util.load.getFileContent = getFileContent;\r\n\r\n\t/***\r\n\t * Ajax request: dependency jQuery\r\n\t * @param {string} url\r\n\t * @param {function} callback\r\n\t * @param {object} context: callback's context\r\n\t */\r\n\tfunction getFileContentWithAjax(url, callback, context)\r\n\t{\r\n\t\t$.ajax({\r\n\t\t\turl: url,\r\n\t\t\tsuccess: function (data) {\r\n\t\t\t\tcallback && (context ? context[callback](data) : callback(data));\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tYX.Util.load.getFileContentWithAjax = getFileContentWithAjax;\r\n\r\n\t/********************************************************************************************************************/\r\n\r\n\tYX.Util.tool = {};\r\n\r\n\t/**\r\n\t * Throttle, specially in onResize event function;\r\n\t * @param method\r\n\t * @param context\r\n\t * @param {number} [timeout]\r\n\t */\r\n\tfunction throttle(method, context, timeout)\r\n\t{\r\n\t\ttimeout = (timeout || timeout === 0) ? timeout : 100;\r\n\t\tif (method.tId === undefined)\r\n\t\t{\r\n\t\t\tmethod.call(context);\r\n\t\t}\r\n\t\telse if (method.tId)\r\n\t\t{\r\n\t\t\tclearTimeout(method.tId);\r\n\t\t\tmethod.tId = null;\r\n\t\t}\r\n\t\tmethod.tId = setTimeout(function () {\r\n\t\t\tmethod.call(context);\r\n\t\t}, timeout);\r\n\t}\r\n\r\n\tYX.Util.tool.throttle = throttle;\r\n\r\n\t/**\r\n\t * lazy iterator array items\r\n\t * @param ary\r\n\t * @param fn\r\n\t * @param count\r\n\t * @return {Function}\r\n\t */\r\n\tlet timeChunk = (ary, fn, count) => {\r\n\t\tlet timer = null,\r\n\t\t\t\tarray = [...ary],\r\n\t\tstart = () => {\r\n\t\t\tfor (let i = 0; i < Math.min(count || 1, array.length); i++)\r\n\t\t\t{\r\n\t\t\t\tfn(array.shift());\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn () => {\r\n\t\t\ttimer = setInterval(() => {\r\n\t\t\t\tif (array.length === 0)\r\n\t\t\t\t{\r\n\t\t\t\t\treturn clearInterval(timer);\r\n\t\t\t\t}\r\n\t\t\t\tstart();\r\n\t\t\t}, 200);\r\n\t\t};\r\n\t};\r\n\r\n\tYX.Util.tool.timeChunk = timeChunk;\r\n\r\n\t/**\r\n\t * Custom console log modal in function\r\n\t * @param fnArguments\r\n\t */\r\n\tfunction consoleLog(fnArguments)\r\n\t{\r\n\t\tlet typeStyle = [\r\n\t\t\t'font-size: 14px; color: #8665D5',\r\n\t\t\t'font-size: 14px; color: #406AD5',\r\n\t\t\t'font-size: 14px; color: #E9AC32',\r\n\t\t\t'font-size: 14px; color: #3AC1D9',\r\n\t\t\t'font-size: 14px; color: #FF7979',\r\n\t\t\t'font-size: 14px; color: #39D084',\r\n\t\t\t'font-size: 14px; color: #FF8E66',\r\n\t\t\t'font-size: 14px; color: #44B1E6',\r\n\t\t\t'font-size: 14px; color: #9e5648',\r\n\t\t\t'font-size: 14px; color: #406ad5',\r\n\t\t\t'font-size: 14px; color: #purple',\r\n\t\t\t'font-size: 14px; color: #red',\r\n\t\t\t'font-size: 14px; color: #teal',\r\n\t\t\t'font-size: 14px; color: #yellow'\r\n\t\t];\r\n\t\tif (!root.consoleLogTypes)\r\n\t\t{\r\n\t\t\troot.consoleLogTypes = {};\r\n\t\t}\r\n\t\tif (root.console && root.debug !== false)\r\n\t\t{\r\n\t\t\tlet fnName = fnArguments.callee ? fnArguments.callee.name : '',\r\n\t\t\t\t\tfnArgumentsArray = Array.prototype.slice.call(fnArguments, 0),\r\n\t\t\t\t\tfnArgumentsString = getArrayString(fnArgumentsArray),\r\n\t\t\t\t\targumentsArray = Array.prototype.slice.call(arguments, 0),\r\n\t\t\t\t\tsurplusArgumentString = argumentsArray.length > 1 && argumentsArray.shift() && getArrayString(argumentsArray);\r\n\t\t\tif (!root.consoleLogTypes[fnName])\r\n\t\t\t{\r\n\t\t\t\troot.consoleLogTypes[fnName] = {\r\n\t\t\t\t\ttypeCount: 0,\r\n\t\t\t\t\ttypeInfo: {}\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\tif (!root.consoleLogTypes[fnName].typeInfo[argumentsArray[0]])\r\n\t\t\t{\r\n\t\t\t\troot.consoleLogTypes[fnName].typeInfo[argumentsArray[0]] = typeStyle[root.consoleLogTypes[fnName].typeCount];\r\n\t\t\t\troot.consoleLogTypes[fnName].typeCount++;\r\n\t\t\t}\r\n\t\t\tif (root.consoleLogTypes.lastType !== fnName)\r\n\t\t\t{\r\n\t\t\t\troot.console.groupEnd();\r\n\t\t\t\troot.console.group(fnName);\r\n\t\t\t\troot.consoleLogTypes.lastType = fnName;\r\n\t\t\t}\r\n\t\t\troot.console.log('%c%s', root.consoleLogTypes[fnName].typeInfo[argumentsArray[0]], fnName + (fnName ? ': (' : '') + fnArgumentsString + (fnArgumentsString ? ') ' : ' ') + surplusArgumentString);\r\n\t\t}\r\n\t}\r\n\r\n\tYX.Util.tool.consoleLog = consoleLog;\r\n\r\n\t/**\r\n\t * Dynamic set callback function in root\r\n\t * @param typeName\r\n\t * @returns {*}\r\n\t */\r\n\tfunction setCallback(typeName)\r\n\t{\r\n\t\tlet typeCallback = getCallbackName(typeName);\r\n\t\tif (!root[typeCallback])\r\n\t\t{\r\n\t\t\troot[typeCallback] = function (data) {\r\n\t\t\t\troot[typeName] = data;\r\n\t\t\t};\r\n\t\t\treturn typeCallback;\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tYX.Util.tool.setCallback = setCallback;\r\n\r\n\t/**\r\n\t * getCallbackName\r\n\t * @param typeName\r\n\t * @returns {string}\r\n\t */\r\n\tfunction getCallbackName(typeName)\r\n\t{\r\n\t\treturn typeName + \"Callback\";\r\n\t}\r\n\r\n\tYX.Util.tool.getCallbackName = getCallbackName;\r\n\r\n\t/**\r\n\t * deepExtend - deep copy with out jQuery\r\n\t * @param out\r\n\t * @returns {*|{}}\r\n\t */\r\n\tfunction deepExtend(out) // arguments: (source, source1, source2, ...)\r\n\t{\r\n\t\tout = out || {};\r\n\r\n\t\tfor (let i = 1; i < arguments.length; i++)\r\n\t\t{\r\n\t\t\tlet obj = arguments[i];\r\n\r\n\t\t\tif (!obj)\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\tfor (let key in obj)\r\n\t\t\t{\r\n\t\t\t\tif (obj.hasOwnProperty(key))\r\n\t\t\t\t{\r\n\t\t\t\t\tif (typeof obj[key] === 'object'\r\n\t\t\t\t\t\t\t&& obj[key] !== null\r\n\t\t\t\t\t\t\t&& !Array.isArray(obj[key])\r\n\t\t\t\t\t\t\t&& !(obj[key] instanceof Date)\r\n\t\t\t\t\t\t\t&& !(obj[key] === 'function'))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tout[key] = deepExtend(out[key], obj[key]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tout[key] = obj[key];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn out;\r\n\t}\r\n\r\n\tYX.Util.tool.deepExtend = deepExtend;\r\n\r\n\t/**\r\n\t * Tools for processing function who has parameter array\r\n\t * @param fn\r\n\t * @param param1\r\n\t * @param param2\r\n\t */\r\n\tfunction parameterArrayToItem(fn, param1, param2)\r\n\t{\r\n\t\tlet param2IsArray = Array.isArray(param2),\r\n\t\t\t\tparam2ArrayLength = param2IsArray && param2.length || 0;\r\n\t\tfor (let i = 0, length = param1.length; i < length; i++)\r\n\t\t{\r\n\t\t\tlet param2Item = (param2IsArray && i < param2ArrayLength) ? param2[i] : null;\r\n\t\t\tfn && fn(param1[i], param2Item);\r\n\t\t}\r\n\t}\r\n\r\n\tYX.Util.tool.parameterArrayToItem = parameterArrayToItem;\r\n\r\n\t/********************************************************************************************************************/\r\n\r\n\tYX.Util.html = {};\r\n\r\n\t/**\r\n\t * Initialize template with template/templateData and source data\r\n\t * @param {string} template\r\n\t * @param {object} templateData\r\n\t * @param {object} [sourceData], for external data process from templateData function\r\n\t * @returns {string}\r\n\t */\r\n\tfunction initTemplate(template, templateData, sourceData)\r\n\t{\r\n\t\tlet result = template;\r\n\t\tfor (let key in templateData)\r\n\t\t{\r\n\t\t\tif (templateData.hasOwnProperty(key))\r\n\t\t\t{\r\n\t\t\t\tlet dataValue = templateData[key];\r\n\t\t\t\t// Process source data to required data if the templateData key's value is function\r\n\t\t\t\tif (typeof templateData[key] === 'function')\r\n\t\t\t\t{\r\n\t\t\t\t\tdataValue = templateData[key](sourceData);\r\n\t\t\t\t}\r\n\t\t\t\tresult = result.replace(new RegExp('{{' + key + '}}', \"g\"), dataValue);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tYX.Util.html.initTemplate = initTemplate;\r\n\r\n\t/**\r\n\t * Render template with data and put it to target element\r\n\t * @param targetElement\r\n\t * @param template\r\n\t * @param sourceData\r\n\t * @param templateDataFn\r\n\t * @param [position], values=[update,beforebegin,afterbegin,beforeend,afterend], default update\r\n\t */\r\n\tfunction renderTemplate(targetElement, template, sourceData, templateDataFn, position)\r\n\t{\r\n\t\tlet resultHtml = '';\r\n\t\tfor (let i = 0; i < sourceData.length; i++)\r\n\t\t{\r\n\t\t\tresultHtml += initTemplate(template, templateDataFn(sourceData[i]), sourceData[i]);\r\n\t\t}\r\n\t\tif (!position || position === 'update')\r\n\t\t{\r\n\t\t\ttargetElement.innerHTML = resultHtml;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\ttargetElement.insertAdjacentHTML(position, resultHtml);\r\n\t\t}\r\n\t}\r\n\r\n\tYX.Util.html.renderTemplate = renderTemplate;\r\n\r\n\t/********************************************************************************************************************/\r\n\r\n\tYX.Util.regExp = {};\r\n\r\n\t/***\r\n\t * regExpG\r\n\t * @param expStr\r\n\t * @returns {RegExp}\r\n\t */\r\n\tfunction regExpG(expStr)\r\n\t{\r\n\t\treturn new RegExp(expStr, \"g\");\r\n\t}\r\n\r\n\tYX.Util.regExp.regExpG = regExpG;\r\n\r\n\t/***\r\n\t * isURL\r\n\t * @param url\r\n\t * @returns {boolean}\r\n\t */\r\n\tfunction isURL(url)\r\n\t{\r\n\t\tlet expression = /(((http|ftp|https):\\/\\/)?([\\w\\-_]+(\\.(?!(\\d)+)[\\w\\-_]+))+([\\w\\-\\.,@?^=%&amp;:/~\\+#]*[\\w\\-\\@?^=%&amp;/~\\+#])?)|(\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*)/g;\r\n\t\treturn (new RegExp(expression)).test(url);\r\n\t}\r\n\r\n\tYX.Util.regExp.isURL = isURL;\r\n\r\n\t/********************************************************************************************************************/\r\n\r\n\tYX.Util.element = {};\r\n\r\n\t/**\r\n\t * getElements\r\n\t * @param {selector|nodeType|array|nodelist|jquery element}\r\n\t * @returns {Array}\r\n\t */\r\n\tfunction getElements(elements)\r\n\t{\r\n\t\tlet resultElement = [];\r\n\t\tif (elements === undefined || elements === null)\r\n\t\t{\r\n\t\t\tresultElement = [];\r\n\t\t}\r\n\t\telse if (elements.jquery)\r\n\t\t{\r\n\t\t\tresultElement = elements.length > 1 ? elements.get() : [elements[0]];\r\n\t\t}\r\n\t\telse if (elements instanceof window.NodeList || elements instanceof NodeList || elements instanceof HTMLCollection)\r\n\t\t{\r\n\t\t\tresultElement = Array.prototype.slice.call(elements);\r\n\t\t}\r\n\t\telse if (Array.isArray(elements))\r\n\t\t{\r\n\t\t\tresultElement = elements.filter(function (element) {\r\n\t\t\t\treturn element.nodeType === 1 || element.jquery;\r\n\t\t\t});\r\n\t\t}\r\n\t\telse if (elements.nodeType === 1)\r\n\t\t{\r\n\t\t\tresultElement = [elements];\r\n\t\t}\r\n\t\telse if (typeof elements === 'string')\r\n\t\t{\r\n\t\t\tresultElement = document.querySelectorAll(elements);\r\n\t\t}\r\n\t\treturn resultElement;\r\n\t}\r\n\r\n\tYX.Util.element.getElements = getElements;\r\n\r\n\t/**\r\n\t * getSelectorsElements\r\n\t * @param selectorString\r\n\t * @returns {*}\r\n\t */\r\n\tfunction getSelectorsElements(selectorString)\r\n\t{\r\n\t\tif (!selectorString || (selectorString && selectorString.trim() === ''))\r\n\t\t{\r\n\t\t\treturn [document];\r\n\t\t}\r\n\t\tlet selectorsElements = [],\r\n\t\t\t\tselectorsArray = selectorString.split(',').map(function (selectorStringItem) {\r\n\t\t\t\t\treturn selectorStringItem.trim();\r\n\t\t\t\t});\r\n\t\tselectorsArray = uniqueArray(selectorsArray);\r\n\t\tfor (let i = 0, l = selectorsArray.length; i < l; i++)\r\n\t\t{\r\n\t\t\tif (selectorsArray[i] === 'document')\r\n\t\t\t{\r\n\t\t\t\tselectorsElements.push(document);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tlet scopeNodeList = convertNodeListToArray(document.querySelectorAll(selectorsArray[i]));\r\n\t\t\t\tselectorsElements = selectorsElements.concat(scopeNodeList);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn selectorsElements;\r\n\t}\r\n\r\n\tYX.Util.element.getSelectorsElements = getSelectorsElements;\r\n\r\n\t/**\r\n\t * findParent\r\n\t * @param element\r\n\t * @param selector\r\n\t * @returns {*}\r\n\t */\r\n\tfunction findParent(element, selector)\r\n\t{\r\n\t\twhile ((element = element.parentElement) && !matches(element, selector))\r\n\t\t{\r\n\t\t}\r\n\t\treturn element;\r\n\t}\r\n\r\n\tYX.Util.element.findParent = findParent;\r\n\r\n\t/**\r\n\t * matches\r\n\t * @param el\r\n\t * @param selector\r\n\t * @returns {boolean | *}\r\n\t */\r\n\tfunction matches(el, selector)\r\n\t{\r\n\t\treturn (el.matches || el.matchesSelector || el.msMatchesSelector || el.mozMatchesSelector || el.webkitMatchesSelector || el.oMatchesSelector).call(el, selector);\r\n\t}\r\n\r\n\tYX.Util.element.matches = matches;\r\n\r\n\t/***\r\n\t * Get element's closet class parent element\r\n\t * @param {element} element\r\n\t * @param {string} className\r\n\t * @returns {element}\r\n\t */\r\n\tfunction closest(element, className)\r\n\t{\r\n\t\tlet closetElement = null;\r\n\t\tif (hasClass(element, className))\r\n\t\t{\r\n\t\t\tclosetElement = element;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tclosetElement = findParent(element, '.' + className);\r\n\t\t}\r\n\t\treturn closetElement;\r\n\t}\r\n\r\n\tYX.Util.element.closest = closest;\r\n\r\n\t/***\r\n\t * Check element has parentElement\r\n\t * @param el\r\n\t * @param parentElement\r\n\t * @returns {boolean}\r\n\t */\r\n\tfunction hasClosest(el, parentElement)\r\n\t{\r\n\t\tif (el === parentElement)\r\n\t\t{\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tif (parentElement === undefined)\r\n\t\t{\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tlet parents = [], p = el.parentNode;\r\n\t\twhile (p !== parentElement && p.parentNode)\r\n\t\t{\r\n\t\t\tlet o = p;\r\n\t\t\tparents.push(o);\r\n\t\t\tp = o.parentNode;\r\n\t\t}\r\n\t\treturn p === parentElement;\r\n\t}\r\n\r\n\tYX.Util.element.hasClosest = hasClosest;\r\n\r\n\t/***\r\n\t * Convert JS selector elements to array\r\n\t * @param {elements} nodeList\r\n\t * @returns {Array}\r\n\t */\r\n\tfunction convertNodeListToArray(nodeList)\r\n\t{\r\n\t\tlet resultArray = [];\r\n\t\tfor (let i = 0, l = nodeList.length; i < l; i++)\r\n\t\t{\r\n\t\t\tresultArray[i] = nodeList[i];\r\n\t\t}\r\n\t\treturn resultArray;\r\n\t}\r\n\r\n\tYX.Util.element.convertNodeListToArray = convertNodeListToArray;\r\n\r\n\t/***\r\n\t *\r\n\t * Copy html element to clipboard\r\n\t * @param {element} element - html element\r\n\t */\r\n\tfunction copyElementToClipboard(element)\r\n\t{\r\n\t\tlet selection = root.getSelection(),    // Save the selection.\r\n\t\t\t\trange = document.createRange(),\r\n\t\t\t\tisSuccess = false;\r\n\t\trange.selectNodeContents(element);\r\n\t\tselection.removeAllRanges();          // Remove all ranges from the selection.\r\n\t\tselection.addRange(range);            // Add the new range.\r\n\r\n\t\tisSuccess = document.execCommand('copy');\r\n\t\troot.getSelection().removeAllRanges();\r\n\t\treturn isSuccess;\r\n\t}\r\n\r\n\tYX.Util.element.copyElementToClipboard = copyElementToClipboard;\r\n\r\n\t/**\r\n\t * Insert style to head\r\n\t * @param {string} cssText - style string\r\n\t */\r\n\tfunction insertStyleToHead(cssText)\r\n\t{\r\n\t\tlet head = document.head || document.getElementsByTagName('head')[0],\r\n\t\t\t\tstyle = document.createElement('style');\r\n\r\n\t\tstyle.type = 'text/css';\r\n\t\tif (style.styleSheet)\r\n\t\t{\r\n\t\t\tstyle.styleSheet.cssText = cssText;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tstyle.appendChild(document.createTextNode(cssText));\r\n\t\t}\r\n\r\n\t\thead.appendChild(style);\r\n\t}\r\n\r\n\tYX.Util.element.insertStyleToHead = insertStyleToHead;\r\n\r\n\t/**\r\n\t * Create one html tag element with tagInfo\r\n\t * @param {string} tagName - html tag name\r\n\t * @param {object} tagInfo - tag's attributes and style object, such as { attr: {}, style: {} }\r\n\t * @return {element} html tag element.\r\n\t */\r\n\tfunction createTagElement(tagName, tagInfo)\r\n\t{\r\n\t\tlet tagElement = document.createElement(tagName);\r\n\r\n\t\tObject.keys(tagInfo.attr).forEach(function (key) {\r\n\t\t\ttagElement.setAttribute(key, tagInfo.attr[key]);\r\n\t\t});\r\n\r\n\t\tObject.keys(tagInfo.style).forEach(function (key) {\r\n\t\t\ttagElement.style[key] = tagInfo.style[key];\r\n\t\t});\r\n\r\n\t\treturn tagElement;\r\n\t}\r\n\r\n\tYX.Util.element.createTagElement = createTagElement;\r\n\r\n\t/**\r\n\t * addChildElement\r\n\t * @param targetElement\r\n\t * @param addedElement\r\n\t * @param position\r\n\t * @return resultAddedElement\r\n\t */\r\n\tfunction addElement(targetElement, addedElement, position)\r\n\t{\r\n\t\tlet resultAddedElement = null;\r\n\t\tswitch (position && position.toLowerCase())\r\n\t\t{\r\n\t\t\tcase 'replace':\r\n\t\t\t\ttargetElement.innerHTML = '';\r\n\t\t\t\tresultAddedElement = targetElement.appendChild(addedElement);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'prepend':\r\n\t\t\t\tresultAddedElement = targetElement.insertBefore(addedElement, targetElement.firstChild);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'insertbefore':\r\n\t\t\t\ttargetElement.insertAdjacentHTML('beforebegin', addedElement.outerHTML);\r\n\t\t\t\tresultAddedElement = targetElement.previousSibling;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'insertafter':\r\n\t\t\t\ttargetElement.insertAdjacentHTML('afterend', addedElement.outerHTML);\r\n\t\t\t\tresultAddedElement = targetElement.nextSibling;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault: //'append'\r\n\t\t\t\tresultAddedElement = targetElement.appendChild(addedElement);\r\n\t\t}\r\n\t\treturn resultAddedElement;\r\n\t}\r\n\r\n\tYX.Util.element.addElement = addElement;\r\n\r\n\t/**\r\n\t * hasClass\r\n\t * @param element\r\n\t * @param className\r\n\t * @returns {boolean}\r\n\t */\r\n\tfunction hasClass(element, className)\r\n\t{\r\n\t\tif (element.classList)\r\n\t\t\treturn element.classList.contains(className);\r\n\t\telse\r\n\t\t\treturn new RegExp('(^| )' + className + '( |$)', 'gi').test(element.className);\r\n\t}\r\n\r\n\tYX.Util.element.hasClass = hasClass;\r\n\r\n\t/**\r\n\t * addClass\r\n\t * @param element\r\n\t * @param className\r\n\t */\r\n\tfunction addClass(element, className)\r\n\t{\r\n\t\tif (!hasClass(element, className))\r\n\t\t{\r\n\t\t\tif (element.classList)\r\n\t\t\t\telement.classList.add(className);\r\n\t\t\telse\r\n\t\t\t\telement.className += ' ' + className;\r\n\t\t}\r\n\t}\r\n\r\n\tYX.Util.element.addClass = addClass;\r\n\r\n\t/**\r\n\t * removeClass\r\n\t * @param element\r\n\t * @param className\r\n\t */\r\n\tfunction removeClass(element, className)\r\n\t{\r\n\t\tif (hasClass(element, className))\r\n\t\t{\r\n\t\t\tif (element.classList)\r\n\t\t\t\telement.classList.remove(className);\r\n\t\t\telse\r\n\t\t\t\telement.className = element.className.replace(new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\r\n\t\t}\r\n\t}\r\n\r\n\tYX.Util.element.removeClass = removeClass;\r\n\r\n\t/**\r\n\t * toggleClass\r\n\t * @param element\r\n\t * @param className\r\n\t */\r\n\tfunction toggleClass(element, className)\r\n\t{\r\n\t\tif (hasClass(element, className))\r\n\t\t{\r\n\t\t\tremoveClass(element, className);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\taddClass(element, className);\r\n\t\t}\r\n\t}\r\n\r\n\tYX.Util.element.toggleClass = toggleClass;\r\n\r\n\t/********************************************************************************************************************/\r\n\r\n\tYX.Util.page = {};\r\n\r\n\t/**\r\n\t * scrollListToIndex\r\n\t * @param listFolder\r\n\t * @param index\r\n\t * @param toTopIndex\r\n\t * @param duration\r\n\t */\r\n\tfunction scrollListToIndex(listFolder, index, toTopIndex, duration)\r\n\t{\r\n\t\tif (index === 0)\r\n\t\t{\r\n\t\t\tscrollTo(listFolder, 0, duration);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tlet listItems = listFolder.childNodes,\r\n\t\t\t\t\tscrollOffset = 0,\r\n\t\t\t\t\tcontentHeight = 0,\r\n\t\t\t\t\tscrollToCenter = 0;\r\n\t\t\tduration = (duration === undefined ? 500 : duration);\r\n\t\t\tfor (let i = 0, l = listItems.length; i < l; i++)\r\n\t\t\t{\r\n\t\t\t\tlet listItemHeight = listItems[i].offsetHeight;\r\n\t\t\t\tif (i < index)\r\n\t\t\t\t{\r\n\t\t\t\t\tscrollOffset += listItemHeight;\r\n\t\t\t\t\tif (i > toTopIndex - 1)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tscrollToCenter += listItems[i - toTopIndex].offsetHeight;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tcontentHeight += listItemHeight;\r\n\t\t\t}\r\n\t\t\tscrollOffset = scrollToCenter;\r\n\t\t\tif (scrollOffset + listFolder.offsetHeight > contentHeight)\r\n\t\t\t{\r\n\t\t\t\tscrollOffset = contentHeight - listFolder.offsetHeight;\r\n\t\t\t}\r\n\t\t\tscrollTo(listFolder, scrollOffset, duration);\r\n\t\t}\r\n\t}\r\n\r\n\tYX.Util.page.scrollListToIndex = scrollListToIndex;\r\n\r\n\t/**\r\n\t * scrollTo\r\n\t * @param element\r\n\t * @param to\r\n\t * @param duration\r\n\t */\r\n\tfunction scrollTo(element, to, duration)\r\n\t{\r\n\t\tif (duration <= 0) return;\r\n\t\tlet difference = to - element.scrollTop;\r\n\t\tlet perTick = difference / duration * 10;\r\n\r\n\t\tsetTimeout(function () {\r\n\t\t\telement.scrollTop = element.scrollTop + perTick;\r\n\t\t\tif (element.scrollTop === to) return;\r\n\t\t\tscrollTo(element, to, duration - 10);\r\n\t\t}, 10);\r\n\t}\r\n\r\n\tYX.Util.page.scrollTo = scrollTo;\r\n\r\n\t/********************************************************************************************************************/\r\n\r\n\tYX.Util.event = {};\r\n\r\n\t/**\r\n\t * delegate element event\r\n\t * @param element\r\n\t * @param eventName\r\n\t * @param selector\r\n\t * @param handler\r\n\t */\r\n\tfunction delegate(element, eventName, selector, handler)\r\n\t{\r\n\t\tlet possibleTargets = element.querySelectorAll(selector);\r\n\t\telement.addEventListener(eventName, listenerHandler);\r\n\r\n\t\tfunction listenerHandler(event)\r\n\t\t{\r\n\t\t\tlet target = event.target;\r\n\r\n\t\t\tfor (let i = 0, l = possibleTargets.length; i < l; i++)\r\n\t\t\t{\r\n\t\t\t\tlet el = target,\r\n\t\t\t\t\t\tp = possibleTargets[i];\r\n\r\n\t\t\t\twhile (el && el !== element)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (el === p)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\treturn handler.call(p, event);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tel = el.parentNode;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tYX.Util.event.delegate = delegate;\r\n\r\n\t/**\r\n\t * bindClickIgnoreDrag\r\n\t * @param elements\r\n\t * @param callback\r\n\t * @param isBind\r\n\t */\r\n\tfunction bindClickIgnoreDrag(elements, callback, isBind)\r\n\t{\r\n\t\tlet eventListenerName = isBind !== false ? 'on' : 'off',\r\n\t\t\t\tmouseDownX = 0,\r\n\t\t\t\tmouseDownY = 0;\r\n\r\n\t\t[].forEach.call(elements, function (element) {\r\n\t\t\textendOnOff(element)[eventListenerName]('mousedown', mouseDownHandler);\r\n\t\t});\r\n\r\n\t\tfunction mouseDownHandler(event)\r\n\t\t{\r\n\t\t\tmouseDownX = event.pageX;\r\n\t\t\tmouseDownY = event.pageY;\r\n\t\t\tevent.target.addEventListener('mouseup', mouseUpMoveHandler);\r\n\t\t\tevent.target.addEventListener('mousemove', mouseUpMoveHandler);\r\n\t\t}\r\n\r\n\t\tfunction mouseUpMoveHandler(event)\r\n\t\t{\r\n\t\t\tif (event.type === 'mouseup' && event.which <= 1) //only for left key\r\n\t\t\t{\r\n\t\t\t\tcallback(event);\r\n\t\t\t}\r\n\t\t\telse if (event.type === 'mousemove' && event.pageX === mouseDownX && event.pageY === mouseDownY)\r\n\t\t\t{\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tevent.target.removeEventListener('mouseup', mouseUpMoveHandler);\r\n\t\t\tevent.target.removeEventListener('mousemove', mouseUpMoveHandler);\r\n\t\t}\r\n\t}\r\n\r\n\tYX.Util.event.bindClickIgnoreDrag = bindClickIgnoreDrag;\r\n\r\n\t/**\r\n\t * triggerEvent\r\n\t * @param element\r\n\t * @param eventName\r\n\t * @param data\r\n\t */\r\n\tfunction triggerEvent(element, eventName, data)\r\n\t{\r\n\t\tlet event = null;\r\n\t\tif (root.CustomEvent)\r\n\t\t{\r\n\t\t\tevent = new CustomEvent(eventName, {detail: data});\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tevent = document.createEvent('CustomEvent');\r\n\t\t\tevent.initCustomEvent(eventName, true, true, data);\r\n\t\t}\r\n\r\n\t\telement.dispatchEvent(event);\r\n\t}\r\n\r\n\tYX.Util.event.triggerEvent = triggerEvent;\r\n\r\n\t/**\r\n\t * Extend on/off methods\r\n\t * @param el: element\r\n\t * @returns {*}\r\n\t */\r\n\tfunction extendOnOff(el)\r\n\t{\r\n\t\tif (el.length === 0)\r\n\t\t\treturn null;\r\n\t\tlet events = {\r\n\t\t\ton: function (event, callback, opts) {\r\n\t\t\t\tif (!this.namespaces) // save the namespaces on the DOM element itself\r\n\t\t\t\t\tthis.namespaces = {};\r\n\r\n\t\t\t\tthis.namespaces[event] = callback;\r\n\t\t\t\tlet options = opts || false;\r\n\r\n\t\t\t\tthis.addEventListener(event.split('.')[0], callback, options);\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\toff: function (event) {\r\n\t\t\t\tthis.removeEventListener(event.split('.')[0], this.namespaces[event]);\r\n\t\t\t\tdelete this.namespaces[event];\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t// Extend the DOM with these above custom methods\r\n\t\tif (!el.isExtendOnOff)\r\n\t\t{\r\n\t\t\tel.on = Element.prototype.on = events.on;\r\n\t\t\tel.off = Element.prototype.off = events.off;\r\n\t\t\tel.isExtendOnOff = true;\r\n\t\t}\r\n\t\treturn el;\r\n\t}\r\n\r\n\tYX.Util.event.extendOnOff = extendOnOff;\r\n\r\n\t/**\r\n\t * mouseTouchTrack\r\n\t * @param element\r\n\t * @param infoCallback\r\n\t */\r\n\tfunction mouseTouchTrack(element, infoCallback)\r\n\t{\r\n\t\tlet touchStartBeginTime = 0,\r\n\t\t\t\tlastEventType = '';\r\n\r\n\t\telement.onclick = trackEvent;\r\n\t\telement.ontouchstart = trackEvent;\r\n\t\telement.ontouchend = trackEvent;\r\n\t\telement.ontouchmove = trackEvent;\r\n\t\telement.onmousedown = trackEvent;\r\n\t\telement.onmouseenter = trackEvent;\r\n\t\telement.onmouseleave = trackEvent;\r\n\t\telement.onmousemove = trackEvent;\r\n\t\telement.onmouseout = trackEvent;\r\n\t\telement.onmouseover = trackEvent;\r\n\t\telement.onmouseup = trackEvent;\r\n\r\n\t\tfunction trackEvent(event)\r\n\t\t{\r\n\t\t\tif (event.type === \"touchstart\")\r\n\t\t\t{\r\n\t\t\t\ttouchStartBeginTime = Date.now();\r\n\t\t\t}\r\n\t\t\tif (event.type !== lastEventType)\r\n\t\t\t{\r\n\t\t\t\tinfoCallback = infoCallback ? infoCallback : console.log;\r\n\t\t\t\tinfoCallback(arguments, event.type, Date.now() - touchStartBeginTime);\r\n\r\n\t\t\t\tlastEventType = event.type;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tYX.Util.event.mouseTouchTrack = mouseTouchTrack;\r\n\r\n\tYX.Util.event.notification = (option, spopOption) => {\r\n\t\tlet showNotification = (option) => {\r\n\t\t\tif (option.registration && option.registration.showNotification)\r\n\t\t\t{\r\n\t\t\t\toption.registration.showNotification(option.title, option);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tlet noti = new Notification(option.title, option);\r\n\t\t\t\tlet autoclose = option.autoclose;\r\n\t\t\t\tif (autoclose !== undefined)\r\n\t\t\t\t{\r\n\t\t\t\t\tnoti.onshow = () => {\r\n\t\t\t\t\t\tsetTimeout(noti.close.bind(noti), autoclose);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\tif (!(\"Notification\" in root))\r\n\t\t{\r\n\t\t\tYX.Plugin.spop(spopOption);\r\n\t\t}\r\n\t\telse if (Notification.permission === \"granted\")\r\n\t\t{\r\n\t\t\tshowNotification(option);\r\n\t\t}\r\n\t\telse if (Notification.permission !== 'denied')\r\n\t\t{\r\n\t\t\tNotification.requestPermission(function (permission) {\r\n\t\t\t\tif (permission === \"granted\")\r\n\t\t\t\t{\r\n\t\t\t\t\tshowNotification(option);\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tYX.Plugin.spop(spopOption);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tYX.Plugin.spop(spopOption);\r\n\t\t}\r\n\t};\r\n\r\n\t/********************************************************************************************************************/\r\n\r\n\tYX.Util.math = {};\r\n\r\n\tYX.Util.math.isPrime = (number) => {\r\n\t\tif (number === 0 || number === 1)\r\n\t\t{\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tfor (let i = 2; i <= Math.sqrt(number); i++)\r\n\t\t{\r\n\t\t\tif (number % i === 0)\r\n\t\t\t{\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t};\r\n\r\n\t/********************************************************************************************************************/\r\n\r\n\t/**\r\n\t * A funtcion which can easily invoke function from a string method name\r\n\t * @param method, eg: 'alert', 'math.floor', 'math.floor.toString'\r\n\t * @param params\r\n\t * @return {Promise<any>}\r\n\t */\r\n\tconst call = (method, params) => {\r\n\t\tlet callMethod = (callers, thisArg) => {\r\n\t\t\tlet caller = callers.shift();\r\n\t\t\tthisArg = thisArg ? thisArg : (self || this || window);\r\n\t\t\tthisArg = thisArg[caller];\r\n\t\t\tif (callers.length > 0)\r\n\t\t\t{\r\n\t\t\t\tthisArg = callMethod(callers, thisArg);\r\n\t\t\t}\r\n\t\t\treturn thisArg;\r\n\t\t};\r\n\t\treturn new Promise((resolve) => {\r\n\t\t\tlet callers = method.split('.');\r\n\t\t\tparams = Array.isArray(params) ? params : [params];\r\n\t\t\tlet result = callMethod(callers)(...params);\r\n\t\t\tresolve(result);\r\n\t\t});\r\n\t};\r\n\r\n\tYX.Util.call = call;\r\n\r\n\t/********************************************************************************************************************/\r\n\r\n\tYX.Plugin = {};\r\n\r\n\tYX.Plugin.spop = (options) => {\r\n\t\tconst commonPath = 'https://gyx8899.github.io/YX-WebThemeKit/';\r\n\t\tconst spopScript = commonPath + 'theme-pop/spop/spop.min.js';\r\n\t\tconst spopStyle = commonPath + 'theme-pop/spop/spop.min.css';\r\n\t\tPromise.all([YX.Util.load.loadScriptWithPromise(spopScript), YX.Util.load.loadCSSWithPromise(spopStyle)])\r\n\t\t\t\t.then((results) => {\r\n\t\t\t\t\tif (results[0] && results[1])\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tspop(options);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t};\r\n\r\n\t/********************************************************************************************************************/\r\n\r\n\tclass WebWorker {\r\n\t\tconstructor(options)\r\n\t\t{\r\n\t\t\tif (window.Worker && options.workerUrl)\r\n\t\t\t{\r\n\t\t\t\tthis.worker = new Worker(options.workerUrl);\r\n\t\t\t\tthis.onMessage();\r\n\t\t\t\tthis.onError(options && options.errorCallback);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\talert('Browser does not support Worker, or workerUrl not set!');\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tstatic getInstance(options)\r\n\t\t{\r\n\t\t\tif (!this.instance)\r\n\t\t\t{\r\n\t\t\t\tthis.instance = new WebWorker(options);\r\n\t\t\t}\r\n\t\t\treturn this.instance;\r\n\t\t}\r\n\r\n\t\tonMessage()\r\n\t\t{\r\n\t\t\tthis.worker.onmessage = function (e) {\r\n\t\t\t\tif (e.data)\r\n\t\t\t\t{\r\n\t\t\t\t\tlet {result, callback} = e.data;\r\n\t\t\t\t\tYX.Util.call(callback, result);\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\talert(`onmessage error: ${e}!`);\r\n\t\t\t\t}\r\n\t\t\t\t// throw new Error('Something wrong!'); // onerror\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tpostMessage(method = null, params = [], callback = null, scripts = [], isClose = false)\r\n\t\t{\r\n\t\t\tscripts = Array.isArray(scripts) ? scripts : [scripts];\r\n\t\t\tthis.worker.postMessage({method, params, callback, scripts});\r\n\t\t}\r\n\r\n\t\tonError(errorCallback)\r\n\t\t{\r\n\t\t\tthis.worker.onerror = function (err) {\r\n\t\t\t\tconsole.table(err);\r\n\t\t\t\terrorCallback && errorCallback(err);\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tterminate()\r\n\t\t{\r\n\t\t\tthis.worker.terminate();\r\n\t\t}\r\n\t}\r\n\r\n\tYX.WebWorker = WebWorker;\r\n\r\n\t/********************************************************************************************************************/\r\n\r\n\tclass SharedWorkers\r\n\t{\r\n\t\tconstructor(options)\r\n\t\t{\r\n\t\t\tif (window.Worker && options.workerUrl)\r\n\t\t\t{\r\n\t\t\t\tthis.worker = new SharedWorker(options.workerUrl);\r\n\t\t\t\t// this.worker.port.start();\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\talert('Browser does not support Worker, or workUrl not set!');\r\n\t\t\t}\r\n\t\t}\r\n\t\tstatic getInstance(options)\r\n\t\t{\r\n\t\t\tif (!this.instance)\r\n\t\t\t{\r\n\t\t\t\tthis.instance = new SharedWorkers(options);\r\n\t\t\t}\r\n\t\t\treturn this.instance;\r\n\t\t}\r\n\r\n\t\tonMessage(callback)\r\n\t\t{\r\n\t\t\tthis.worker.port.onmessage = (e) => {\r\n\t\t\t\tcallback && callback(e);\r\n\t\t\t\tif (e.data.callback)\r\n\t\t\t\t{\r\n\t\t\t\t\tlet {message, callback} = e.data;\r\n\t\t\t\t\tYX.Util.call(callback, message);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tpostMessage(postData)\r\n\t\t{\r\n\t\t\t// Case 1: call function like webworker, just compute;\r\n\t\t\t// postData =\r\n\t\t\t// {\r\n\t\t\t// \ttype: 'apply',\r\n\t\t\t// \t// method: 'isPrime', // function name or calling path\r\n\t\t\t// \tmethod: 'YX.Util.math.isPrime', // function name or calling path\r\n\t\t\t// \t// params: 8, // one param or array params;\r\n\t\t\t// \tparams: [8], // one param or array params;\r\n\t\t\t// \t// scripts: 'common.js', // method dependency script files (relative/absolute) path;\r\n\t\t\t// \tscripts: ['common.js', 'util.js'], // method dependency script files (relative/absolute) path;;\r\n\t\t\t// \t// callback: 'isPrimeCallback', // function name or calling path\r\n\t\t\t// \tcallback: 'YX.Util.tool.consoleLog'\r\n\t\t\t// };\r\n\r\n\t\t\t// Case 2.1: Post the called function result to which post listen this event\r\n\t\t\t// postData =\r\n\t\t\t// {\r\n\t\t\t// \ttype: 'post',\r\n\t\t\t// \tevent: 'postComputeResult', // post to this event listener;\r\n\t\t\t// \t// method: 'isPrime', // function name or calling path;\r\n\t\t\t// \tmethod: 'YX.Util.math.isPrime', // function name or calling path;\r\n\t\t\t// \t// params: 8, // one param or array params;\r\n\t\t\t// \tparams: [8], // one param or array params;\r\n\t\t\t// \t// scripts: 'common.js', // method dependency script files (relative/absolute) path;\r\n\t\t\t// \tscripts: ['common.js', 'util.js'], // method dependency script files (relative/absolute) path;\r\n\t\t\t// \t// callback: 'isPrimeCallback', // function name or calling path;\r\n\t\t\t// \tcallback: 'YX.Util.tool.consoleLog'\r\n\t\t\t// };\r\n\t\t\t// Case 2.2: Post message to special event listener;\r\n\t\t\t// postData =\r\n\t\t\t// {\r\n\t\t\t// \ttype: 'post',\r\n\t\t\t// \tevent: 'postEventMessage',\r\n\t\t\t// \tmessage: 'This is post message'\r\n\t\t\t// };\r\n\t\t\t// Case 3: Get message from special event listener;\r\n\t\t\t// postData =\r\n\t\t\t// {\r\n\t\t\t// \ttype: 'get',\r\n\t\t\t// \tevent: 'postEventMessage'\r\n\t\t\t// };\r\n\t\t\tthis.worker.port.postMessage(postData);\r\n\t\t}\r\n\t}\r\n\r\n\tYX.SharedWorkers = SharedWorkers;\r\n\r\n\t/********************************************************************************************************************/\r\n\r\n\tclass Event\r\n\t{\r\n\t\tconstructor(options)\r\n\t\t{\r\n\t\t\tthis._cache = {};\r\n\t\t}\r\n\r\n\t\tstatic getInstance(options)\r\n\t\t{\r\n\t\t\tif (!this.instance)\r\n\t\t\t{\r\n\t\t\t\tthis.instance = new Event(options);\r\n\t\t\t}\r\n\t\t\treturn this.instance;\r\n\t\t}\r\n\r\n\t\ton(eventName, callback)\r\n\t\t{\r\n\t\t\tif (!this._cache[eventName])\r\n\t\t\t{\r\n\t\t\t\tthis._cache[eventName] = [];\r\n\t\t\t}\r\n\r\n\t\t\tif (typeof callback === 'function' && this._cache[eventName].indexOf(callback) === -1)\r\n\t\t\t{\r\n\t\t\t\tthis._cache[eventName].push(callback);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\ttypeof callback !== 'function' && alert(`Your added callback ${callback} is not one valid function.`);\r\n\t\t\t\tthis._cache[eventName].indexOf(callback) !== -1 && alert(`Same on(eventName, callback) have been called!`);\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\toff(eventName, callback)\r\n\t\t{\r\n\t\t\tlet eventCallbacks = this._cache[eventName];\r\n\t\t\tif (Array.isArray(eventCallbacks) && eventCallbacks.length)\r\n\t\t\t{\r\n\t\t\t\tif (callback)\r\n\t\t\t\t{\r\n\t\t\t\t\teventCallbacks.splice(eventCallbacks.indexOf(callback), 1);\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\teventCallbacks.length = 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\ttrigger(eventName, data)\r\n\t\t{\r\n\t\t\tlet eventCallbacks = this._cache[eventName];\r\n\t\t\tif (eventCallbacks && eventCallbacks.length)\r\n\t\t\t{\r\n\t\t\t\teventCallbacks.forEach((callback) => {\r\n\t\t\t\t\tcallback(data);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t}\r\n\t}\r\n\r\n\tYX.Event = Event;\r\n\tYX.event = Event.getInstance();\r\n\r\n\t/********************************************************************************************************************/\r\n\r\n\troot.YX = YX;\r\n\r\n// Compatible with webpack\r\n\tif (typeof exports === 'object' && typeof module === 'object')\r\n\t{\r\n\t\tmodule.exports = YX;\r\n\t}\r\n})();"],"sourceRoot":""}