{
  "version": 3,
  "sources": [
    "common.es6"
  ],
  "names": [],
  "mappings": ";;;;AAAA;;;AAGC,WAAU,IAAV,EAAgB,OAAhB,EAAyB;AACzB,KAAI,OAAO,MAAP,KAAkB,UAAlB,IAAgC,OAAO,GAA3C,EACA;AACC;AACA,SAAO,EAAP,EAAW,OAAX;AACA;AACA,EALD,MAMK,IAAI,QAAO,MAAP,yCAAO,MAAP,OAAkB,QAAlB,IAA8B,OAAO,OAAzC,EACL;AACC;AACA;AACA;AACA,SAAO,OAAP,GAAiB,SAAjB;AACA;AACA,EAPI,MASL;AACC;AACA,OAAK,EAAL,GAAU,SAAV;AACA;AACA;AACD,CArBA,EAqBC,MArBD,EAqBS,YAAY;AACtB;AACC,KAAI,KAAK,EAAT;;AAEA;AACA;;;;AAIA,IAAG,IAAH,GAAU,EAAV;;AAEA;;;;AAIA,IAAG,IAAH,CAAQ,KAAR,GAAgB,EAAhB;;AAEA;;;;;AAKA,UAAS,WAAT,CAAqB,WAArB,EACA;AACC,MAAI,cAAc,EAAlB;AAAA,MAAsB,OAAO,EAA7B;AACA,OAAK,IAAI,IAAI,CAAR,EAAW,IAAX,EAAiB,IAAI,YAAY,MAAtC,EAA8C,IAAI,CAAJ,IAAS,CAAC,OAAO,YAAY,CAAZ,CAAR,MAA4B,IAAnF,EAAyF,GAAzF,EACA;AACC,OAAI,CAAC,KAAK,IAAL,CAAL,EACA;AACC,gBAAY,IAAZ,CAAiB,IAAjB;AACA,SAAK,IAAL,IAAa,IAAb;AACA;AACD;AACD,SAAO,WAAP;AACA;;AAED,IAAG,IAAH,CAAQ,KAAR,CAAc,WAAd,GAA4B,WAA5B;;AAEA;;;;;AAKA,UAAS,cAAT,CAAwB,KAAxB,EACA;AACC,SAAO,MAAM,GAAN,CAAU,UAAU,SAAV,EAAqB;AACrC,OAAI,MAAM,OAAN,CAAc,SAAd,CAAJ,EACA;AACC,gBAAY,MAAM,eAAe,SAAf,CAAN,GAAkC,GAA9C;AACA,IAHD,MAIK,IAAI,QAAO,SAAP,yCAAO,SAAP,OAAqB,QAAzB,EACL;AACC,gBAAY,KAAK,SAAL,CAAe,SAAf,CAAZ;AACA;AACD,UAAO,UAAU,QAAV,EAAP;AACA,GAVM,EAUJ,IAVI,CAUC,GAVD,CAAP;AAWA;;AAED,IAAG,IAAH,CAAQ,KAAR,CAAc,cAAd,GAA+B,cAA/B;;AAEA;AACA;;;;AAIA,IAAG,IAAH,CAAQ,MAAR,GAAiB,EAAjB;;AAEA;;;;;AAKA,UAAS,SAAT,CAAmB,MAAnB,EACA;AACC,SAAO,OAAO,MAAP,CAAc,CAAd,EAAiB,WAAjB,KAAiC,OAAO,KAAP,CAAa,CAAb,CAAxC;AACA;;AAED,IAAG,IAAH,CAAQ,MAAR,CAAe,SAAf,GAA2B,SAA3B;;AAEA;;;;;AAKA,UAAS,UAAT,CAAoB,GAApB,EACA;AACC,MAAI,MAAM;AACT,QAAK,OADI;AAET,QAAK,MAFI;AAGT,QAAK,MAHI;AAIT,QAAK,QAJI;AAKT,QAAK;AALI,GAAV;;AAQA,SAAO,IAAI,OAAJ,CAAY,UAAZ,EAAwB,UAAU,CAAV,EAAa;AAC3C,UAAO,IAAI,CAAJ,CAAP;AACA,GAFM,CAAP;AAGA;;AAED,IAAG,IAAH,CAAQ,MAAR,CAAe,UAAf,GAA4B,UAA5B;;AAEA;AACA;;;;AAIA,IAAG,IAAH,CAAQ,SAAR,GAAoB,EAApB;;AAEA;;;;AAIA,UAAS,YAAT,GACA;AACC,MAAI,kBAAkB,OAAO,SAAP,CAAiB,SAAjB,GAA6B,OAAO,SAAP,CAAiB,SAA9C,GAA0D,OAAO,SAAP,CAAiB,eAAjG;AACA,SAAO,gBAAgB,IAAhB,CAAqB,oBAAY;AACvC,UAAO,SAAS,OAAT,CAAiB,IAAjB,MAA2B,CAAlC;AACA,GAFM,CAAP;AAGA;;AAED,IAAG,IAAH,CAAQ,SAAR,CAAkB,YAAlB,GAAiC,YAAjC;;AAEA;AACA;;;;AAIA,IAAG,IAAH,CAAQ,GAAR,GAAc,EAAd;;AAEA;;;;;AAKA,UAAS,kBAAT,CAA4B,GAA5B,EACA;AACC,MAAI,gBAAgB,IAAI,KAAJ,CAAU,GAAV,EAAe,GAAf,GAAqB,KAArB,CAA2B,GAA3B,EAAgC,CAAhC,EAAmC,KAAnC,CAAyC,GAAzC,EAA8C,CAA9C,EAAiD,KAAjD,CAAuD,GAAvD,CAApB;AACA,SAAO;AACN,SAAM,cAAc,IAAd,CAAmB,GAAnB,CADA;AAEN,mBAAgB,cAAc,CAAd,CAFV;AAGN,kBAAe,cAAc,MAAd,GAAuB,CAAvB,GAA2B,cAAc,cAAc,MAAd,GAAuB,CAArC,CAA3B,GAAqE,EAH9E;AAIN,aAAU,cAAc,MAAd,GAAuB,CAAvB,GAA2B,cAAc,MAAd,CAAqB,CAArB,EAAwB,cAAc,MAAd,GAAuB,CAA/C,EAAkD,IAAlD,CAAuD,GAAvD,CAA3B,GAAyF,cAAc,CAAd;AAJ7F,GAAP;AAMA;;AAED,IAAG,IAAH,CAAQ,GAAR,CAAY,kBAAZ,GAAiC,kBAAjC;;AAEA;;;;;AAKA,UAAS,iBAAT,CAA2B,GAA3B,EACA;AACC,MAAI,QAAQ,EAAZ;AAAA,MACE,YAAY,MAAO,IAAI,OAAJ,CAAY,GAAZ,MAAqB,CAAC,CAAtB,GAA0B,IAAI,KAAJ,CAAU,GAAV,EAAe,CAAf,CAA1B,GAA8C,EAArD,GAA2D,OAAO,QAAP,CAAgB,MAAhB,CAAuB,SAAvB,CAAiC,CAAjC,CADzE;AAAA,MAEE,cAAc,UAAU,KAAV,CAAgB,GAAhB,CAFhB;AAGA,OAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,YAAY,MAAhC,EAAwC,GAAxC,EACA;AACC,OAAI,aAAa,YAAY,CAAZ,EAAe,KAAf,CAAqB,GAArB,CAAjB;AACA,SAAM,WAAW,CAAX,CAAN,IAAuB,WAAW,CAAX,CAAvB;AACA;AACD,SAAO,KAAP;AACA;;AAED,IAAG,IAAH,CAAQ,GAAR,CAAY,iBAAZ,GAAgC,iBAAhC;;AAEA;;;;;AAKA,UAAS,kBAAT,CAA4B,KAA5B,EACA;AACC,MAAI,QAAQ,OAAO,QAAP,CAAgB,MAAhB,CAAuB,SAAvB,CAAiC,CAAjC,CAAZ;AACA,MAAI,cAAc,MAAM,KAAN,CAAY,GAAZ,CAAlB;AACA,OAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,YAAY,MAAhC,EAAwC,GAAxC,EACA;AACC,OAAI,aAAa,YAAY,CAAZ,EAAe,KAAf,CAAqB,GAArB,CAAjB;AACA,OAAI,WAAW,CAAX,MAAkB,KAAtB,EACA;AACC,WAAO,WAAW,CAAX,CAAP;AACA;AACD;AACD,SAAO,KAAP;AACA;;AAED,IAAG,IAAH,CAAQ,GAAR,CAAY,kBAAZ,GAAiC,kBAAjC;;AAEA;;;;;AAKA,UAAS,cAAT,CAAwB,GAAxB,EACA;AACC;AACA,MAAI,oBAAoB,mBAAmB,GAAnB,EAAwB,aAAhD;AACA,MAAI,iBAAJ,EACA;AACC,OAAI,UAAU;AACb,UAAM;AACL,WAAM,IADD;AAEL,cAAS,QAFJ;AAGL,kBAAa,KAHR;AAIL,aAAQ,YAJH;AAKL,oBAAe;AALV,KADO;AAQb,WAAO;AACN,WAAM,KADA;AAEN,cAAS,MAFH;AAGN,kBAAa,MAHP;AAIN,aAAQ,SAJF;AAKN,oBAAe;AALT;AARM,IAAd;AAgBA,UAAO,QAAQ,iBAAR,CAAP;AACA;AACD,SAAO,IAAP;AACA;;AAED,IAAG,IAAH,CAAQ,GAAR,CAAY,cAAZ,GAA6B,cAA7B;;AAEA;;;;;AAKA,UAAS,gBAAT,CAA0B,UAA1B,EACA;AACC,MAAI,aAAa,SAAS,oBAAT,CAA8B,QAA9B,CAAjB;;AAEA,MAAI,UAAJ,EACA;AACC,QAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,WAAW,MAA/B,EAAuC,GAAvC,EACA;AACC,QAAI,SAAS,WAAW,IAAX,CAAgB,CAAhB,CAAb;;AAEA,QAAI,OAAO,GAAP,IAAc,OAAO,GAAP,CAAW,KAAX,CAAiB,UAAjB,CAAlB,EACA;AACC,YAAO,MAAP;AACA;AACD;AACD,GAXD,MAaA;AACC,OAAI,SAAS,aAAb,EACA;AACC,WAAO,SAAS,aAAhB;AACA,IAHD,MAKA;AACC,WAAO,WAAW,WAAW,MAAX,GAAoB,CAA/B,CAAP;AACA;AACD;AACD,SAAO,IAAP;AACA;;AAED,IAAG,IAAH,CAAQ,GAAR,CAAY,gBAAZ,GAA+B,gBAA/B;;AAEA;;;;AAIA,UAAS,yBAAT,GACA;AACC,MAAI,gBAAgB,kBAApB;AACA,SAAO,gBAAgB,kBAAkB,cAAc,GAAhC,CAAhB,GAAuD,EAA9D;AACA;;AAED,IAAG,IAAH,CAAQ,GAAR,CAAY,yBAAZ,GAAwC,yBAAxC;;AAEA;;;;;AAKA,UAAS,oBAAT,CAA8B,UAA9B,EACA;AACC,MAAI,SAAS,iBAAiB,UAAjB,CAAb;AACA,SAAO,SAAS,OAAO,GAAhB,GAAsB,EAA7B;AACA;;AAED,IAAG,IAAH,CAAQ,GAAR,CAAY,oBAAZ,GAAmC,oBAAnC;;AAEA;;;;AAIA,UAAS,WAAT,GACA;AACC,MAAI,OAAO,OAAO,QAAP,CAAgB,QAAhB,CAAyB,IAApC;AAAA,MACE,WAAW,OAAO,QAAP,CAAgB,QAAhB,CAAyB,QADtC;AAAA,MAEE,gBAAgB,KAAK,SAAL,CAAe,CAAf,EAAkB,KAAK,OAAL,CAAa,QAAb,CAAlB,CAFlB;AAAA,MAGE,cAAc,SAAS,SAAT,CAAmB,CAAnB,EAAsB,SAAS,MAAT,CAAgB,CAAhB,EAAmB,WAAnB,CAA+B,GAA/B,IAAsC,CAA5D,CAHhB;AAIA,SAAQ,gBAAgB,WAAxB;AACA;;AAED,IAAG,IAAH,CAAQ,GAAR,CAAY,WAAZ,GAA0B,WAA1B;;AAEA;;;;AAIA,UAAS,aAAT,GACA;AACC,MAAI,QAAQ,IAAI,KAAJ,EAAZ;AAAA,MACI,eADJ;AAAA,MAEI,sBAAsB,IAAI,MAAJ,CAAW,uBAAX,CAF1B;AAAA,MAGI,yBAAyB,IAAI,MAAJ,CAAW,oCAAX,CAH7B;;AAKA,MAAI,CAAC,SAAS,oBAAoB,IAApB,CAAyB,MAAM,KAAN,CAAY,IAAZ,EAAzB,CAAV,KAA2D,OAAO,CAAP,KAAa,EAA5E,EACC,OAAO,OAAO,CAAP,CAAP,CADD,KAEK,IAAK,SAAS,uBAAuB,IAAvB,CAA4B,MAAM,KAAN,CAAY,IAAZ,EAA5B,CAAd,EACJ,OAAO,OAAO,CAAP,CAAP,CADI,KAEA,IAAI,MAAM,UAAN,MAAsB,SAA1B,EACJ,OAAO,MAAM,UAAN,CAAP;AACD;;AAED,IAAG,IAAH,CAAQ,GAAR,CAAY,aAAZ,GAA4B,aAA5B;;AAEA;AACA;;;;AAIA,IAAG,IAAH,CAAQ,IAAR,GAAe,EAAf;;AAEA;;;;;;;AAOA,UAAS,UAAT,CAAoB,GAApB,EAAyB,QAAzB,EAAmC,OAAnC,EAA4C,IAA5C,EACA;AACC,MAAI,CAAC,GAAL,EACC;;AAED,MAAI,MAAM,OAAN,CAAc,GAAd,CAAJ,EACA;AACC;AACA,wBAAqB,UAAU,QAAV,EAAoB,aAApB,EAAmC;AACvD,eAAW,QAAX,EAAqB,aAArB,EAAoC,OAApC,EAA6C,IAA7C;AACA,IAFD,EAEG,GAFH,EAEQ,QAFR;AAGA,GAND,MAQA;AACC,OAAI,SAAS,SAAS,aAAT,CAAuB,QAAvB,CAAb;AAAA,OACE,YAAY,IADd;AAAA,OAEE,UAAU,QAAQ,KAAK,SAAL,CAAR,GAA0B,KAAK,SAAL,CAA1B,GAA4C,mBAAmB,GAAnB,EAAwB,IAFhF;AAGA,UAAO,IAAP,GAAc,iBAAd;AACA,WAAQ,KAAK,SAAL,CAAR,IAA2B,OAAO,YAAP,CAAoB,OAApB,EAA6B,EAA7B,CAA3B;;AAEA,OAAI,QAAQ,KAAK,UAAjB,EACA;AACC,SAAK,IAAI,IAAT,IAAiB,KAAK,UAAtB,EACA;AACC,SAAI,KAAK,UAAL,CAAgB,cAAhB,CAA+B,IAA/B,CAAJ,EACA;AACC,aAAO,YAAP,CAAoB,IAApB,EAA0B,KAAK,UAAL,CAAgB,IAAhB,CAA1B;AACA,eAAS,OAAT,IAAoB,OAAO,YAAP,CAAoB,WAApB,EAAiC,KAAK,UAAL,CAAgB,IAAhB,CAAjC,CAApB;AACA;AACD;AACD;;AAED,UAAO,OAAP,GAAiB,YAAY;AAC5B,gBAAY,KAAZ;AACA,iBAAa,UAAU,QAAQ,QAAR,GAAV,GAAgC,SAAS,SAAT,CAA7C;AACA,IAHD;AAIA,OAAI,OAAO,UAAX,EACA;AAAG;AACF,WAAO,kBAAP,GAA4B,YAAY;AACvC,SAAI,OAAO,UAAP,KAAsB,QAAtB,IAAkC,OAAO,UAAP,KAAsB,UAA5D,EACA;AACC,aAAO,kBAAP,GAA4B,IAA5B;AACA,iBAAW,YAAY;AACtB,oBAAa,QAAb,KAA0B,UAAU,QAAQ,QAAR,GAAV,GAAgC,SAAS,SAAT,CAA1D;AACA,OAFD,EAEG,CAFH;AAGA;AACD,KARD;AASA,IAXD,MAaA;AAAG;AACF,WAAO,MAAP,GAAgB,YAAY;AAC3B,kBAAa,UAAU,QAAQ,QAAR,GAAV,GAAgC,SAAS,SAAT,CAA7C;AACA,KAFD;AAGA;;AAED,UAAO,GAAP,GAAa,GAAb;;AAEA,YAAS,IAAT,CAAc,WAAd,CAA0B,SAAS,aAAT,CAAuB,aAAa,OAAb,GAAuB,UAA9C,CAA1B;AACA,YAAS,IAAT,CAAc,WAAd,CAA0B,MAA1B;AACA;AACD;;AAED,IAAG,IAAH,CAAQ,IAAR,CAAa,UAAb,GAA0B,UAA1B;;AAEA;;;;;AAKA,UAAS,qBAAT,CAA+B,GAA/B,EACA;AACC,SAAO,IAAI,OAAJ,CAAY,UAAU,OAAV,EAAmB,MAAnB,EAA2B;AAC7C,OAAI,CAAC,GAAL,EACA;AACC,WAAO,IAAI,KAAJ,CAAU,cAAV,CAAP;AACA;;AAED,OAAI,SAAS,SAAS,aAAT,CAAuB,QAAvB,CAAb;AAAA,OACE,YAAY,IADd;AAEA,UAAO,IAAP,GAAc,iBAAd;;AAEA,UAAO,OAAP,GAAiB,YAAY;AAC5B,gBAAY,KAAZ;AACA;AACA,IAHD;AAIA,OAAI,OAAO,UAAX,EACA;AAAG;AACF,WAAO,kBAAP,GAA4B,YAAY;AACvC,SAAI,OAAO,UAAP,KAAsB,QAAtB,IAAkC,OAAO,UAAP,KAAsB,UAA5D,EACA;AACC,aAAO,kBAAP,GAA4B,IAA5B;AACA,iBAAW,YAAY;AACtB;AACA,OAFD,EAEG,CAFH;AAGA;AACD,KARD;AASA,IAXD,MAaA;AAAG;AACF,WAAO,MAAP,GAAgB,YAAY;AAC3B;AACA,KAFD;AAGA;;AAED,UAAO,GAAP,GAAa,GAAb;;AAEA,YAAS,IAAT,CAAc,WAAd,CAA0B,SAAS,aAAT,CAAuB,aAAa,mBAAmB,GAAnB,EAAwB,IAArC,GAA4C,UAAnE,CAA1B;AACA,YAAS,IAAT,CAAc,WAAd,CAA0B,MAA1B;AACA,GArCM,CAAP;AAsCA;;AAED,IAAG,IAAH,CAAQ,IAAR,CAAa,qBAAb,GAAqC,qBAArC;;AAEA;;;;;;AAMA,UAAS,OAAT,CAAiB,GAAjB,EAAsB,QAAtB,EAAgC,OAAhC,EACA;AACC,MAAI,CAAC,GAAL,EACC;;AAED,MAAI,MAAM,OAAN,CAAc,GAAd,CAAJ,EACA;AACC;AACA,wBAAqB,UAAU,QAAV,EAAoB,aAApB,EAAmC;AACvD,YAAQ,QAAR,EAAkB,aAAlB;AACA,IAFD,EAEG,GAFH,EAEQ,QAFR;AAGA,GAND,MAQA;AACC,OAAI,OAAO,SAAS,aAAT,CAAuB,MAAvB,CAAX;AACA,QAAK,GAAL,GAAW,YAAX;AACA,QAAK,IAAL,GAAY,UAAZ;AACA,QAAK,IAAL,GAAY,GAAZ;AACA,QAAK,MAAL,GAAc,YAAY;AACzB,iBAAa,UAAU,QAAQ,QAAR,GAAV,GAAgC,UAA7C;AACA,IAFD;AAGA,QAAK,OAAL,GAAe,YAAY;AAC1B,YAAQ,GAAR,CAAY,oBAAoB,GAAhC;AACA,IAFD;;AAIA,YAAS,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,EAAyC,WAAzC,CAAqD,SAAS,aAAT,CAAuB,YAAY,mBAAmB,GAAnB,EAAwB,IAApC,GAA2C,WAAlE,CAArD;AACA,YAAS,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,EAAyC,WAAzC,CAAqD,IAArD;AACA;AACD;;AAED,IAAG,IAAH,CAAQ,IAAR,CAAa,OAAb,GAAuB,OAAvB;;AAEA;;;;;AAKA,UAAS,kBAAT,CAA4B,GAA5B,EACA;AACC,SAAO,IAAI,OAAJ,CAAY,UAAU,OAAV,EAAmB,MAAnB,EAA2B;AAC7C,OAAI,CAAC,GAAL,EACA;AACC,WAAO,IAAI,KAAJ,CAAU,cAAV,CAAP;AACA;;AAED,OAAI,OAAO,SAAS,aAAT,CAAuB,MAAvB,CAAX;AACA,QAAK,GAAL,GAAW,YAAX;AACA,QAAK,IAAL,GAAY,UAAZ;AACA,QAAK,IAAL,GAAY,GAAZ;AACA,QAAK,MAAL,GAAc,YAAY;AACzB;AACA,IAFD;AAGA,QAAK,OAAL,GAAe,UAAU,KAAV,EAAiB;AAC/B,WAAO,IAAI,KAAJ,CAAU,KAAV,CAAP;AACA,IAFD;;AAIA,YAAS,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,EAAyC,WAAzC,CAAqD,SAAS,aAAT,CAAuB,YAAY,mBAAmB,GAAnB,EAAwB,IAApC,GAA2C,WAAlE,CAArD;AACA,YAAS,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,EAAyC,WAAzC,CAAqD,IAArD;AACA,GAnBM,CAAP;AAoBA;;AAED,IAAG,IAAH,CAAQ,IAAR,CAAa,kBAAb,GAAkC,kBAAlC;;AAEA;;;;;AAKA,UAAS,YAAT,CAAsB,GAAtB,EAA2B,QAA3B,EACA;AACC,MAAI,CAAC,oBAAoB,GAApB,CAAL,EACA;AACC,UAAO,eAAe,GAAf,EAAoB,MAA3B,EAAmC,GAAnC,EAAwC,QAAxC;AACA;AACD;;AAED,IAAG,IAAH,CAAQ,IAAR,CAAa,YAAb,GAA4B,YAA5B;;AAEA;;;;;AAKA,UAAS,aAAT,CAAuB,IAAvB,EAA6B,QAA7B,EACA;AACC,MAAI,SAAS,IAAT,IAAiB,SAAS,EAA9B,EACA;AACC,OAAI,MAAM,OAAN,CAAc,IAAd,CAAJ,EACA;AACC,WAAO,KAAK,MAAL,CAAY,UAAU,GAAV,EAAe;AACjC,YAAQ,OAAO,GAAP,MAAgB,GAAhB,IAAuB,QAAQ,EAAvC;AACA,KAFM,CAAP;AAGA,QAAI,KAAK,MAAL,KAAgB,CAApB,EACA;AACC,iBAAY,UAAZ;AACA,KAHD,MAIK,IAAI,KAAK,MAAL,KAAgB,CAApB,EACL;AACC,kBAAa,KAAK,CAAL,CAAb,EAAsB,QAAtB;AACA,KAHI,MAKL;AACC,SAAI,QAAJ,EACA;AACC,eAAS,IAAT,EAAe,QAAf;AACA,MAHD,MAKA;AACC,WAAK,GAAL,CAAS,UAAU,GAAV,EAAe;AACvB,oBAAa,GAAb;AACA,OAFD;AAGA;AACD;AACD,IA1BD,MA2BK,IAAI,OAAO,IAAP,MAAiB,IAArB,EACL;AACC,iBAAa,IAAb,EAAmB,QAAnB;AACA;AACD,GAjCD,MAmCA;AACC,eAAY,UAAZ;AACA;AACD;;AAED,IAAG,IAAH,CAAQ,IAAR,CAAa,aAAb,GAA6B,aAA7B;;AAEA;;;;;AAKA,UAAS,mBAAT,CAA6B,GAA7B,EACA;AACC,MAAI,OAAO,eAAe,GAAf,CAAX;AAAA,MACE,eAAe,KAAK,SAAL,KAAmB,OADpC;AAAA,MAEE,UAAU,MAAM,SAAN,CAAgB,KAAhB,CAAsB,IAAtB,CAA2B,SAAS,gBAAT,CAA0B,YAA1B,CAA3B,EACP,GADO,CACH,UAAU,aAAV,EAAyB;AAC7B,UAAO,cAAc,KAAK,aAAL,CAAd,CAAP;AACA,GAHO,CAFZ;AAMA,SAAO,QAAQ,OAAR,CAAgB,GAAhB,MAAyB,CAAC,CAAjC;AACA;;AAED,IAAG,IAAH,CAAQ,IAAR,CAAa,mBAAb,GAAmC,mBAAnC;;AAEA;;;;;AAKA,UAAS,QAAT,CAAkB,IAAlB,EAAwB,QAAxB,EACA;AACC,MAAI,wBAAwB,KAAK,GAAL,CAAS,UAAU,QAAV,EAAoB;AACxD,OAAI,eAAe,eAAe,QAAf,CAAnB;AACA,gBAAa,GAAb,GAAmB,QAAnB;AACA,UAAO,YAAP;AACA,GAJ2B,CAA5B;AAKA;AACA,MAAI,OAAO,OAAP,KAAmB,WAAnB,IAAkC,QAAQ,QAAR,GAAmB,OAAnB,CAA2B,eAA3B,MAAgD,CAAC,CAAvF,EACA;AACC,OAAI,kBAAkB,sBAAsB,GAAtB,CAA0B,UAAU,YAAV,EAAwB;AACvE,WAAO,GAAG,IAAH,CAAQ,IAAR,CAAa,aAAa,aAA1B,EAAyC,aAAa,GAAtD,CAAP;AACA,IAFqB,CAAtB;AAGA,WAAQ,GAAR,CAAY,eAAZ,EAA6B,IAA7B,CAAkC,YAAY;AAC7C,gBAAY,UAAZ;AACA,IAFD,EAEG,KAFH,CAES,UAAU,KAAV,EAAiB;AACzB,YAAQ,GAAR,CAAY,+BAA+B,KAA3C;AACA,IAJD;AAKA,GAVD,MAYA;AACC,yBAAsB,OAAtB,CAA8B,UAAU,YAAV,EAAwB;AACrD,OAAG,IAAH,CAAQ,IAAR,CAAa,aAAa,MAA1B,EAAkC,aAAa,GAA/C;AACA,IAFD;AAGA,eAAY,UAAZ;AACA;AACD;;AAED,IAAG,IAAH,CAAQ,IAAR,CAAa,QAAb,GAAwB,QAAxB;;AAEA;;;;;;AAMA,UAAS,cAAT,CAAwB,GAAxB,EAA6B,QAA7B,EAAuC,OAAvC,EACA;AACC,MAAI,SAAS,YAAT,IAAyB,CAAzB,IAA8B,OAAO,cAAzC,EACA;AACC,iBAAc,GAAd,EAAmB,QAAnB,EAA6B,OAA7B;AACA,GAHD,MAKA;AACC,qBAAkB,GAAlB,EAAuB,QAAvB,EAAiC,OAAjC;AACA;;AAED;;;;;;;;;;AAUA,WAAS,aAAT,CAAuB,GAAvB,EAA4B,QAA5B,EAAsC,OAAtC,EACA;AACC,OAAI,MAAM,IAAI,cAAJ,EAAV;AACA,OAAI,GAAJ,EACA;AACC,QAAI,MAAJ,GAAa,YAAY;AACxB,kBAAa,UAAU,QAAQ,QAAR,EAAkB,IAAI,YAAtB,CAAV,GAAgD,SAAS,IAAI,YAAb,CAA7D;AACA,KAFD;AAGA,QAAI,OAAJ,GAAc,YAAY;AACzB;AACA,KAFD;AAGA,QAAI,IAAJ,CAAS,KAAT,EAAgB,GAAhB;AACA,QAAI,IAAJ;AACA;AACD;;AAED;;;;;;AAMA,WAAS,iBAAT,CAA2B,GAA3B,EAAgC,QAAhC,EAA0C,OAA1C,EACA;AACC,OAAI,UAAU,IAAI,cAAJ,EAAd;AACA,WAAQ,IAAR,CAAa,KAAb,EAAoB,GAApB,EAAyB,IAAzB;AACA,WAAQ,MAAR,GAAiB,YAAY;AAC5B,QAAI,QAAQ,MAAR,IAAkB,GAAlB,IAAyB,QAAQ,MAAR,GAAiB,GAA9C,EACA;AACC;AACA,kBAAa,UAAU,QAAQ,QAAR,EAAkB,QAAQ,YAA1B,CAAV,GAAoD,SAAS,QAAQ,YAAjB,CAAjE;AACA,KAJD,MAMA;AACC;AACA;AACD,IAVD;AAWA,WAAQ,OAAR,GAAkB,YAAY;AAC7B;AACA,IAFD;AAGA,WAAQ,IAAR;AACA;AACD;;AAED,IAAG,IAAH,CAAQ,IAAR,CAAa,cAAb,GAA8B,cAA9B;;AAEA;;;;;;AAMA,UAAS,sBAAT,CAAgC,GAAhC,EAAqC,QAArC,EAA+C,OAA/C,EACA;AACC,IAAE,IAAF,CAAO;AACN,QAAK,GADC;AAEN,YAAS,iBAAU,IAAV,EAAgB;AACxB,iBAAa,UAAU,QAAQ,QAAR,EAAkB,IAAlB,CAAV,GAAoC,SAAS,IAAT,CAAjD;AACA;AAJK,GAAP;AAMA;;AAED,IAAG,IAAH,CAAQ,IAAR,CAAa,sBAAb,GAAsC,sBAAtC;;AAEA;;AAEA,IAAG,IAAH,CAAQ,IAAR,GAAe,EAAf;;AAEA;;;;;;AAMA,UAAS,QAAT,CAAkB,MAAlB,EAA0B,OAA1B,EAAmC,OAAnC,EACA;AACC,YAAW,WAAW,YAAY,CAAxB,GAA6B,OAA7B,GAAuC,GAAjD;AACA,MAAI,OAAO,GAAX,EACA;AACC,gBAAa,OAAO,GAApB;AACA;AACD,SAAO,GAAP,GAAa,WAAW,YAAY;AACnC,UAAO,IAAP,CAAY,OAAZ;AACA,GAFY,EAEV,OAFU,CAAb;AAGA;;AAED,IAAG,IAAH,CAAQ,IAAR,CAAa,QAAb,GAAwB,QAAxB;;AAEA;;;;AAIA,UAAS,UAAT,CAAoB,WAApB,EACA;AACC,MAAI,YAAY,CACf,iCADe,EAEf,iCAFe,EAGf,iCAHe,EAIf,iCAJe,EAKf,iCALe,EAMf,iCANe,EAOf,iCAPe,EAQf,iCARe,EASf,iCATe,EAUf,iCAVe,EAWf,iCAXe,EAYf,8BAZe,EAaf,+BAbe,EAcf,iCAde,CAAhB;AAgBA,MAAI,CAAC,OAAO,eAAZ,EACA;AACC,UAAO,eAAP,GAAyB,EAAzB;AACA;AACD,MAAI,OAAO,OAAP,IAAkB,OAAO,KAAP,KAAiB,KAAvC,EACA;AACC,OAAI,SAAS,YAAY,MAAZ,GAAqB,YAAY,MAAZ,CAAmB,IAAxC,GAA+C,EAA5D;AAAA,OACE,mBAAmB,MAAM,SAAN,CAAgB,KAAhB,CAAsB,IAAtB,CAA2B,WAA3B,EAAwC,CAAxC,CADrB;AAAA,OAEE,oBAAoB,eAAe,gBAAf,CAFtB;AAAA,OAGE,iBAAiB,MAAM,SAAN,CAAgB,KAAhB,CAAsB,IAAtB,CAA2B,SAA3B,EAAsC,CAAtC,CAHnB;AAAA,OAIE,wBAAwB,eAAe,MAAf,GAAwB,CAAxB,IAA6B,eAAe,KAAf,EAA7B,IAAuD,eAAe,cAAf,CAJjF;AAKA,OAAI,CAAC,OAAO,eAAP,CAAuB,MAAvB,CAAL,EACA;AACC,WAAO,eAAP,CAAuB,MAAvB,IAAiC;AAChC,gBAAW,CADqB;AAEhC,eAAU;AAFsB,KAAjC;AAIA;AACD,OAAI,CAAC,OAAO,eAAP,CAAuB,MAAvB,EAA+B,QAA/B,CAAwC,eAAe,CAAf,CAAxC,CAAL,EACA;AACC,WAAO,eAAP,CAAuB,MAAvB,EAA+B,QAA/B,CAAwC,eAAe,CAAf,CAAxC,IAA6D,UAAU,OAAO,eAAP,CAAuB,MAAvB,EAA+B,SAAzC,CAA7D;AACA,WAAO,eAAP,CAAuB,MAAvB,EAA+B,SAA/B;AACA;AACD,OAAI,OAAO,eAAP,CAAuB,QAAvB,KAAoC,MAAxC,EACA;AACC,WAAO,OAAP,CAAe,QAAf;AACA,WAAO,OAAP,CAAe,KAAf,CAAqB,MAArB;AACA,WAAO,eAAP,CAAuB,QAAvB,GAAkC,MAAlC;AACA;AACD,UAAO,OAAP,CAAe,GAAf,CAAmB,MAAnB,EAA2B,OAAO,eAAP,CAAuB,MAAvB,EAA+B,QAA/B,CAAwC,eAAe,CAAf,CAAxC,CAA3B,EAAuF,SAAS,KAAT,GAAiB,iBAAjB,GAAqC,IAArC,GAA4C,qBAAnI;AACA;AACD;;AAED,IAAG,IAAH,CAAQ,IAAR,CAAa,UAAb,GAA0B,UAA1B;;AAEA;;;;;AAKA,UAAS,WAAT,CAAqB,QAArB,EACA;AACC,MAAI,eAAe,gBAAgB,QAAhB,CAAnB;AACA,MAAI,CAAC,OAAO,YAAP,CAAL,EACA;AACC,UAAO,YAAP,IAAuB,UAAU,IAAV,EAAgB;AACtC,WAAO,QAAP,IAAmB,IAAnB;AACA,IAFD;AAGA,UAAO,YAAP;AACA;AACD,SAAO,IAAP;AACA;;AAED,IAAG,IAAH,CAAQ,IAAR,CAAa,WAAb,GAA2B,WAA3B;;AAEA;;;;;AAKA,UAAS,eAAT,CAAyB,QAAzB,EACA;AACC,SAAO,WAAW,UAAlB;AACA;;AAED,IAAG,IAAH,CAAQ,IAAR,CAAa,eAAb,GAA+B,eAA/B;;AAEA;;;;;AAKA,UAAS,UAAT,CAAoB,GAApB,EAAyB;AACzB;AACC,QAAM,OAAO,EAAb;;AAEA,OAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,UAAU,MAA9B,EAAsC,GAAtC,EACA;AACC,OAAI,MAAM,UAAU,CAAV,CAAV;;AAEA,OAAI,CAAC,GAAL,EACC;;AAED,QAAK,IAAI,GAAT,IAAgB,GAAhB,EACA;AACC,QAAI,IAAI,cAAJ,CAAmB,GAAnB,CAAJ,EACA;AACC,SAAI,QAAO,IAAI,GAAJ,CAAP,MAAoB,QAApB,IACC,IAAI,GAAJ,MAAa,IADd,IAEC,CAAC,MAAM,OAAN,CAAc,IAAI,GAAJ,CAAd,CAFF,IAGC,EAAE,IAAI,GAAJ,aAAoB,IAAtB,CAHD,IAIC,EAAE,IAAI,GAAJ,MAAa,UAAf,CAJL,EAKA;AACC,UAAI,GAAJ,IAAW,WAAW,IAAI,GAAJ,CAAX,EAAqB,IAAI,GAAJ,CAArB,CAAX;AACA,MAPD,MASC,IAAI,GAAJ,IAAW,IAAI,GAAJ,CAAX;AACD;AACD;AACD;AACD,SAAO,GAAP;AACA;;AAED,IAAG,IAAH,CAAQ,IAAR,CAAa,UAAb,GAA0B,UAA1B;;AAEA;;;;;;AAMA,UAAS,oBAAT,CAA8B,EAA9B,EAAkC,MAAlC,EAA0C,MAA1C,EACA;AACC,MAAI,gBAAgB,MAAM,OAAN,CAAc,MAAd,CAApB;AAAA,MACE,oBAAoB,iBAAiB,OAAO,MAAxB,IAAkC,CADxD;AAEA,OAAK,IAAI,IAAI,CAAR,EAAW,SAAS,OAAO,MAAhC,EAAwC,IAAI,MAA5C,EAAoD,GAApD,EACA;AACC,OAAI,aAAc,iBAAiB,IAAI,iBAAtB,GAA2C,OAAO,CAAP,CAA3C,GAAuD,IAAxE;AACA,SAAM,GAAG,OAAO,CAAP,CAAH,EAAc,UAAd,CAAN;AACA;AACD;;AAED,IAAG,IAAH,CAAQ,IAAR,CAAa,oBAAb,GAAoC,oBAApC;;AAEA;;AAEA,IAAG,IAAH,CAAQ,IAAR,GAAe,EAAf;;AAEA;;;;;;;AAOA,UAAS,YAAT,CAAsB,QAAtB,EAAgC,YAAhC,EAA8C,UAA9C,EACA;AACC,MAAI,SAAS,QAAb;AACA,OAAK,IAAI,GAAT,IAAgB,YAAhB,EACA;AACC,OAAI,aAAa,cAAb,CAA4B,GAA5B,CAAJ,EACA;AACC,QAAI,YAAY,aAAa,GAAb,CAAhB;AACA;AACA,QAAI,OAAO,aAAa,GAAb,CAAP,KAA6B,UAAjC,EACA;AACC,iBAAY,aAAa,GAAb,EAAkB,UAAlB,CAAZ;AACA;AACD,aAAS,OAAO,OAAP,CAAe,IAAI,MAAJ,CAAW,OAAO,GAAP,GAAa,IAAxB,EAA8B,GAA9B,CAAf,EAAmD,SAAnD,CAAT;AACA;AACD;AACD,SAAO,MAAP;AACA;;AAED,IAAG,IAAH,CAAQ,IAAR,CAAa,YAAb,GAA4B,YAA5B;;AAEA;;;;;;;;AAQA,UAAS,cAAT,CAAwB,aAAxB,EAAuC,QAAvC,EAAiD,UAAjD,EAA6D,cAA7D,EAA6E,QAA7E,EACA;AACC,MAAI,aAAa,EAAjB;AACA,OAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,WAAW,MAA/B,EAAuC,GAAvC,EACA;AACC,iBAAc,aAAa,QAAb,EAAuB,eAAe,WAAW,CAAX,CAAf,CAAvB,EAAsD,WAAW,CAAX,CAAtD,CAAd;AACA;AACD,MAAI,CAAC,QAAD,IAAa,aAAa,QAA9B,EACA;AACC,iBAAc,SAAd,GAA0B,UAA1B;AACA,GAHD,MAKA;AACC,iBAAc,kBAAd,CAAiC,QAAjC,EAA2C,UAA3C;AACA;AACD;;AAED,IAAG,IAAH,CAAQ,IAAR,CAAa,cAAb,GAA8B,cAA9B;;AAEA;;AAEA,IAAG,IAAH,CAAQ,MAAR,GAAiB,EAAjB;;AAEA;;;;;AAKA,UAAS,OAAT,CAAiB,MAAjB,EACA;AACC,SAAO,IAAI,MAAJ,CAAW,MAAX,EAAmB,GAAnB,CAAP;AACA;;AAED,IAAG,IAAH,CAAQ,MAAR,CAAe,OAAf,GAAyB,OAAzB;;AAEA;;;;;AAKA,UAAS,KAAT,CAAe,GAAf,EACA;AACC,MAAI,aAAa,8JAAjB;AACA,SAAQ,IAAI,MAAJ,CAAW,UAAX,CAAD,CAAyB,IAAzB,CAA8B,GAA9B,CAAP;AACA;;AAED,IAAG,IAAH,CAAQ,MAAR,CAAe,KAAf,GAAuB,KAAvB;;AAEA;;AAEA,IAAG,IAAH,CAAQ,OAAR,GAAkB,EAAlB;;AAEA;;;;;AAKA,UAAS,WAAT,CAAqB,QAArB,EACA;AACC,MAAI,gBAAgB,EAApB;AACA,MAAI,SAAS,MAAb,EACA;AACC,mBAAgB,SAAS,MAAT,GAAkB,CAAlB,GAAsB,SAAS,GAAT,EAAtB,GAAuC,CAAC,SAAS,CAAT,CAAD,CAAvD;AACA,GAHD,MAIK,IAAI,oBAAoB,OAAO,QAA3B,IAAuC,oBAAoB,QAA3D,IAAuE,oBAAoB,cAA/F,EACL;AACC,mBAAgB,MAAM,SAAN,CAAgB,KAAhB,CAAsB,IAAtB,CAA2B,QAA3B,CAAhB;AACA,GAHI,MAIA,IAAI,MAAM,OAAN,CAAc,QAAd,CAAJ,EACL;AACC,mBAAgB,QAAhB;AACA,GAHI,MAIA,IAAI,SAAS,QAAb,EACL;AACC,mBAAgB,CAAC,QAAD,CAAhB;AACA;AACD,SAAO,aAAP;AACA;;AAED,IAAG,IAAH,CAAQ,OAAR,CAAgB,WAAhB,GAA8B,WAA9B;;AAEA;;;;;AAKA,UAAS,oBAAT,CAA8B,cAA9B,EACA;AACC,MAAI,CAAC,cAAD,IAAoB,kBAAkB,eAAe,IAAf,OAA0B,EAApE,EACA;AACC,UAAO,CAAC,QAAD,CAAP;AACA;AACD,MAAI,oBAAoB,EAAxB;AAAA,MACE,iBAAiB,eAAe,KAAf,CAAqB,GAArB,EAA0B,GAA1B,CAA8B,UAAU,kBAAV,EAA8B;AAC5E,UAAO,mBAAmB,IAAnB,EAAP;AACA,GAFgB,CADnB;AAIA,mBAAiB,YAAY,cAAZ,CAAjB;AACA,OAAK,IAAI,IAAI,CAAR,EAAW,IAAI,eAAe,MAAnC,EAA2C,IAAI,CAA/C,EAAkD,GAAlD,EACA;AACC,OAAI,eAAe,CAAf,MAAsB,UAA1B,EACA;AACC,sBAAkB,IAAlB,CAAuB,QAAvB;AACA,IAHD,MAKA;AACC,QAAI,gBAAgB,uBAAuB,SAAS,gBAAT,CAA0B,eAAe,CAAf,CAA1B,CAAvB,CAApB;AACA,wBAAoB,kBAAkB,MAAlB,CAAyB,aAAzB,CAApB;AACA;AACD;AACD,SAAO,iBAAP;AACA;;AAED,IAAG,IAAH,CAAQ,OAAR,CAAgB,oBAAhB,GAAuC,oBAAvC;;AAEA;;;;;;AAMA,UAAS,UAAT,CAAoB,OAApB,EAA6B,QAA7B,EACA;AACC,SAAO,CAAC,UAAU,QAAQ,aAAnB,KAAqC,CAAC,QAAQ,OAAR,EAAiB,QAAjB,CAA7C,EACA,CACC;AACD,SAAO,OAAP;AACA;;AAED,IAAG,IAAH,CAAQ,OAAR,CAAgB,UAAhB,GAA6B,UAA7B;;AAEA;;;;;;AAMA,UAAS,OAAT,CAAiB,EAAjB,EAAqB,QAArB,EACA;AACC,SAAO,CAAC,GAAG,OAAH,IAAc,GAAG,eAAjB,IAAoC,GAAG,iBAAvC,IAA4D,GAAG,kBAA/D,IAAqF,GAAG,qBAAxF,IAAiH,GAAG,gBAArH,EAAuI,IAAvI,CAA4I,EAA5I,EAAgJ,QAAhJ,CAAP;AACA;;AAED,IAAG,IAAH,CAAQ,OAAR,CAAgB,OAAhB,GAA0B,OAA1B;;AAEA;;;;;;AAMA,UAAS,MAAT,CAAgB,OAAhB,EAAyB,SAAzB,EACA;AACC,MAAI,gBAAgB,IAApB;AACA,MAAI,SAAS,OAAT,EAAkB,SAAlB,CAAJ,EACA;AACC,mBAAgB,OAAhB;AACA,GAHD,MAKA;AACC,mBAAgB,WAAW,OAAX,EAAoB,MAAM,SAA1B,CAAhB;AACA;AACD,SAAO,aAAP;AACA;;AAED,IAAG,IAAH,CAAQ,OAAR,CAAgB,MAAhB,GAAyB,MAAzB;;AAEA;;;;;;AAMA,UAAS,SAAT,CAAmB,EAAnB,EAAuB,aAAvB,EACA;AACC,MAAI,OAAO,aAAX,EACA;AACC,UAAO,IAAP;AACA;AACD,MAAI,kBAAkB,SAAtB,EACA;AACC,UAAO,KAAP;AACA;;AAED,MAAI,UAAU,EAAd;AAAA,MAAkB,IAAI,GAAG,UAAzB;AACA,SAAO,MAAM,aAAN,IAAuB,EAAE,UAAhC,EACA;AACC,OAAI,IAAI,CAAR;AACA,WAAQ,IAAR,CAAa,CAAb;AACA,OAAI,EAAE,UAAN;AACA;AACD,SAAO,MAAM,aAAb;AACA;;AAED,IAAG,IAAH,CAAQ,OAAR,CAAgB,SAAhB,GAA4B,SAA5B;;AAEA;;;;;AAKA,UAAS,sBAAT,CAAgC,QAAhC,EACA;AACC,MAAI,cAAc,EAAlB;AACA,OAAK,IAAI,IAAI,CAAR,EAAW,IAAI,SAAS,MAA7B,EAAqC,IAAI,CAAzC,EAA4C,GAA5C,EACA;AACC,eAAY,CAAZ,IAAiB,SAAS,CAAT,CAAjB;AACA;AACD,SAAO,WAAP;AACA;;AAED,IAAG,IAAH,CAAQ,OAAR,CAAgB,sBAAhB,GAAyC,sBAAzC;;AAEA;;;;;AAKA,UAAS,sBAAT,CAAgC,OAAhC,EACA;AACC,MAAI,YAAY,OAAO,YAAP,EAAhB;AAAA,MAA0C;AACxC,UAAQ,SAAS,WAAT,EADV;AAAA,MAEE,YAAY,KAFd;AAGA,QAAM,kBAAN,CAAyB,OAAzB;AACA,YAAU,eAAV,GALD,CAKuC;AACtC,YAAU,QAAV,CAAmB,KAAnB,EAND,CAMuC;;AAEtC,cAAY,SAAS,WAAT,CAAqB,MAArB,CAAZ;AACA,SAAO,YAAP,GAAsB,eAAtB;AACA,SAAO,SAAP;AACA;;AAED,IAAG,IAAH,CAAQ,OAAR,CAAgB,sBAAhB,GAAyC,sBAAzC;;AAEA;;;;AAIA,UAAS,iBAAT,CAA2B,OAA3B,EACA;AACC,MAAI,OAAO,SAAS,IAAT,IAAiB,SAAS,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,CAA5B;AAAA,MACE,QAAQ,SAAS,aAAT,CAAuB,OAAvB,CADV;;AAGA,QAAM,IAAN,GAAa,UAAb;AACA,MAAI,MAAM,UAAV,EACA;AACC,SAAM,UAAN,CAAiB,OAAjB,GAA2B,OAA3B;AACA,GAHD,MAKA;AACC,SAAM,WAAN,CAAkB,SAAS,cAAT,CAAwB,OAAxB,CAAlB;AACA;;AAED,OAAK,WAAL,CAAiB,KAAjB;AACA;;AAED,IAAG,IAAH,CAAQ,OAAR,CAAgB,iBAAhB,GAAoC,iBAApC;;AAEA;;;;;;AAMA,UAAS,gBAAT,CAA0B,OAA1B,EAAmC,OAAnC,EACA;AACC,MAAI,aAAa,SAAS,aAAT,CAAuB,OAAvB,CAAjB;;AAEA,SAAO,IAAP,CAAY,QAAQ,IAApB,EAA0B,OAA1B,CAAkC,UAAU,GAAV,EAAe;AAChD,cAAW,YAAX,CAAwB,GAAxB,EAA6B,QAAQ,IAAR,CAAa,GAAb,CAA7B;AACA,GAFD;;AAIA,SAAO,IAAP,CAAY,QAAQ,KAApB,EAA2B,OAA3B,CAAmC,UAAU,GAAV,EAAe;AACjD,cAAW,KAAX,CAAiB,GAAjB,IAAwB,QAAQ,KAAR,CAAc,GAAd,CAAxB;AACA,GAFD;;AAIA,SAAO,UAAP;AACA;;AAED,IAAG,IAAH,CAAQ,OAAR,CAAgB,gBAAhB,GAAmC,gBAAnC;;AAEA;;;;;;;AAOA,UAAS,UAAT,CAAoB,aAApB,EAAmC,YAAnC,EAAiD,QAAjD,EACA;AACC,MAAI,qBAAqB,IAAzB;AACA,UAAQ,YAAY,SAAS,WAAT,EAApB;AAEC,QAAK,SAAL;AACC,yBAAqB,cAAc,YAAd,CAA2B,YAA3B,EAAyC,cAAc,UAAvD,CAArB;AACA;AACD,QAAK,cAAL;AACC,kBAAc,kBAAd,CAAiC,aAAjC,EAAgD,aAAa,SAA7D;AACA,yBAAqB,cAAc,eAAnC;AACA;AACD,QAAK,aAAL;AACC,kBAAc,kBAAd,CAAiC,UAAjC,EAA6C,aAAa,SAA1D;AACA,yBAAqB,cAAc,WAAnC;AACA;AACD;AAAS;AACR,yBAAqB,cAAc,WAAd,CAA0B,YAA1B,CAArB;AAdF;AAgBA,SAAO,kBAAP;AACA;;AAED,IAAG,IAAH,CAAQ,OAAR,CAAgB,UAAhB,GAA6B,UAA7B;;AAEA;;;;;;AAMA,UAAS,QAAT,CAAkB,OAAlB,EAA2B,SAA3B,EACA;AACC,MAAI,QAAQ,SAAZ,EACC,OAAO,QAAQ,SAAR,CAAkB,QAAlB,CAA2B,SAA3B,CAAP,CADD,KAGC,OAAO,IAAI,MAAJ,CAAW,UAAU,SAAV,GAAsB,OAAjC,EAA0C,IAA1C,EAAgD,IAAhD,CAAqD,QAAQ,SAA7D,CAAP;AACD;;AAED,IAAG,IAAH,CAAQ,OAAR,CAAgB,QAAhB,GAA2B,QAA3B;;AAEA;;;;;AAKA,UAAS,QAAT,CAAkB,OAAlB,EAA2B,SAA3B,EACA;AACC,MAAI,CAAC,SAAS,OAAT,EAAkB,SAAlB,CAAL,EACA;AACC,OAAI,QAAQ,SAAZ,EACC,QAAQ,SAAR,CAAkB,GAAlB,CAAsB,SAAtB,EADD,KAGC,QAAQ,SAAR,IAAqB,MAAM,SAA3B;AACD;AACD;;AAED,IAAG,IAAH,CAAQ,OAAR,CAAgB,QAAhB,GAA2B,QAA3B;;AAEA;;;;;AAKA,UAAS,WAAT,CAAqB,OAArB,EAA8B,SAA9B,EACA;AACC,MAAI,SAAS,OAAT,EAAkB,SAAlB,CAAJ,EACA;AACC,OAAI,QAAQ,SAAZ,EACC,QAAQ,SAAR,CAAkB,MAAlB,CAAyB,SAAzB,EADD,KAGC,QAAQ,SAAR,GAAoB,QAAQ,SAAR,CAAkB,OAAlB,CAA0B,IAAI,MAAJ,CAAW,YAAY,UAAU,KAAV,CAAgB,GAAhB,EAAqB,IAArB,CAA0B,GAA1B,CAAZ,GAA6C,SAAxD,EAAmE,IAAnE,CAA1B,EAAoG,GAApG,CAApB;AACD;AACD;;AAED,IAAG,IAAH,CAAQ,OAAR,CAAgB,WAAhB,GAA8B,WAA9B;;AAEA;;;;;AAKA,UAAS,WAAT,CAAqB,OAArB,EAA8B,SAA9B,EACA;AACC,MAAI,SAAS,OAAT,EAAkB,SAAlB,CAAJ,EACA;AACC,eAAY,OAAZ,EAAqB,SAArB;AACA,GAHD,MAKA;AACC,YAAS,OAAT,EAAkB,SAAlB;AACA;AACD;;AAED,IAAG,IAAH,CAAQ,OAAR,CAAgB,WAAhB,GAA8B,WAA9B;;AAEA;;AAEA,IAAG,IAAH,CAAQ,IAAR,GAAe,EAAf;;AAEA;;;;;;;AAOA,UAAS,iBAAT,CAA2B,UAA3B,EAAuC,KAAvC,EAA8C,UAA9C,EAA0D,QAA1D,EACA;AACC,MAAI,UAAU,CAAd,EACA;AACC,YAAS,UAAT,EAAqB,CAArB,EAAwB,QAAxB;AACA,GAHD,MAKA;AACC,OAAI,YAAY,WAAW,UAA3B;AAAA,OACE,eAAe,CADjB;AAAA,OAEE,gBAAgB,CAFlB;AAAA,OAGE,iBAAiB,CAHnB;AAIA,cAAY,aAAa,SAAb,GAAyB,GAAzB,GAA+B,QAA3C;AACA,QAAK,IAAI,IAAI,CAAR,EAAW,IAAI,UAAU,MAA9B,EAAsC,IAAI,CAA1C,EAA6C,GAA7C,EACA;AACC,QAAI,iBAAiB,UAAU,CAAV,EAAa,YAAlC;AACA,QAAI,IAAI,KAAR,EACA;AACC,qBAAgB,cAAhB;AACA,SAAI,IAAI,aAAa,CAArB,EACA;AACC,wBAAkB,UAAU,IAAI,UAAd,EAA0B,YAA5C;AACA;AACD;AACD,qBAAiB,cAAjB;AACA;AACD,kBAAe,cAAf;AACA,OAAI,eAAe,WAAW,YAA1B,GAAyC,aAA7C,EACA;AACC,mBAAe,gBAAgB,WAAW,YAA1C;AACA;AACD,YAAS,UAAT,EAAqB,YAArB,EAAmC,QAAnC;AACA;AACD;;AAED,IAAG,IAAH,CAAQ,IAAR,CAAa,iBAAb,GAAiC,iBAAjC;;AAEA;;;;;;AAMA,UAAS,QAAT,CAAkB,OAAlB,EAA2B,EAA3B,EAA+B,QAA/B,EACA;AACC,MAAI,YAAY,CAAhB,EAAmB;AACnB,MAAI,aAAa,KAAK,QAAQ,SAA9B;AACA,MAAI,UAAU,aAAa,QAAb,GAAwB,EAAtC;;AAEA,aAAW,YAAY;AACtB,WAAQ,SAAR,GAAoB,QAAQ,SAAR,GAAoB,OAAxC;AACA,OAAI,QAAQ,SAAR,KAAsB,EAA1B,EAA8B;AAC9B,YAAS,OAAT,EAAkB,EAAlB,EAAsB,WAAW,EAAjC;AACA,GAJD,EAIG,EAJH;AAKA;;AAED,IAAG,IAAH,CAAQ,IAAR,CAAa,QAAb,GAAwB,QAAxB;;AAEA;;AAEA,IAAG,IAAH,CAAQ,KAAR,GAAgB,EAAhB;;AAEA;;;;;;;AAOA,UAAS,QAAT,CAAkB,OAAlB,EAA2B,SAA3B,EAAsC,QAAtC,EAAgD,OAAhD,EACA;AACC,MAAI,kBAAkB,QAAQ,gBAAR,CAAyB,QAAzB,CAAtB;AACA,UAAQ,gBAAR,CAAyB,SAAzB,EAAoC,eAApC;;AAEA,WAAS,eAAT,CAAyB,KAAzB,EACA;AACC,OAAI,SAAS,MAAM,MAAnB;;AAEA,QAAK,IAAI,IAAI,CAAR,EAAW,IAAI,gBAAgB,MAApC,EAA4C,IAAI,CAAhD,EAAmD,GAAnD,EACA;AACC,QAAI,KAAK,MAAT;AAAA,QACE,IAAI,gBAAgB,CAAhB,CADN;;AAGA,WAAO,MAAM,OAAO,OAApB,EACA;AACC,SAAI,OAAO,CAAX,EACA;AACC,aAAO,QAAQ,IAAR,CAAa,CAAb,EAAgB,KAAhB,CAAP;AACA;AACD,UAAK,GAAG,UAAR;AACA;AACD;AACD;AACD;;AAED,IAAG,IAAH,CAAQ,KAAR,CAAc,QAAd,GAAyB,QAAzB;;AAEA;;;;;;AAMA,UAAS,mBAAT,CAA6B,QAA7B,EAAuC,QAAvC,EAAiD,MAAjD,EACA;AACC,MAAI,oBAAoB,WAAW,KAAX,GAAmB,IAAnB,GAA0B,KAAlD;AAAA,MACE,aAAa,CADf;AAAA,MAEE,aAAa,CAFf;;AAIA,KAAG,OAAH,CAAW,IAAX,CAAgB,QAAhB,EAA0B,UAAU,OAAV,EAAmB;AAC5C,eAAY,OAAZ,EAAqB,iBAArB,EAAwC,WAAxC,EAAqD,gBAArD;AACA,GAFD;;AAIA,WAAS,gBAAT,CAA0B,KAA1B,EACA;AACC,gBAAa,MAAM,KAAnB;AACA,gBAAa,MAAM,KAAnB;AACA,SAAM,MAAN,CAAa,gBAAb,CAA8B,SAA9B,EAAyC,kBAAzC;AACA,SAAM,MAAN,CAAa,gBAAb,CAA8B,WAA9B,EAA2C,kBAA3C;AACA;;AAED,WAAS,kBAAT,CAA4B,KAA5B,EACA;AACC,OAAI,MAAM,IAAN,KAAe,SAAf,IAA4B,MAAM,KAAN,IAAe,CAA/C,EAAkD;AAClD;AACC,cAAS,KAAT;AACA,KAHD,MAIK,IAAI,MAAM,IAAN,KAAe,WAAf,IAA8B,MAAM,KAAN,KAAgB,UAA9C,IAA4D,MAAM,KAAN,KAAgB,UAAhF,EACL;AACC;AACA;AACD,SAAM,MAAN,CAAa,mBAAb,CAAiC,SAAjC,EAA4C,kBAA5C;AACA,SAAM,MAAN,CAAa,mBAAb,CAAiC,WAAjC,EAA8C,kBAA9C;AACA;AACD;;AAED,IAAG,IAAH,CAAQ,KAAR,CAAc,mBAAd,GAAoC,mBAApC;;AAEA;;;;;;AAMA,UAAS,YAAT,CAAsB,OAAtB,EAA+B,SAA/B,EAA0C,IAA1C,EACA;AACC,MAAI,QAAQ,IAAZ;AACA,MAAI,OAAO,WAAX,EACA;AACC,WAAQ,IAAI,WAAJ,CAAgB,SAAhB,EAA2B,EAAC,QAAQ,IAAT,EAA3B,CAAR;AACA,GAHD,MAKA;AACC,WAAQ,SAAS,WAAT,CAAqB,aAArB,CAAR;AACA,SAAM,eAAN,CAAsB,SAAtB,EAAiC,IAAjC,EAAuC,IAAvC,EAA6C,IAA7C;AACA;;AAED,UAAQ,aAAR,CAAsB,KAAtB;AACA;;AAED,IAAG,IAAH,CAAQ,KAAR,CAAc,YAAd,GAA6B,YAA7B;;AAEA;;;;;AAKA,UAAS,WAAT,CAAqB,EAArB,EACA;AACC,MAAI,GAAG,MAAH,KAAc,CAAlB,EACC,OAAO,IAAP;AACD,MAAI,SAAS;AACZ,OAAI,YAAU,KAAV,EAAiB,QAAjB,EAA2B,IAA3B,EAAiC;AACpC,QAAI,CAAC,KAAK,UAAV,EAAsB;AACrB,UAAK,UAAL,GAAkB,EAAlB;;AAED,SAAK,UAAL,CAAgB,KAAhB,IAAyB,QAAzB;AACA,QAAI,UAAU,QAAQ,KAAtB;;AAEA,SAAK,gBAAL,CAAsB,MAAM,KAAN,CAAY,GAAZ,EAAiB,CAAjB,CAAtB,EAA2C,QAA3C,EAAqD,OAArD;AACA,WAAO,IAAP;AACA,IAVW;AAWZ,QAAK,aAAU,KAAV,EAAiB;AACrB,SAAK,mBAAL,CAAyB,MAAM,KAAN,CAAY,GAAZ,EAAiB,CAAjB,CAAzB,EAA8C,KAAK,UAAL,CAAgB,KAAhB,CAA9C;AACA,WAAO,KAAK,UAAL,CAAgB,KAAhB,CAAP;AACA,WAAO,IAAP;AACA;AAfW,GAAb;;AAkBA;AACA,MAAI,CAAC,GAAG,aAAR,EACA;AACC,MAAG,EAAH,GAAQ,QAAQ,SAAR,CAAkB,EAAlB,GAAuB,OAAO,EAAtC;AACA,MAAG,GAAH,GAAS,QAAQ,SAAR,CAAkB,GAAlB,GAAwB,OAAO,GAAxC;AACA,MAAG,aAAH,GAAmB,IAAnB;AACA;AACD,SAAO,EAAP;AACA;;AAED,IAAG,IAAH,CAAQ,KAAR,CAAc,WAAd,GAA4B,WAA5B;;AAEA;;;;;AAKA,UAAS,eAAT,CAAyB,OAAzB,EAAkC,YAAlC,EACA;AACC,MAAI,sBAAsB,CAA1B;AAAA,MACE,gBAAgB,EADlB;;AAGA,UAAQ,OAAR,GAAkB,UAAlB;AACA,UAAQ,YAAR,GAAuB,UAAvB;AACA,UAAQ,UAAR,GAAqB,UAArB;AACA,UAAQ,WAAR,GAAsB,UAAtB;AACA,UAAQ,WAAR,GAAsB,UAAtB;AACA,UAAQ,YAAR,GAAuB,UAAvB;AACA,UAAQ,YAAR,GAAuB,UAAvB;AACA,UAAQ,WAAR,GAAsB,UAAtB;AACA,UAAQ,UAAR,GAAqB,UAArB;AACA,UAAQ,WAAR,GAAsB,UAAtB;AACA,UAAQ,SAAR,GAAoB,UAApB;;AAEA,WAAS,UAAT,CAAoB,KAApB,EACA;AACC,OAAI,MAAM,IAAN,KAAe,YAAnB,EACA;AACC,0BAAsB,KAAK,GAAL,EAAtB;AACA;AACD,OAAI,MAAM,IAAN,KAAe,aAAnB,EACA;AACC,mBAAe,eAAe,YAAf,GAA8B,QAAQ,GAArD;AACA,iBAAa,SAAb,EAAwB,MAAM,IAA9B,EAAoC,KAAK,GAAL,KAAa,mBAAjD;;AAEA,oBAAgB,MAAM,IAAtB;AACA;AACD;AACD;;AAED,IAAG,IAAH,CAAQ,KAAR,CAAc,eAAd,GAAgC,eAAhC;;AAEA;;AAEA,IAAG,UAAH,GAAgB,YAAY;AAC3B,WAAS,UAAT,GACA;AACC,QAAK,KAAL,GAAa,CAAb;AACA,QAAK,SAAL,GAAiB,OAAO,MAAP,CAAc,IAAd,CAAjB;AACA;;AAED,aAAW,SAAX,CAAqB,OAArB,GAA+B,YAAY;AAC1C,UAAO,KAAK,KAAL,KAAe,CAAtB;AACA,GAFD;;AAIA,aAAW,SAAX,CAAqB,IAArB,GAA4B,YAAY;AACvC,UAAO,KAAK,KAAZ;AACA,GAFD;;AAIA,aAAW,SAAX,CAAqB,KAArB,GAA6B,YAAY;AACxC,QAAK,IAAI,GAAT,IAAgB,KAAK,SAArB,EACA;AACC,QAAI,KAAK,SAAL,CAAe,cAAf,CAA8B,GAA9B,CAAJ,EACA;AACC,YAAO,KAAK,SAAL,CAAe,GAAf,CAAP;AACA;AACD;AACD,QAAK,KAAL,GAAa,CAAb;AACA,GATD;;AAWA,aAAW,SAAX,CAAqB,GAArB,GAA2B,UAAU,GAAV,EAAe,KAAf,EAAsB;AAChD,QAAK,SAAL,CAAe,GAAf,IAAsB,KAAtB;AACA,QAAK,KAAL;AACA,GAHD;;AAKA,aAAW,SAAX,CAAqB,IAArB,GAA4B,UAAU,GAAV,EAAe;AAC1C,UAAO,KAAK,SAAL,CAAe,GAAf,CAAP;AACA,GAFD;;AAIA,aAAW,SAAX,CAAqB,KAArB,GAA6B,YAAY;AACxC,OAAI,IAAI,CAAR;AACA,QAAK,IAAI,GAAT,IAAgB,KAAK,SAArB,EACA;AACC,QAAI,KAAK,SAAL,CAAe,cAAf,CAA8B,GAA9B,CAAJ,EACA;AACC;AACA;AACD;AACD,UAAO,CAAP;AACA,GAVD;;AAYA,aAAW,SAAX,CAAqB,MAArB,GAA8B,UAAU,GAAV,EAAe;AAC5C,UAAO,KAAK,SAAL,CAAe,GAAf,CAAP;AACA,QAAK,KAAL;AACA,GAHD;;AAKA,aAAW,SAAX,CAAqB,OAArB,GAA+B,YAAY;AAC1C,QAAK,IAAI,GAAT,IAAgB,KAAK,SAArB,EACA;AACC,QAAI,KAAK,SAAL,CAAe,cAAf,CAA8B,GAA9B,CAAJ,EACA;AACC,aAAQ,GAAR,CAAY,MAAM,IAAN,GAAa,KAAK,SAAL,CAAe,GAAf,CAAzB;AACA;AACD;AACD,GARD;;AAUA,SAAO,UAAP;AACA,EA/DD;;AAiEA;;AAEA,QAAO,EAAP;AACA,CA3nDA,CAAD",
  "file": "common.js",
  "sourcesContent": [
    "/**\r\n * YX Common Library v1.0.1.180405_beta\r\n */\r\n(function (root, factory) {\r\n\tif (typeof define === 'function' && define.amd)\r\n\t{\r\n\t\t// AMD. Register as an anonymous module\r\n\t\tdefine([], factory);\r\n\t\t// define(['jquery', 'underscore'], factory);\r\n\t}\r\n\telse if (typeof module === 'object' && module.exports)\r\n\t{\r\n\t\t// Node. Does not work with strict CommonJS, but\r\n\t\t// only CommonJS-like environments that support module.exports.\r\n\t\t// like Node.\r\n\t\tmodule.exports = factory();\r\n\t\t// module.exports = factory(require('jquery'), require('underscore'));\r\n\t}\r\n\telse\r\n\t{\r\n\t\t// Browser globals (root is Window)\r\n\t\troot.YX = factory();\r\n\t\t// root.YX = factory(root.jQuery, root._);\r\n\t}\r\n}(window, function () {\r\n// }(this, function ($, _) {\r\n\tlet YX = {};\r\n\r\n\t/********************************************************************************************************************/\r\n\t/**\r\n\t * Util\r\n\t * @type {{}}\r\n\t */\r\n\tYX.Util = {};\r\n\r\n\t/**\r\n\t * Util.array\r\n\t * @type {{}}\r\n\t */\r\n\tYX.Util.array = {};\r\n\r\n\t/***\r\n\t * uniqueArray\r\n\t * @param {Array} sourceArray\r\n\t * @returns {Array}\r\n\t */\r\n\tfunction uniqueArray(sourceArray)\r\n\t{\r\n\t\tlet resultArray = [], hash = {};\r\n\t\tfor (let i = 0, elem, l = sourceArray.length; i < l && (elem = sourceArray[i]) !== null; i++)\r\n\t\t{\r\n\t\t\tif (!hash[elem])\r\n\t\t\t{\r\n\t\t\t\tresultArray.push(elem);\r\n\t\t\t\thash[elem] = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn resultArray;\r\n\t}\r\n\r\n\tYX.Util.array.uniqueArray = uniqueArray;\r\n\r\n\t/**\r\n\t * Get array item string which spilt with ',';\r\n\t * @param array\r\n\t * @returns {string}\r\n\t */\r\n\tfunction getArrayString(array)\r\n\t{\r\n\t\treturn array.map(function (arrayItem) {\r\n\t\t\tif (Array.isArray(arrayItem))\r\n\t\t\t{\r\n\t\t\t\tarrayItem = '[' + getArrayString(arrayItem) + ']';\r\n\t\t\t}\r\n\t\t\telse if (typeof arrayItem === 'object')\r\n\t\t\t{\r\n\t\t\t\tarrayItem = JSON.stringify(arrayItem);\r\n\t\t\t}\r\n\t\t\treturn arrayItem.toString();\r\n\t\t}).join(',');\r\n\t}\r\n\r\n\tYX.Util.array.getArrayString = getArrayString;\r\n\r\n\t/********************************************************************************************************************/\r\n\t/**\r\n\t * Util.string\r\n\t * @type {{}}\r\n\t */\r\n\tYX.Util.string = {};\r\n\r\n\t/**\r\n\t * Capitalize the first word\r\n\t * @param string\r\n\t * @return {string}\r\n\t */\r\n\tfunction titleCase(string)\r\n\t{\r\n\t\treturn string.charAt(0).toUpperCase() + string.slice(1);\r\n\t}\r\n\r\n\tYX.Util.string.titleCase = titleCase;\r\n\r\n\t/***\r\n\t * escapeHTML\r\n\t * @param {string} str\r\n\t * @returns {void|string}\r\n\t */\r\n\tfunction escapeHTML(str)\r\n\t{\r\n\t\tlet map = {\r\n\t\t\t'&': '&amp;',\r\n\t\t\t'<': '&lt;',\r\n\t\t\t'>': '&gt;',\r\n\t\t\t'\"': '&quot;',\r\n\t\t\t\"'\": '&#039;'\r\n\t\t};\r\n\r\n\t\treturn str.replace(/[&<>\"']/g, function (m) {\r\n\t\t\treturn map[m];\r\n\t\t});\r\n\t}\r\n\r\n\tYX.Util.string.escapeHTML = escapeHTML;\r\n\r\n\t/********************************************************************************************************************/\r\n\t/**\r\n\t * Util.navigator\r\n\t * @type {{}}\r\n\t */\r\n\tYX.Util.navigator = {};\r\n\r\n\t/**\r\n\t * Check browser language setting which has zh[-CN/TW/HK]\r\n\t * @return {boolean}\r\n\t */\r\n\tfunction isZHLanguage()\r\n\t{\r\n\t\tlet browserLanguage = window.navigator.languages ? window.navigator.languages : window.navigator.browserLanguage;\r\n\t\treturn browserLanguage.some(language => {\r\n\t\t\treturn language.indexOf('zh') === 0;\r\n\t\t});\r\n\t}\r\n\r\n\tYX.Util.navigator.isZHLanguage = isZHLanguage;\r\n\r\n\t/********************************************************************************************************************/\r\n\t/**\r\n\t * Util.url\r\n\t * @type {{}}\r\n\t */\r\n\tYX.Util.url = {};\r\n\r\n\t/***\r\n\t * getFileNameFromURL\r\n\t * @param {string} url\r\n\t * @returns {object} {name: '', simpleBaseName: '', extensionName: '', baseName: ''}\r\n\t */\r\n\tfunction getFileNameFromURL(url)\r\n\t{\r\n\t\tlet fileNameSplit = url.split('/').pop().split('#')[0].split('?')[0].split('.');\r\n\t\treturn {\r\n\t\t\tname: fileNameSplit.join('.'),\r\n\t\t\tsimpleBaseName: fileNameSplit[0],\r\n\t\t\textensionName: fileNameSplit.length > 1 ? fileNameSplit[fileNameSplit.length - 1] : '',\r\n\t\t\tbaseName: fileNameSplit.length > 1 ? fileNameSplit.splice(0, fileNameSplit.length - 1).join('.') : fileNameSplit[0],\r\n\t\t};\r\n\t}\r\n\r\n\tYX.Util.url.getFileNameFromURL = getFileNameFromURL;\r\n\r\n\t/***\r\n\t * getUrlQueryParams\r\n\t * @param {string} url\r\n\t * @returns {object}\r\n\t */\r\n\tfunction getUrlQueryParams(url)\r\n\t{\r\n\t\tlet query = {},\r\n\t\t\t\tsearchStr = url ? (url.indexOf('?') !== -1 ? url.split('?')[1] : '') : window.location.search.substring(1),\r\n\t\t\t\tqueryParams = searchStr.split(\"&\");\r\n\t\tfor (let i = 0; i < queryParams.length; i++)\r\n\t\t{\r\n\t\t\tlet queryParam = queryParams[i].split(\"=\");\r\n\t\t\tquery[queryParam[0]] = queryParam[1];\r\n\t\t}\r\n\t\treturn query;\r\n\t}\r\n\r\n\tYX.Util.url.getUrlQueryParams = getUrlQueryParams;\r\n\r\n\t/***\r\n\t * getQueryParamValue\r\n\t * @param param\r\n\t * @returns {*}\r\n\t */\r\n\tfunction getQueryParamValue(param)\r\n\t{\r\n\t\tlet query = window.location.search.substring(1);\r\n\t\tlet queryParams = query.split(\"&\");\r\n\t\tfor (let i = 0; i < queryParams.length; i++)\r\n\t\t{\r\n\t\t\tlet queryParam = queryParams[i].split(\"=\");\r\n\t\t\tif (queryParam[0] === param)\r\n\t\t\t{\r\n\t\t\t\treturn queryParam[1];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tYX.Util.url.getQueryParamValue = getQueryParamValue;\r\n\r\n\t/***\r\n\t * getUrlTypeInfo\r\n\t * @param {string} url\r\n\t * @returns {object}\r\n\t */\r\n\tfunction getUrlTypeInfo(url)\r\n\t{\r\n\t\t// Current only support js and css resources;\r\n\t\tlet fileExtensionName = getFileNameFromURL(url).extensionName;\r\n\t\tif (fileExtensionName)\r\n\t\t{\r\n\t\t\tlet urlType = {\r\n\t\t\t\t'js': {\r\n\t\t\t\t\tname: 'js',\r\n\t\t\t\t\ttagName: 'script',\r\n\t\t\t\t\turlAttrName: 'src',\r\n\t\t\t\t\tloadFn: 'loadScript',\r\n\t\t\t\t\tloadFnPromise: 'loadScriptWithPromise'\r\n\t\t\t\t},\r\n\t\t\t\t'css': {\r\n\t\t\t\t\tname: 'css',\r\n\t\t\t\t\ttagName: 'link',\r\n\t\t\t\t\turlAttrName: 'href',\r\n\t\t\t\t\tloadFn: 'loadCSS',\r\n\t\t\t\t\tloadFnPromise: 'loadCSSWithPromise'\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\treturn urlType[fileExtensionName];\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tYX.Util.url.getUrlTypeInfo = getUrlTypeInfo;\r\n\r\n\t/***\r\n\t * getCurrentScript in Page\r\n\t * @param {string} scriptName\r\n\t * @returns {Element || null}\r\n\t */\r\n\tfunction getCurrentScript(scriptName)\r\n\t{\r\n\t\tlet allScripts = document.getElementsByTagName(\"script\");\r\n\r\n\t\tif (scriptName)\r\n\t\t{\r\n\t\t\tfor (let i = 0; i < allScripts.length; i++)\r\n\t\t\t{\r\n\t\t\t\tlet script = allScripts.item(i);\r\n\r\n\t\t\t\tif (script.src && script.src.match(scriptName))\r\n\t\t\t\t{\r\n\t\t\t\t\treturn script;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tif (document.currentScript)\r\n\t\t\t{\r\n\t\t\t\treturn document.currentScript;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\treturn allScripts[allScripts.length - 1];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tYX.Util.url.getCurrentScript = getCurrentScript;\r\n\r\n\t/**\r\n\t * getCurrentScriptParameter\r\n\t * @return {Object}\r\n\t */\r\n\tfunction getCurrentScriptParameter()\r\n\t{\r\n\t\tlet currentScript = getCurrentScript();\r\n\t\treturn currentScript ? getUrlQueryParams(currentScript.src) : {};\r\n\t}\r\n\r\n\tYX.Util.url.getCurrentScriptParameter = getCurrentScriptParameter;\r\n\r\n\t/***\r\n\t * getCurrentScriptPath in Page\r\n\t * @param {string} scriptName\r\n\t * @returns {null|string}\r\n\t */\r\n\tfunction getCurrentScriptPath(scriptName)\r\n\t{\r\n\t\tlet script = getCurrentScript(scriptName);\r\n\t\treturn script ? script.src : '';\r\n\t}\r\n\r\n\tYX.Util.url.getCurrentScriptPath = getCurrentScriptPath;\r\n\r\n\t/***\r\n\t * getRootPath\r\n\t * @returns {string}\r\n\t */\r\n\tfunction getRootPath()\r\n\t{\r\n\t\tlet href = window.document.location.href,\r\n\t\t\t\tpathName = window.document.location.pathname,\r\n\t\t\t\tlocalhostPath = href.substring(0, href.indexOf(pathName)),\r\n\t\t\t\tprojectName = pathName.substring(0, pathName.substr(1).lastIndexOf('/') + 1);\r\n\t\treturn (localhostPath + projectName);\r\n\t}\r\n\r\n\tYX.Util.url.getRootPath = getRootPath;\r\n\r\n\t/**\r\n\t * getScriptName\r\n\t * @return {*}\r\n\t */\r\n\tfunction getScriptName()\r\n\t{\r\n\t\tlet error = new Error()\r\n\t\t\t\t, source\r\n\t\t\t\t, lastStackFrameRegex = new RegExp(/.+\\/(.*?):\\d+(:\\d+)*$/)\r\n\t\t\t\t, currentStackFrameRegex = new RegExp(/getScriptName \\(.+\\/(.*):\\d+:\\d+\\)/);\r\n\r\n\t\tif ((source = lastStackFrameRegex.exec(error.stack.trim())) && source[1] != \"\")\r\n\t\t\treturn source[1];\r\n\t\telse if ((source = currentStackFrameRegex.exec(error.stack.trim())))\r\n\t\t\treturn source[1];\r\n\t\telse if (error['fileName'] !== undefined)\r\n\t\t\treturn error['fileName'];\r\n\t}\r\n\r\n\tYX.Util.url.getScriptName = getScriptName;\r\n\r\n\t/********************************************************************************************************************/\r\n\t/**\r\n\t * Util.load\r\n\t * @type {{}}\r\n\t */\r\n\tYX.Util.load = {};\r\n\r\n\t/***\r\n\t * loadScript\r\n\t * @param {(string)} url string of url\r\n\t * @param {function} [callback] - callback() after script loaded\r\n\t * @param {object} [context] - callback's context\r\n\t * @param {object} info - {isAsync: [true/false], attributes: {}, libName: \"\"}\r\n\t */\r\n\tfunction loadScript(url, callback, context, info)\r\n\t{\r\n\t\tif (!url)\r\n\t\t\treturn;\r\n\r\n\t\tif (Array.isArray(url))\r\n\t\t{\r\n\t\t\t// Process the url and callback if they are array;\r\n\t\t\tparameterArrayToItem(function (urlParam, callbackParam) {\r\n\t\t\t\tloadScript(urlParam, callbackParam, context, info);\r\n\t\t\t}, url, callback);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tlet script = document.createElement(\"script\"),\r\n\t\t\t\t\tisSuccess = true,\r\n\t\t\t\t\tlibName = info && info['libName'] ? info['libName'] : getFileNameFromURL(url).name;\r\n\t\t\tscript.type = \"text/javascript\";\r\n\t\t\tinfo && info['isAsync'] && script.setAttribute('async', '');\r\n\r\n\t\t\tif (info && info.attributes)\r\n\t\t\t{\r\n\t\t\t\tfor (let attr in info.attributes)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (info.attributes.hasOwnProperty(attr))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tscript.setAttribute(attr, info.attributes[attr]);\r\n\t\t\t\t\t\tattr === 'class' && script.setAttribute('className', info.attributes[attr]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tscript.onerror = function () {\r\n\t\t\t\tisSuccess = false;\r\n\t\t\t\tcallback && (context ? context[callback]() : callback(isSuccess));\r\n\t\t\t};\r\n\t\t\tif (script.readyState)\r\n\t\t\t{  //IE\r\n\t\t\t\tscript.onreadystatechange = function () {\r\n\t\t\t\t\tif (script.readyState === \"loaded\" || script.readyState === \"complete\")\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tscript.onreadystatechange = null;\r\n\t\t\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t\t\tisSuccess && callback && (context ? context[callback]() : callback(isSuccess));\r\n\t\t\t\t\t\t}, 0);\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{  //Others\r\n\t\t\t\tscript.onload = function () {\r\n\t\t\t\t\tcallback && (context ? context[callback]() : callback(isSuccess));\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\tscript.src = url;\r\n\r\n\t\t\tdocument.body.appendChild(document.createComment(\" Script \" + libName + \" *** JS \"));\r\n\t\t\tdocument.body.appendChild(script);\r\n\t\t}\r\n\t}\r\n\r\n\tYX.Util.load.loadScript = loadScript;\r\n\r\n\t/***\r\n\t * loadScript with Promise\r\n\t * @param url\r\n\t * @returns {Promise}\r\n\t */\r\n\tfunction loadScriptWithPromise(url)\r\n\t{\r\n\t\treturn new Promise(function (resolve, reject) {\r\n\t\t\tif (!url)\r\n\t\t\t{\r\n\t\t\t\treject(new Error(\"url is null!\"));\r\n\t\t\t}\r\n\r\n\t\t\tlet script = document.createElement(\"script\"),\r\n\t\t\t\t\tisSuccess = true;\r\n\t\t\tscript.type = \"text/javascript\";\r\n\r\n\t\t\tscript.onerror = function () {\r\n\t\t\t\tisSuccess = false;\r\n\t\t\t\treject();\r\n\t\t\t};\r\n\t\t\tif (script.readyState)\r\n\t\t\t{  //IE\r\n\t\t\t\tscript.onreadystatechange = function () {\r\n\t\t\t\t\tif (script.readyState === \"loaded\" || script.readyState === \"complete\")\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tscript.onreadystatechange = null;\r\n\t\t\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t}, 0);\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{  //Others\r\n\t\t\t\tscript.onload = function () {\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\tscript.src = url;\r\n\r\n\t\t\tdocument.body.appendChild(document.createComment(\" Script \" + getFileNameFromURL(url).name + \" *** JS \"));\r\n\t\t\tdocument.body.appendChild(script);\r\n\t\t});\r\n\t}\r\n\r\n\tYX.Util.load.loadScriptWithPromise = loadScriptWithPromise;\r\n\r\n\t/***\r\n\t * loadCSS\r\n\t * @param {(string|string[])} url string or an array of urls\r\n\t * @param {function} [callback] - callback() after script loaded\r\n\t * @param {object} [context] - callback's context\r\n\t */\r\n\tfunction loadCSS(url, callback, context)\r\n\t{\r\n\t\tif (!url)\r\n\t\t\treturn;\r\n\r\n\t\tif (Array.isArray(url))\r\n\t\t{\r\n\t\t\t// Process the url and callback if they are array;\r\n\t\t\tparameterArrayToItem(function (urlParam, callbackParam) {\r\n\t\t\t\tloadCSS(urlParam, callbackParam);\r\n\t\t\t}, url, callback);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tlet link = document.createElement('link');\r\n\t\t\tlink.rel = 'stylesheet';\r\n\t\t\tlink.type = 'text/css';\r\n\t\t\tlink.href = url;\r\n\t\t\tlink.onload = function () {\r\n\t\t\t\tcallback && (context ? context[callback]() : callback());\r\n\t\t\t};\r\n\t\t\tlink.onerror = function () {\r\n\t\t\t\tconsole.log(\"Error load css:\" + url);\r\n\t\t\t};\r\n\r\n\t\t\tdocument.getElementsByTagName('head')[0].appendChild(document.createComment(\" Style \" + getFileNameFromURL(url).name + \" *** CSS \"));\r\n\t\t\tdocument.getElementsByTagName('head')[0].appendChild(link);\r\n\t\t}\r\n\t}\r\n\r\n\tYX.Util.load.loadCSS = loadCSS;\r\n\r\n\t/***\r\n\t * loadCSS with Promise\r\n\t * @param url\r\n\t * @returns {Promise}\r\n\t */\r\n\tfunction loadCSSWithPromise(url)\r\n\t{\r\n\t\treturn new Promise(function (resolve, reject) {\r\n\t\t\tif (!url)\r\n\t\t\t{\r\n\t\t\t\treject(new Error(\"url is null!\"));\r\n\t\t\t}\r\n\r\n\t\t\tlet link = document.createElement('link');\r\n\t\t\tlink.rel = 'stylesheet';\r\n\t\t\tlink.type = 'text/css';\r\n\t\t\tlink.href = url;\r\n\t\t\tlink.onload = function () {\r\n\t\t\t\tresolve();\r\n\t\t\t};\r\n\t\t\tlink.onerror = function (error) {\r\n\t\t\t\treject(new Error(error));\r\n\t\t\t};\r\n\r\n\t\t\tdocument.getElementsByTagName('head')[0].appendChild(document.createComment(\" Style \" + getFileNameFromURL(url).name + \" *** CSS \"));\r\n\t\t\tdocument.getElementsByTagName('head')[0].appendChild(link);\r\n\t\t});\r\n\t}\r\n\r\n\tYX.Util.load.loadCSSWithPromise = loadCSSWithPromise;\r\n\r\n\t/***\r\n\t * Load resource: support url types - js, css\r\n\t * @param {string} url\r\n\t * @param {function} [callback] - callback() after resource loaded\r\n\t */\r\n\tfunction loadResource(url, callback)\r\n\t{\r\n\t\tif (!checkResourceLoaded(url))\r\n\t\t{\r\n\t\t\twindow[getUrlTypeInfo(url).loadFn](url, callback);\r\n\t\t}\r\n\t}\r\n\r\n\tYX.Util.load.loadResource = loadResource;\r\n\r\n\t/***\r\n\t * loadResources: support url, js, css\r\n\t * @param {string[]} urls - an array of urls\r\n\t * @param {function} [callback] - callback() after url loaded\r\n\t */\r\n\tfunction loadResources(urls, callback)\r\n\t{\r\n\t\tif (urls !== null && urls !== '')\r\n\t\t{\r\n\t\t\tif (Array.isArray(urls))\r\n\t\t\t{\r\n\t\t\t\turls = urls.filter(function (url) {\r\n\t\t\t\t\treturn (String(url) === url && url !== '');\r\n\t\t\t\t});\r\n\t\t\t\tif (urls.length === 0)\r\n\t\t\t\t{\r\n\t\t\t\t\tcallback && callback();\r\n\t\t\t\t}\r\n\t\t\t\telse if (urls.length === 1)\r\n\t\t\t\t{\r\n\t\t\t\t\tloadResource(urls[0], callback);\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tif (callback)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tloadUrls(urls, callback);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\turls.map(function (url) {\r\n\t\t\t\t\t\t\tloadResource(url);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse if (String(urls) === urls)\r\n\t\t\t{\r\n\t\t\t\tloadResource(urls, callback);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tcallback && callback();\r\n\t\t}\r\n\t}\r\n\r\n\tYX.Util.load.loadResources = loadResources;\r\n\r\n\t/***\r\n\t * checkResourceLoaded\r\n\t * @param {string} url\r\n\t * @returns {boolean}\r\n\t */\r\n\tfunction checkResourceLoaded(url)\r\n\t{\r\n\t\tlet type = getUrlTypeInfo(url),\r\n\t\t\t\ttypeSelector = type['tagName'] || '[src]',\r\n\t\t\t\tallUrls = Array.prototype.slice.call(document.querySelectorAll(typeSelector))\r\n\t\t\t\t\t\t.map(function (scriptElement) {\r\n\t\t\t\t\t\t\treturn scriptElement[type['urlAttrName']];\r\n\t\t\t\t\t\t});\r\n\t\treturn allUrls.indexOf(url) !== -1;\r\n\t}\r\n\r\n\tYX.Util.load.checkResourceLoaded = checkResourceLoaded;\r\n\r\n\t/***\r\n\t * loadUrls with Promise if it is supported\r\n\t * @param {string[]} urls - an array of urls\r\n\t * @param {function} [callback] - callback() after url loaded\r\n\t */\r\n\tfunction loadUrls(urls, callback)\r\n\t{\r\n\t\tlet unLoadedResourcesInfo = urls.map(function (resource) {\r\n\t\t\tlet resourceInfo = getUrlTypeInfo(resource);\r\n\t\t\tresourceInfo.url = resource;\r\n\t\t\treturn resourceInfo;\r\n\t\t});\r\n\t\t// If support Promise, use Promise\r\n\t\tif (typeof Promise !== \"undefined\" && Promise.toString().indexOf(\"[native code]\") !== -1)\r\n\t\t{\r\n\t\t\tlet resourcePromise = unLoadedResourcesInfo.map(function (resourceInfo) {\r\n\t\t\t\treturn YX.Util.load[resourceInfo.loadFnPromise](resourceInfo.url);\r\n\t\t\t});\r\n\t\t\tPromise.all(resourcePromise).then(function () {\r\n\t\t\t\tcallback && callback();\r\n\t\t\t}).catch(function (error) {\r\n\t\t\t\tconsole.log(\"Error: in load resources! \" + error);\r\n\t\t\t});\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tunLoadedResourcesInfo.forEach(function (resourceInfo) {\r\n\t\t\t\tYX.Util.load[resourceInfo.loadFn](resourceInfo.url);\r\n\t\t\t});\r\n\t\t\tcallback && callback();\r\n\t\t}\r\n\t}\r\n\r\n\tYX.Util.load.loadUrls = loadUrls;\r\n\r\n\t/***\r\n\t * Use XDomainRequest when browser <= IE9, otherwise use XMLHttpRequest(not support < IE9);\r\n\t * @param {string} url\r\n\t * @param {function} callback\r\n\t * @param {object} context: callback's context\r\n\t */\r\n\tfunction getFileContent(url, callback, context)\r\n\t{\r\n\t\tif (document.documentMode <= 9 && window.XDomainRequest)\r\n\t\t{\r\n\t\t\txdrGetRequest(url, callback, context)\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\txmlHTTPGetRequest(url, callback, context);\r\n\t\t}\r\n\r\n\t\t/***\r\n\t\t * xdrGetRequest: send get request in IE <= 9\r\n\t\t * @param {string} url\r\n\t\t * @param {function} callback\r\n\t\t * @param {object} context: callback's context\r\n\t\t *\r\n\t\t * XDomainRequest is an implementation of HTTP access control (CORS) that worked in Internet Explorer 8 and 9.\r\n\t\t * It was removed in Internet Explorer 10 in favor of using XMLHttpRequest with proper CORS;\r\n\t\t * https://developer.mozilla.org/zh-CN/docs/Web/API/XDomainRequest\r\n\t\t */\r\n\t\tfunction xdrGetRequest(url, callback, context)\r\n\t\t{\r\n\t\t\tlet xdr = new XDomainRequest();\r\n\t\t\tif (xdr)\r\n\t\t\t{\r\n\t\t\t\txdr.onload = function () {\r\n\t\t\t\t\tcallback && (context ? context[callback](xdr.responseText) : callback(xdr.responseText));\r\n\t\t\t\t};\r\n\t\t\t\txdr.onerror = function () {\r\n\t\t\t\t\t/* error handling here */\r\n\t\t\t\t};\r\n\t\t\t\txdr.open('GET', url);\r\n\t\t\t\txdr.send();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/***\r\n\t\t * XMLHttpRequest: send get request in IE >= 10, or other browsers\r\n\t\t * @param {string} url\r\n\t\t * @param {function} callback\r\n\t\t * @param {object} context: callback's context\r\n\t\t */\r\n\t\tfunction xmlHTTPGetRequest(url, callback, context)\r\n\t\t{\r\n\t\t\tlet request = new XMLHttpRequest();\r\n\t\t\trequest.open('GET', url, true);\r\n\t\t\trequest.onload = function () {\r\n\t\t\t\tif (request.status >= 200 && request.status < 400)\r\n\t\t\t\t{\r\n\t\t\t\t\t// Success\r\n\t\t\t\t\tcallback && (context ? context[callback](request.responseText) : callback(request.responseText));\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\t// We reached our target server, but it returned an error\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\trequest.onerror = function () {\r\n\t\t\t\t// There was a connection error of some sort\r\n\t\t\t};\r\n\t\t\trequest.send();\r\n\t\t}\r\n\t}\r\n\r\n\tYX.Util.load.getFileContent = getFileContent;\r\n\r\n\t/***\r\n\t * Ajax request: dependency jQuery\r\n\t * @param {string} url\r\n\t * @param {function} callback\r\n\t * @param {object} context: callback's context\r\n\t */\r\n\tfunction getFileContentWithAjax(url, callback, context)\r\n\t{\r\n\t\t$.ajax({\r\n\t\t\turl: url,\r\n\t\t\tsuccess: function (data) {\r\n\t\t\t\tcallback && (context ? context[callback](data) : callback(data));\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tYX.Util.load.getFileContentWithAjax = getFileContentWithAjax;\r\n\r\n\t/********************************************************************************************************************/\r\n\r\n\tYX.Util.tool = {};\r\n\r\n\t/**\r\n\t * Throttle, specially in onResize event function;\r\n\t * @param method\r\n\t * @param context\r\n\t * @param {number} [timeout]\r\n\t */\r\n\tfunction throttle(method, context, timeout)\r\n\t{\r\n\t\ttimeout = (timeout || timeout === 0) ? timeout : 100;\r\n\t\tif (method.tId)\r\n\t\t{\r\n\t\t\tclearTimeout(method.tId);\r\n\t\t}\r\n\t\tmethod.tId = setTimeout(function () {\r\n\t\t\tmethod.call(context);\r\n\t\t}, timeout);\r\n\t}\r\n\r\n\tYX.Util.tool.throttle = throttle;\r\n\r\n\t/**\r\n\t * Custom console log modal in function\r\n\t * @param fnArguments\r\n\t */\r\n\tfunction consoleLog(fnArguments)\r\n\t{\r\n\t\tlet typeStyle = [\r\n\t\t\t'font-size: 14px; color: #8665D5',\r\n\t\t\t'font-size: 14px; color: #406AD5',\r\n\t\t\t'font-size: 14px; color: #E9AC32',\r\n\t\t\t'font-size: 14px; color: #3AC1D9',\r\n\t\t\t'font-size: 14px; color: #FF7979',\r\n\t\t\t'font-size: 14px; color: #39D084',\r\n\t\t\t'font-size: 14px; color: #FF8E66',\r\n\t\t\t'font-size: 14px; color: #44B1E6',\r\n\t\t\t'font-size: 14px; color: #9e5648',\r\n\t\t\t'font-size: 14px; color: #406ad5',\r\n\t\t\t'font-size: 14px; color: #purple',\r\n\t\t\t'font-size: 14px; color: #red',\r\n\t\t\t'font-size: 14px; color: #teal',\r\n\t\t\t'font-size: 14px; color: #yellow'\r\n\t\t];\r\n\t\tif (!window.consoleLogTypes)\r\n\t\t{\r\n\t\t\twindow.consoleLogTypes = {};\r\n\t\t}\r\n\t\tif (window.console && window.debug !== false)\r\n\t\t{\r\n\t\t\tlet fnName = fnArguments.callee ? fnArguments.callee.name : '',\r\n\t\t\t\t\tfnArgumentsArray = Array.prototype.slice.call(fnArguments, 0),\r\n\t\t\t\t\tfnArgumentsString = getArrayString(fnArgumentsArray),\r\n\t\t\t\t\targumentsArray = Array.prototype.slice.call(arguments, 0),\r\n\t\t\t\t\tsurplusArgumentString = argumentsArray.length > 1 && argumentsArray.shift() && getArrayString(argumentsArray);\r\n\t\t\tif (!window.consoleLogTypes[fnName])\r\n\t\t\t{\r\n\t\t\t\twindow.consoleLogTypes[fnName] = {\r\n\t\t\t\t\ttypeCount: 0,\r\n\t\t\t\t\ttypeInfo: {}\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\tif (!window.consoleLogTypes[fnName].typeInfo[argumentsArray[0]])\r\n\t\t\t{\r\n\t\t\t\twindow.consoleLogTypes[fnName].typeInfo[argumentsArray[0]] = typeStyle[window.consoleLogTypes[fnName].typeCount];\r\n\t\t\t\twindow.consoleLogTypes[fnName].typeCount++;\r\n\t\t\t}\r\n\t\t\tif (window.consoleLogTypes.lastType !== fnName)\r\n\t\t\t{\r\n\t\t\t\twindow.console.groupEnd();\r\n\t\t\t\twindow.console.group(fnName);\r\n\t\t\t\twindow.consoleLogTypes.lastType = fnName;\r\n\t\t\t}\r\n\t\t\twindow.console.log('%c%s', window.consoleLogTypes[fnName].typeInfo[argumentsArray[0]], fnName + ': (' + fnArgumentsString + ') ' + surplusArgumentString);\r\n\t\t}\r\n\t}\r\n\r\n\tYX.Util.tool.consoleLog = consoleLog;\r\n\r\n\t/**\r\n\t * Dynamic set callback function in window\r\n\t * @param typeName\r\n\t * @returns {*}\r\n\t */\r\n\tfunction setCallback(typeName)\r\n\t{\r\n\t\tlet typeCallback = getCallbackName(typeName);\r\n\t\tif (!window[typeCallback])\r\n\t\t{\r\n\t\t\twindow[typeCallback] = function (data) {\r\n\t\t\t\twindow[typeName] = data;\r\n\t\t\t};\r\n\t\t\treturn typeCallback;\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tYX.Util.tool.setCallback = setCallback;\r\n\r\n\t/**\r\n\t * getCallbackName\r\n\t * @param typeName\r\n\t * @returns {string}\r\n\t */\r\n\tfunction getCallbackName(typeName)\r\n\t{\r\n\t\treturn typeName + \"Callback\";\r\n\t}\r\n\r\n\tYX.Util.tool.getCallbackName = getCallbackName;\r\n\r\n\t/**\r\n\t * deepExtend - deep copy with out jQuery\r\n\t * @param out\r\n\t * @returns {*|{}}\r\n\t */\r\n\tfunction deepExtend(out) // arguments: (source, source1, source2, ...)\r\n\t{\r\n\t\tout = out || {};\r\n\r\n\t\tfor (let i = 1; i < arguments.length; i++)\r\n\t\t{\r\n\t\t\tlet obj = arguments[i];\r\n\r\n\t\t\tif (!obj)\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\tfor (let key in obj)\r\n\t\t\t{\r\n\t\t\t\tif (obj.hasOwnProperty(key))\r\n\t\t\t\t{\r\n\t\t\t\t\tif (typeof obj[key] === 'object'\r\n\t\t\t\t\t\t\t&& obj[key] !== null\r\n\t\t\t\t\t\t\t&& !Array.isArray(obj[key])\r\n\t\t\t\t\t\t\t&& !(obj[key] instanceof Date)\r\n\t\t\t\t\t\t\t&& !(obj[key] === 'function'))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tout[key] = deepExtend(out[key], obj[key]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tout[key] = obj[key];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn out;\r\n\t}\r\n\r\n\tYX.Util.tool.deepExtend = deepExtend;\r\n\r\n\t/**\r\n\t * Tools for processing function who has parameter array\r\n\t * @param fn\r\n\t * @param param1\r\n\t * @param param2\r\n\t */\r\n\tfunction parameterArrayToItem(fn, param1, param2)\r\n\t{\r\n\t\tlet param2IsArray = Array.isArray(param2),\r\n\t\t\t\tparam2ArrayLength = param2IsArray && param2.length || 0;\r\n\t\tfor (let i = 0, length = param1.length; i < length; i++)\r\n\t\t{\r\n\t\t\tlet param2Item = (param2IsArray && i < param2ArrayLength) ? param2[i] : null;\r\n\t\t\tfn && fn(param1[i], param2Item);\r\n\t\t}\r\n\t}\r\n\r\n\tYX.Util.tool.parameterArrayToItem = parameterArrayToItem;\r\n\r\n\t/********************************************************************************************************************/\r\n\r\n\tYX.Util.html = {};\r\n\r\n\t/**\r\n\t * Initialize template with template/templateData and source data\r\n\t * @param {string} template\r\n\t * @param {object} templateData\r\n\t * @param {object} [sourceData], for external data process from templateData function\r\n\t * @returns {string}\r\n\t */\r\n\tfunction initTemplate(template, templateData, sourceData)\r\n\t{\r\n\t\tlet result = template;\r\n\t\tfor (let key in templateData)\r\n\t\t{\r\n\t\t\tif (templateData.hasOwnProperty(key))\r\n\t\t\t{\r\n\t\t\t\tlet dataValue = templateData[key];\r\n\t\t\t\t// Process source data to required data if the templateData key's value is function\r\n\t\t\t\tif (typeof templateData[key] === 'function')\r\n\t\t\t\t{\r\n\t\t\t\t\tdataValue = templateData[key](sourceData);\r\n\t\t\t\t}\r\n\t\t\t\tresult = result.replace(new RegExp('{{' + key + '}}', \"g\"), dataValue);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tYX.Util.html.initTemplate = initTemplate;\r\n\r\n\t/**\r\n\t * Render template with data and put it to target element\r\n\t * @param targetElement\r\n\t * @param template\r\n\t * @param sourceData\r\n\t * @param templateDataFn\r\n\t * @param [position], values=[update,beforebegin,afterbegin,beforeend,afterend], default update\r\n\t */\r\n\tfunction renderTemplate(targetElement, template, sourceData, templateDataFn, position)\r\n\t{\r\n\t\tlet resultHtml = '';\r\n\t\tfor (let i = 0; i < sourceData.length; i++)\r\n\t\t{\r\n\t\t\tresultHtml += initTemplate(template, templateDataFn(sourceData[i]), sourceData[i]);\r\n\t\t}\r\n\t\tif (!position || position === 'update')\r\n\t\t{\r\n\t\t\ttargetElement.innerHTML = resultHtml;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\ttargetElement.insertAdjacentHTML(position, resultHtml);\r\n\t\t}\r\n\t}\r\n\r\n\tYX.Util.html.renderTemplate = renderTemplate;\r\n\r\n\t/********************************************************************************************************************/\r\n\r\n\tYX.Util.regExp = {};\r\n\r\n\t/***\r\n\t * regExpG\r\n\t * @param expStr\r\n\t * @returns {RegExp}\r\n\t */\r\n\tfunction regExpG(expStr)\r\n\t{\r\n\t\treturn new RegExp(expStr, \"g\");\r\n\t}\r\n\r\n\tYX.Util.regExp.regExpG = regExpG;\r\n\r\n\t/***\r\n\t * isURL\r\n\t * @param url\r\n\t * @returns {boolean}\r\n\t */\r\n\tfunction isURL(url)\r\n\t{\r\n\t\tlet expression = /(((http|ftp|https):\\/\\/)?([\\w\\-_]+(\\.(?!(\\d)+)[\\w\\-_]+))+([\\w\\-\\.,@?^=%&amp;:/~\\+#]*[\\w\\-\\@?^=%&amp;/~\\+#])?)|(\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*)/g;\r\n\t\treturn (new RegExp(expression)).test(url);\r\n\t}\r\n\r\n\tYX.Util.regExp.isURL = isURL;\r\n\r\n\t/********************************************************************************************************************/\r\n\r\n\tYX.Util.element = {};\r\n\r\n\t/**\r\n\t * getElements\r\n\t * @param elements\r\n\t * @returns {Array}\r\n\t */\r\n\tfunction getElements(elements)\r\n\t{\r\n\t\tlet resultElement = [];\r\n\t\tif (elements.jquery)\r\n\t\t{\r\n\t\t\tresultElement = elements.length > 1 ? elements.get() : [elements[0]];\r\n\t\t}\r\n\t\telse if (elements instanceof window.NodeList || elements instanceof NodeList || elements instanceof HTMLCollection)\r\n\t\t{\r\n\t\t\tresultElement = Array.prototype.slice.call(elements);\r\n\t\t}\r\n\t\telse if (Array.isArray(elements))\r\n\t\t{\r\n\t\t\tresultElement = elements;\r\n\t\t}\r\n\t\telse if (elements.nodeType)\r\n\t\t{\r\n\t\t\tresultElement = [elements];\r\n\t\t}\r\n\t\treturn resultElement;\r\n\t}\r\n\r\n\tYX.Util.element.getElements = getElements;\r\n\r\n\t/**\r\n\t * getSelectorsElements\r\n\t * @param selectorString\r\n\t * @returns {*}\r\n\t */\r\n\tfunction getSelectorsElements(selectorString)\r\n\t{\r\n\t\tif (!selectorString || (selectorString && selectorString.trim() === ''))\r\n\t\t{\r\n\t\t\treturn [document];\r\n\t\t}\r\n\t\tlet selectorsElements = [],\r\n\t\t\t\tselectorsArray = selectorString.split(',').map(function (selectorStringItem) {\r\n\t\t\t\t\treturn selectorStringItem.trim();\r\n\t\t\t\t});\r\n\t\tselectorsArray = uniqueArray(selectorsArray);\r\n\t\tfor (let i = 0, l = selectorsArray.length; i < l; i++)\r\n\t\t{\r\n\t\t\tif (selectorsArray[i] === 'document')\r\n\t\t\t{\r\n\t\t\t\tselectorsElements.push(document);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tlet scopeNodeList = convertNodeListToArray(document.querySelectorAll(selectorsArray[i]));\r\n\t\t\t\tselectorsElements = selectorsElements.concat(scopeNodeList);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn selectorsElements;\r\n\t}\r\n\r\n\tYX.Util.element.getSelectorsElements = getSelectorsElements;\r\n\r\n\t/**\r\n\t * findParent\r\n\t * @param element\r\n\t * @param selector\r\n\t * @returns {*}\r\n\t */\r\n\tfunction findParent(element, selector)\r\n\t{\r\n\t\twhile ((element = element.parentElement) && !matches(element, selector))\r\n\t\t{\r\n\t\t}\r\n\t\treturn element;\r\n\t}\r\n\r\n\tYX.Util.element.findParent = findParent;\r\n\r\n\t/**\r\n\t * matches\r\n\t * @param el\r\n\t * @param selector\r\n\t * @returns {boolean | *}\r\n\t */\r\n\tfunction matches(el, selector)\r\n\t{\r\n\t\treturn (el.matches || el.matchesSelector || el.msMatchesSelector || el.mozMatchesSelector || el.webkitMatchesSelector || el.oMatchesSelector).call(el, selector);\r\n\t}\r\n\r\n\tYX.Util.element.matches = matches;\r\n\r\n\t/***\r\n\t * Get element's closet class parent element\r\n\t * @param {element} element\r\n\t * @param {string} className\r\n\t * @returns {element}\r\n\t */\r\n\tfunction closet(element, className)\r\n\t{\r\n\t\tlet closetElement = null;\r\n\t\tif (hasClass(element, className))\r\n\t\t{\r\n\t\t\tclosetElement = element;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tclosetElement = findParent(element, '.' + className);\r\n\t\t}\r\n\t\treturn closetElement;\r\n\t}\r\n\r\n\tYX.Util.element.closet = closet;\r\n\r\n\t/***\r\n\t * Check element has parentElement\r\n\t * @param el\r\n\t * @param parentElement\r\n\t * @returns {boolean}\r\n\t */\r\n\tfunction hasCloset(el, parentElement)\r\n\t{\r\n\t\tif (el === parentElement)\r\n\t\t{\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tif (parentElement === undefined)\r\n\t\t{\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tlet parents = [], p = el.parentNode;\r\n\t\twhile (p !== parentElement && p.parentNode)\r\n\t\t{\r\n\t\t\tlet o = p;\r\n\t\t\tparents.push(o);\r\n\t\t\tp = o.parentNode;\r\n\t\t}\r\n\t\treturn p === parentElement;\r\n\t}\r\n\r\n\tYX.Util.element.hasCloset = hasCloset;\r\n\r\n\t/***\r\n\t * Convert JS selector elements to array\r\n\t * @param {elements} nodeList\r\n\t * @returns {Array}\r\n\t */\r\n\tfunction convertNodeListToArray(nodeList)\r\n\t{\r\n\t\tlet resultArray = [];\r\n\t\tfor (let i = 0, l = nodeList.length; i < l; i++)\r\n\t\t{\r\n\t\t\tresultArray[i] = nodeList[i];\r\n\t\t}\r\n\t\treturn resultArray;\r\n\t}\r\n\r\n\tYX.Util.element.convertNodeListToArray = convertNodeListToArray;\r\n\r\n\t/***\r\n\t *\r\n\t * Copy html element to clipboard\r\n\t * @param {element} element - html element\r\n\t */\r\n\tfunction copyElementToClipboard(element)\r\n\t{\r\n\t\tlet selection = window.getSelection(),    // Save the selection.\r\n\t\t\t\trange = document.createRange(),\r\n\t\t\t\tisSuccess = false;\r\n\t\trange.selectNodeContents(element);\r\n\t\tselection.removeAllRanges();          // Remove all ranges from the selection.\r\n\t\tselection.addRange(range);            // Add the new range.\r\n\r\n\t\tisSuccess = document.execCommand('copy');\r\n\t\twindow.getSelection().removeAllRanges();\r\n\t\treturn isSuccess;\r\n\t}\r\n\r\n\tYX.Util.element.copyElementToClipboard = copyElementToClipboard;\r\n\r\n\t/**\r\n\t * Insert style to head\r\n\t * @param {string} cssText - style string\r\n\t */\r\n\tfunction insertStyleToHead(cssText)\r\n\t{\r\n\t\tlet head = document.head || document.getElementsByTagName('head')[0],\r\n\t\t\t\tstyle = document.createElement('style');\r\n\r\n\t\tstyle.type = 'text/css';\r\n\t\tif (style.styleSheet)\r\n\t\t{\r\n\t\t\tstyle.styleSheet.cssText = cssText;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tstyle.appendChild(document.createTextNode(cssText));\r\n\t\t}\r\n\r\n\t\thead.appendChild(style);\r\n\t}\r\n\r\n\tYX.Util.element.insertStyleToHead = insertStyleToHead;\r\n\r\n\t/**\r\n\t * Create one html tag element with tagInfo\r\n\t * @param {string} tagName - html tag name\r\n\t * @param {object} tagInfo - tag's attributes and style object, such as { attr: {}, style: {} }\r\n\t * @return {element} html tag element.\r\n\t */\r\n\tfunction createTagElement(tagName, tagInfo)\r\n\t{\r\n\t\tlet tagElement = document.createElement(tagName);\r\n\r\n\t\tObject.keys(tagInfo.attr).forEach(function (key) {\r\n\t\t\ttagElement.setAttribute(key, tagInfo.attr[key]);\r\n\t\t});\r\n\r\n\t\tObject.keys(tagInfo.style).forEach(function (key) {\r\n\t\t\ttagElement.style[key] = tagInfo.style[key];\r\n\t\t});\r\n\r\n\t\treturn tagElement;\r\n\t}\r\n\r\n\tYX.Util.element.createTagElement = createTagElement;\r\n\r\n\t/**\r\n\t * addChildElement\r\n\t * @param targetElement\r\n\t * @param addedElement\r\n\t * @param position\r\n\t * @return resultAddedElement\r\n\t */\r\n\tfunction addElement(targetElement, addedElement, position)\r\n\t{\r\n\t\tlet resultAddedElement = null;\r\n\t\tswitch (position && position.toLowerCase())\r\n\t\t{\r\n\t\t\tcase 'prepend':\r\n\t\t\t\tresultAddedElement = targetElement.insertBefore(addedElement, targetElement.firstChild);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'insertbefore':\r\n\t\t\t\ttargetElement.insertAdjacentHTML('beforebegin', addedElement.outerHTML);\r\n\t\t\t\tresultAddedElement = targetElement.previousSibling;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'insertafter':\r\n\t\t\t\ttargetElement.insertAdjacentHTML('afterend', addedElement.outerHTML);\r\n\t\t\t\tresultAddedElement = targetElement.nextSibling;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault: //'append'\r\n\t\t\t\tresultAddedElement = targetElement.appendChild(addedElement);\r\n\t\t}\r\n\t\treturn resultAddedElement;\r\n\t}\r\n\r\n\tYX.Util.element.addElement = addElement;\r\n\r\n\t/**\r\n\t * hasClass\r\n\t * @param element\r\n\t * @param className\r\n\t * @returns {boolean}\r\n\t */\r\n\tfunction hasClass(element, className)\r\n\t{\r\n\t\tif (element.classList)\r\n\t\t\treturn element.classList.contains(className);\r\n\t\telse\r\n\t\t\treturn new RegExp('(^| )' + className + '( |$)', 'gi').test(element.className);\r\n\t}\r\n\r\n\tYX.Util.element.hasClass = hasClass;\r\n\r\n\t/**\r\n\t * addClass\r\n\t * @param element\r\n\t * @param className\r\n\t */\r\n\tfunction addClass(element, className)\r\n\t{\r\n\t\tif (!hasClass(element, className))\r\n\t\t{\r\n\t\t\tif (element.classList)\r\n\t\t\t\telement.classList.add(className);\r\n\t\t\telse\r\n\t\t\t\telement.className += ' ' + className;\r\n\t\t}\r\n\t}\r\n\r\n\tYX.Util.element.addClass = addClass;\r\n\r\n\t/**\r\n\t * removeClass\r\n\t * @param element\r\n\t * @param className\r\n\t */\r\n\tfunction removeClass(element, className)\r\n\t{\r\n\t\tif (hasClass(element, className))\r\n\t\t{\r\n\t\t\tif (element.classList)\r\n\t\t\t\telement.classList.remove(className);\r\n\t\t\telse\r\n\t\t\t\telement.className = element.className.replace(new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\r\n\t\t}\r\n\t}\r\n\r\n\tYX.Util.element.removeClass = removeClass;\r\n\r\n\t/**\r\n\t * toggleClass\r\n\t * @param element\r\n\t * @param className\r\n\t */\r\n\tfunction toggleClass(element, className)\r\n\t{\r\n\t\tif (hasClass(element, className))\r\n\t\t{\r\n\t\t\tremoveClass(element, className);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\taddClass(element, className);\r\n\t\t}\r\n\t}\r\n\r\n\tYX.Util.element.toggleClass = toggleClass;\r\n\r\n\t/********************************************************************************************************************/\r\n\r\n\tYX.Util.page = {};\r\n\r\n\t/**\r\n\t * scrollListToIndex\r\n\t * @param listFolder\r\n\t * @param index\r\n\t * @param toTopIndex\r\n\t * @param duration\r\n\t */\r\n\tfunction scrollListToIndex(listFolder, index, toTopIndex, duration)\r\n\t{\r\n\t\tif (index === 0)\r\n\t\t{\r\n\t\t\tscrollTo(listFolder, 0, duration);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tlet listItems = listFolder.childNodes,\r\n\t\t\t\t\tscrollOffset = 0,\r\n\t\t\t\t\tcontentHeight = 0,\r\n\t\t\t\t\tscrollToCenter = 0;\r\n\t\t\tduration = (duration === undefined ? 500 : duration);\r\n\t\t\tfor (let i = 0, l = listItems.length; i < l; i++)\r\n\t\t\t{\r\n\t\t\t\tlet listItemHeight = listItems[i].offsetHeight;\r\n\t\t\t\tif (i < index)\r\n\t\t\t\t{\r\n\t\t\t\t\tscrollOffset += listItemHeight;\r\n\t\t\t\t\tif (i > toTopIndex - 1)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tscrollToCenter += listItems[i - toTopIndex].offsetHeight;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tcontentHeight += listItemHeight;\r\n\t\t\t}\r\n\t\t\tscrollOffset = scrollToCenter;\r\n\t\t\tif (scrollOffset + listFolder.offsetHeight > contentHeight)\r\n\t\t\t{\r\n\t\t\t\tscrollOffset = contentHeight - listFolder.offsetHeight;\r\n\t\t\t}\r\n\t\t\tscrollTo(listFolder, scrollOffset, duration);\r\n\t\t}\r\n\t}\r\n\r\n\tYX.Util.page.scrollListToIndex = scrollListToIndex;\r\n\r\n\t/**\r\n\t * scrollTo\r\n\t * @param element\r\n\t * @param to\r\n\t * @param duration\r\n\t */\r\n\tfunction scrollTo(element, to, duration)\r\n\t{\r\n\t\tif (duration <= 0) return;\r\n\t\tlet difference = to - element.scrollTop;\r\n\t\tlet perTick = difference / duration * 10;\r\n\r\n\t\tsetTimeout(function () {\r\n\t\t\telement.scrollTop = element.scrollTop + perTick;\r\n\t\t\tif (element.scrollTop === to) return;\r\n\t\t\tscrollTo(element, to, duration - 10);\r\n\t\t}, 10);\r\n\t}\r\n\r\n\tYX.Util.page.scrollTo = scrollTo;\r\n\r\n\t/********************************************************************************************************************/\r\n\r\n\tYX.Util.event = {};\r\n\r\n\t/**\r\n\t * delegate element event\r\n\t * @param element\r\n\t * @param eventName\r\n\t * @param selector\r\n\t * @param handler\r\n\t */\r\n\tfunction delegate(element, eventName, selector, handler)\r\n\t{\r\n\t\tlet possibleTargets = element.querySelectorAll(selector);\r\n\t\telement.addEventListener(eventName, listenerHandler);\r\n\r\n\t\tfunction listenerHandler(event)\r\n\t\t{\r\n\t\t\tlet target = event.target;\r\n\r\n\t\t\tfor (let i = 0, l = possibleTargets.length; i < l; i++)\r\n\t\t\t{\r\n\t\t\t\tlet el = target,\r\n\t\t\t\t\t\tp = possibleTargets[i];\r\n\r\n\t\t\t\twhile (el && el !== element)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (el === p)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\treturn handler.call(p, event);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tel = el.parentNode;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tYX.Util.event.delegate = delegate;\r\n\r\n\t/**\r\n\t * bindClickIgnoreDrag\r\n\t * @param elements\r\n\t * @param callback\r\n\t * @param isBind\r\n\t */\r\n\tfunction bindClickIgnoreDrag(elements, callback, isBind)\r\n\t{\r\n\t\tlet eventListenerName = isBind !== false ? 'on' : 'off',\r\n\t\t\t\tmouseDownX = 0,\r\n\t\t\t\tmouseDownY = 0;\r\n\r\n\t\t[].forEach.call(elements, function (element) {\r\n\t\t\textendOnOff(element)[eventListenerName]('mousedown', mouseDownHandler);\r\n\t\t});\r\n\r\n\t\tfunction mouseDownHandler(event)\r\n\t\t{\r\n\t\t\tmouseDownX = event.pageX;\r\n\t\t\tmouseDownY = event.pageY;\r\n\t\t\tevent.target.addEventListener('mouseup', mouseUpMoveHandler);\r\n\t\t\tevent.target.addEventListener('mousemove', mouseUpMoveHandler);\r\n\t\t}\r\n\r\n\t\tfunction mouseUpMoveHandler(event)\r\n\t\t{\r\n\t\t\tif (event.type === 'mouseup' && event.which <= 1) //only for left key\r\n\t\t\t{\r\n\t\t\t\tcallback(event);\r\n\t\t\t}\r\n\t\t\telse if (event.type === 'mousemove' && event.pageX === mouseDownX && event.pageY === mouseDownY)\r\n\t\t\t{\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tevent.target.removeEventListener('mouseup', mouseUpMoveHandler);\r\n\t\t\tevent.target.removeEventListener('mousemove', mouseUpMoveHandler);\r\n\t\t}\r\n\t}\r\n\r\n\tYX.Util.event.bindClickIgnoreDrag = bindClickIgnoreDrag;\r\n\r\n\t/**\r\n\t * triggerEvent\r\n\t * @param element\r\n\t * @param eventName\r\n\t * @param data\r\n\t */\r\n\tfunction triggerEvent(element, eventName, data)\r\n\t{\r\n\t\tlet event = null;\r\n\t\tif (window.CustomEvent)\r\n\t\t{\r\n\t\t\tevent = new CustomEvent(eventName, {detail: data});\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tevent = document.createEvent('CustomEvent');\r\n\t\t\tevent.initCustomEvent(eventName, true, true, data);\r\n\t\t}\r\n\r\n\t\telement.dispatchEvent(event);\r\n\t}\r\n\r\n\tYX.Util.event.triggerEvent = triggerEvent;\r\n\r\n\t/**\r\n\t * Extend on/off methods\r\n\t * @param el: element\r\n\t * @returns {*}\r\n\t */\r\n\tfunction extendOnOff(el)\r\n\t{\r\n\t\tif (el.length === 0)\r\n\t\t\treturn null;\r\n\t\tlet events = {\r\n\t\t\ton: function (event, callback, opts) {\r\n\t\t\t\tif (!this.namespaces) // save the namespaces on the DOM element itself\r\n\t\t\t\t\tthis.namespaces = {};\r\n\r\n\t\t\t\tthis.namespaces[event] = callback;\r\n\t\t\t\tlet options = opts || false;\r\n\r\n\t\t\t\tthis.addEventListener(event.split('.')[0], callback, options);\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\toff: function (event) {\r\n\t\t\t\tthis.removeEventListener(event.split('.')[0], this.namespaces[event]);\r\n\t\t\t\tdelete this.namespaces[event];\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t// Extend the DOM with these above custom methods\r\n\t\tif (!el.isExtendOnOff)\r\n\t\t{\r\n\t\t\tel.on = Element.prototype.on = events.on;\r\n\t\t\tel.off = Element.prototype.off = events.off;\r\n\t\t\tel.isExtendOnOff = true;\r\n\t\t}\r\n\t\treturn el;\r\n\t}\r\n\r\n\tYX.Util.event.extendOnOff = extendOnOff;\r\n\r\n\t/**\r\n\t * mouseTouchTrack\r\n\t * @param element\r\n\t * @param infoCallback\r\n\t */\r\n\tfunction mouseTouchTrack(element, infoCallback)\r\n\t{\r\n\t\tlet touchStartBeginTime = 0,\r\n\t\t\t\tlastEventType = '';\r\n\r\n\t\telement.onclick = trackEvent;\r\n\t\telement.ontouchstart = trackEvent;\r\n\t\telement.ontouchend = trackEvent;\r\n\t\telement.ontouchmove = trackEvent;\r\n\t\telement.onmousedown = trackEvent;\r\n\t\telement.onmouseenter = trackEvent;\r\n\t\telement.onmouseleave = trackEvent;\r\n\t\telement.onmousemove = trackEvent;\r\n\t\telement.onmouseout = trackEvent;\r\n\t\telement.onmouseover = trackEvent;\r\n\t\telement.onmouseup = trackEvent;\r\n\r\n\t\tfunction trackEvent(event)\r\n\t\t{\r\n\t\t\tif (event.type === \"touchstart\")\r\n\t\t\t{\r\n\t\t\t\ttouchStartBeginTime = Date.now();\r\n\t\t\t}\r\n\t\t\tif (event.type !== lastEventType)\r\n\t\t\t{\r\n\t\t\t\tinfoCallback = infoCallback ? infoCallback : console.log;\r\n\t\t\t\tinfoCallback(arguments, event.type, Date.now() - touchStartBeginTime);\r\n\r\n\t\t\t\tlastEventType = event.type;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tYX.Util.event.mouseTouchTrack = mouseTouchTrack;\r\n\r\n\t/********************************************************************************************************************/\r\n\r\n\tYX.Dictionary = function () {\r\n\t\tfunction Dictionary()\r\n\t\t{\r\n\t\t\tthis._size = 0;\r\n\t\t\tthis.dataStore = Object.create(null);\r\n\t\t}\r\n\r\n\t\tDictionary.prototype.isEmpty = function () {\r\n\t\t\treturn this._size === 0;\r\n\t\t};\r\n\r\n\t\tDictionary.prototype.size = function () {\r\n\t\t\treturn this._size;\r\n\t\t};\r\n\r\n\t\tDictionary.prototype.clear = function () {\r\n\t\t\tfor (let key in this.dataStore)\r\n\t\t\t{\r\n\t\t\t\tif (this.dataStore.hasOwnProperty(key))\r\n\t\t\t\t{\r\n\t\t\t\t\tdelete this.dataStore[key];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis._size = 0;\r\n\t\t};\r\n\r\n\t\tDictionary.prototype.add = function (key, value) {\r\n\t\t\tthis.dataStore[key] = value;\r\n\t\t\tthis._size++;\r\n\t\t};\r\n\r\n\t\tDictionary.prototype.find = function (key) {\r\n\t\t\treturn this.dataStore[key];\r\n\t\t};\r\n\r\n\t\tDictionary.prototype.count = function () {\r\n\t\t\tlet n = 0;\r\n\t\t\tfor (let key in this.dataStore)\r\n\t\t\t{\r\n\t\t\t\tif (this.dataStore.hasOwnProperty(key))\r\n\t\t\t\t{\r\n\t\t\t\t\tn++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn n;\r\n\t\t};\r\n\r\n\t\tDictionary.prototype.remove = function (key) {\r\n\t\t\tdelete this.dataStore[key];\r\n\t\t\tthis._size--;\r\n\t\t};\r\n\r\n\t\tDictionary.prototype.showAll = function () {\r\n\t\t\tfor (let key in this.dataStore)\r\n\t\t\t{\r\n\t\t\t\tif (this.dataStore.hasOwnProperty(key))\r\n\t\t\t\t{\r\n\t\t\t\t\tconsole.log(key + \"->\" + this.dataStore[key]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\treturn Dictionary;\r\n\t};\r\n\r\n\t/********************************************************************************************************************/\r\n\r\n\treturn YX;\r\n}));"
  ]
}