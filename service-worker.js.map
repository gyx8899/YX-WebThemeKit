{"version":3,"sources":["service-worker.es6"],"names":[],"mappings":";;AAAA,IAAI,aAAa,uBAAjB;AAAA,IACE,qBAAqB,CACpB,IADoB,EAEpB,mCAFoB,EAGpB,0BAHoB,CADvB;AAAA,IAME,mBAAmB,CAClB,oCADkB,CANrB;AAAA,IASE,iBAAiB,CAChB,oBADgB,EAEhB,kBAFgB,CATnB;;AAcA,KAAK,gBAAL,CAAsB,SAAtB,EAAiC,UAAU,KAAV,EAAiB;AACjD,SAAQ,GAAR,CAAY,0BAAZ;;AAEA;AACA,OAAM,SAAN,CACE,OAAO,IAAP,CAAY,UAAZ,EACG,IADH,CACQ;AAAA,SAAS,MAAM,MAAN,CAAa,kBAAb,CAAT;AAAA,EADR,EAEG,IAFH,CAEQ;AAAA,SAAM,KAAK,WAAL,EAAN;AAAA,EAFR,CADF;AAKA,CATD;;AAWA,KAAK,gBAAL,CAAsB,UAAtB,EAAkC,UAAU,KAAV,EAAiB;AAClD,SAAQ,GAAR,CAAY,wDAAZ;;AAEA,OAAM,SAAN,CACE,OAAO,IAAP,GAAc,IAAd,CAAmB,UAAU,UAAV,EAAsB;AACxC,SAAO,QAAQ,GAAR,CACL,WAAW,GAAX,CAAe,UAAU,SAAV,EAAqB;AACnC,OAAI,eAAe,OAAf,CAAuB,SAAvB,MAAsC,CAAC,CAA3C,EACA;AACC,WAAO,OAAO,MAAP,CAAc,SAAd,CAAP;AACA;AACD,GALD,CADK,CAAP;AAQA,EATD,EASG,IATH,CASQ;AAAA,SAAM,KAAK,OAAL,CAAa,KAAb,EAAN;AAAA,EATR,CADF;AAYA,CAfD;;AAiBA,KAAK,gBAAL,CAAsB,OAAtB,EAA+B,UAAU,KAAV,EAAiB;AAC/C,SAAQ,GAAR,CAAY,iCAAZ;;AAEA,OAAM,WAAN,CACE,OAAO,KAAP,CAAa,MAAM,OAAnB,EACG,IADH,CACQ,UAAU,QAAV,EAAoB;AACzB;AACA,SAAO,YACL,MAAM,MAAM,OAAN,CAAc,KAAd,EAAN,EAA6B,IAA7B,CAAkC,UAAU,QAAV,EAAoB;AACrD,OAAI,CAAC,QAAD,IAAa,SAAS,MAAT,KAAoB,GAAjC,IAAwC,SAAS,IAAT,KAAkB,OAA9D,EACA;AACC,WAAO,QAAP;AACA;AACD,OAAI,gBAAgB,SAAS,KAAT,EAApB;AACA,UAAO,IAAP,CAAY,UAAZ,EACG,IADH,CACQ,UAAU,KAAV,EAAiB;AACtB,UAAM,GAAN,CAAU,MAAM,OAAhB,EAAyB,aAAzB,EAAwC,IAAxC,CAA6C,YAAM;AAClD,YAAO,QAAP;AACA,KAFD;AAGA,IALH;AAMA,UAAO,QAAP;AACA,GAbD,CADF;AAeA,EAlBH,CADF;AAqBA,CAxBD;;AA0BA,KAAK,gBAAL,CAAsB,MAAtB,EAA8B,UAAU,KAAV,EAAiB;AAC9C,KAAI,QAAQ,oBAAZ;AAAA,KACE,OAAO,eADT;AAAA,KAEE,OAAO,yBAFT;AAAA,KAGE,MAAM,EAHR;AAIA,OAAM,SAAN,CACE,KAAK,YAAL,CAAkB,gBAAlB,CAAmC,KAAnC,EAA0C;AACzC,QAAM,IADmC;AAEzC,QAAM,IAFmC;AAGzC,OAAK;AAHoC,EAA1C,CADF;AAOA,CAZD","file":"service-worker.js","sourcesContent":["let CACHE_NAME = 'YX-WebThemeKit-180407',\r\n\t\turlsToCache_static = [\r\n\t\t\t'./',\r\n\t\t\t'./assets/img/apple-touch-icon.png',\r\n\t\t\t'./assets/img/favicon.png'\r\n\t\t],\r\n\t\turlsToCache_data = [\r\n\t\t\t'./assets/js/yx-theme-config.min.js'\r\n\t\t],\r\n\t\tcacheWhiteList = [\r\n\t\t\t'urlsToCache_static',\r\n\t\t\t'urlsToCache_data'\r\n\t\t];\r\n\r\nself.addEventListener('install', function (event) {\r\n\tconsole.log('ServiceWorker installed!');\r\n\r\n\t// Preform install steps\r\n\tevent.waitUntil(\r\n\t\t\tcaches.open(CACHE_NAME)\r\n\t\t\t\t\t.then(cache => cache.addAll(urlsToCache_static))\r\n\t\t\t\t\t.then(() => self.skipWaiting())\r\n\t);\r\n});\r\n\r\nself.addEventListener('activate', function (event) {\r\n\tconsole.log('ServiceWorker activate! Ready to start serving content');\r\n\r\n\tevent.waitUntil(\r\n\t\t\tcaches.keys().then(function (cacheNames) {\r\n\t\t\t\treturn Promise.all(\r\n\t\t\t\t\t\tcacheNames.map(function (cacheName) {\r\n\t\t\t\t\t\t\tif (cacheWhiteList.indexOf(cacheName) === -1)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\treturn caches.delete(cacheName);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t);\r\n\t\t\t}).then(() => self.clients.claim())\r\n\t);\r\n});\r\n\r\nself.addEventListener('fetch', function (event) {\r\n\tconsole.log('ServiceWorker fetch resources: ');\r\n\r\n\tevent.respondWith(\r\n\t\t\tcaches.match(event.request)\r\n\t\t\t\t\t.then(function (response) {\r\n\t\t\t\t\t\t// Cache hint, return response\r\n\t\t\t\t\t\treturn response ||\r\n\t\t\t\t\t\t\t\tfetch(event.request.clone()).then(function (response) {\r\n\t\t\t\t\t\t\t\t\tif (!response || response.status !== 200 || response.type !== 'basic')\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\treturn response;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tlet responseClone = response.clone();\r\n\t\t\t\t\t\t\t\t\tcaches.open(CACHE_NAME)\r\n\t\t\t\t\t\t\t\t\t\t\t.then(function (cache) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tcache.put(event.request, responseClone).then(() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn response;\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\treturn response;\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t})\r\n\t);\r\n});\r\n\r\nself.addEventListener('push', function (event) {\r\n\tlet title = 'Receive a message.',\r\n\t\t\tbody = 'message body!',\r\n\t\t\ticon = '/assets/img/favicon.png',\r\n\t\t\ttag = '';\r\n\tevent.waitUntil(\r\n\t\t\tself.registration.showNotification(title, {\r\n\t\t\t\tbody: body,\r\n\t\t\t\ticon: icon,\r\n\t\t\t\ttag: tag\r\n\t\t\t})\r\n\t);\r\n});"]}